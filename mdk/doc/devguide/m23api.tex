
\newpage\section{./data+scripts/packages/m23CommonInstallRoutines.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: Installatio routines shared among distributions.\\

\subsection{CIR\_rootInRamdiskOrExit}
\textbf{Description:} Checks, if root is stored on the ramdisk and exits the script, if not.\\

\subsection{CIR\_setDateAndTimeTemorarily}
\textbf{Description:} Sets the date and time by calling 'date' temporarily.\\

\subsection{CIR\_WorkaroundForMissingModulesDep}
\textbf{Description:} Workaround for missing modules.dep to disable the repeated showing of the "FATAL" error.\\

\subsection{CIR\_transferClientIP}
\textbf{Description:} Transfers the current IP of a m23shared client to the m23 server.\\

\subsection{CIR\_writeClientID}
\textbf{Description:} writes the client ID to /m23clientID\\
\textbf{Parameter:}
\begin{itemize}
\item clientParams: Associated array with the parameters of the client.
\end{itemize}

\subsection{CIR\_detectSCSI}
\textbf{Description:} detects SCSI controlers and loads the modules\\

\subsection{CIR\_waitForNextJob}
\textbf{Description:} waits one minute and tries to fetch the next job from the server and executes it\\

\subsection{CIR\_enableDropbear}
\textbf{Description:} sets up and starts dropbear SSH server\\

\newpage\section{./inc/assimilate.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: Contains functions for assimilation of clients\\

\subsection{ASSI\_showClientAddDialog}
\textbf{Description:} Shows a dialog for adding a client to assimilate.\\

\subsection{ASSI\_addClient}
\textbf{Description:} Adds needed data for assimilating a client.\\
\textbf{Parameter:}
\begin{itemize}
\item client: name of the client
\item ip: IP of the client
\item password: root password on Debian systems or combines user/root password on Ubuntu systems
\item ubuntuuser: name of the Ubuntu user or empty if a Debian system is meant.
\item clientUsesDynamicIP: if set to true, the client uses a dynamic IP address
\end{itemize}

\subsection{ASSI\_addUbuntuRoot}
\textbf{Description:} Enables the root account in Ubuntu if a Ubuntu installation is found.\\

\subsection{ASSI\_prepareClient}
\textbf{Description:} Prepares a client for assimilisation.\\

\newpage\section{./inc/autoTest.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: Functions for test automation.\\

\subsection{AUTOTEST\_createLDAPUserAndGroup}
\textbf{Description:} Creates an LDAP user and group on the local LDAD server and shows an info message, if creation was sucessfully or a warning with the direct message from the LDAP server.\\

\subsection{AUTOTEST\_isDebug}
\textbf{Description:} Checks, if autoTest is in debug mode (constant AT\_debug is set).\\
\textbf{Returns:}
\begin{itemize}
\item true, if autoTest is in debug mode, otherwise false.
\end{itemize}

\subsection{AUTOTEST\_sshVMServer}
\textbf{Description:} Executes commands on virtualisation server.\\
\textbf{Parameter:}
\begin{itemize}
\item cmds: The commands to execute on the virtualisation server.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The output of the commands.
\end{itemize}

\subsection{AUTOTEST\_sshTunnelOverServer}
\textbf{Description:} Executes commands on a client indirectly, that is reachable over an m23 server only. SSH connections require root user on the m23 server and the client.\\
\textbf{Parameter:}
\begin{itemize}
\item serverNameOrIP: The name of the m23 server or its IP.
\item clientNameOrIP: The name of the client or its IP.
\item cmds: The commands to execute on the client 
\item password: Parameter to set the SSH password or NULL to use SSH keys only.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The output of the client's screen.
\end{itemize}

\subsection{AUTOTEST\_getSeleniumSafeString}
\textbf{Description:} Replaces characters in a string to make it safe for usage in Selenium and SimpleXMLElement.\\
\textbf{Parameter:}
\begin{itemize}
\item in: Input string. eg. "\&page=fdisk" becomes "%26page=fdisk"
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Safe made string.
\end{itemize}

\subsection{AUTOTEST\_getSeleniumSafeString}
\textbf{Description:} Urldecodes characters that were made it safe for usage in Selenium and SimpleXMLElement.\\
\textbf{Parameter:}
\begin{itemize}
\item in: Input string. eg. "%26page=fdisk" becomes "\&page=fdisk"
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Unsafe made string.
\end{itemize}

\subsection{AUTOTEST\_VM\_hostSanityCheck}
\textbf{Description:} Checks the existence of tools on the VM host.\\
\textbf{Returns:}
\begin{itemize}
\item true or dies with an error message.
\end{itemize}

\subsection{AUTOTEST\_replaceConstantsInString}
\textbf{Description:} Searches for variable declarations in a string and replaces them with the values of according constants.\\
\textbf{Parameter:}
\begin{itemize}
\item in: Input string. eg. "name=\${VM\_NAME}" may become "name=debianVM"
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The input string with replaced variable declarations.
\end{itemize}

\subsection{AUTOTEST\_SEL\_getURLByMatch}
\textbf{Description:} Searches for one URL in the given HTML code that must contain all search terms.\\
\textbf{Parameter:}
\begin{itemize}
\item htmlsource: The HTML code.
\item searchA: Array with the search terms.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The one matching URL or NULL if there is none matching.
\end{itemize}

\subsection{AUTOTEST\_getKey}
\textbf{Description:} Generates the needed scan codes to produce a given character.\\
\textbf{Parameter:}
\begin{itemize}
\item charIn: Input character.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Needed scan codes to produce a given character.
\end{itemize}

\subsection{AUTOTEST\_calcScancodes}
\textbf{Description:} Converts an input string that may contain special keys into scancodes (e.g. for usage with VirtualBox)\\
\textbf{Parameter:}
\begin{itemize}
\item in: Input string with normal and special keys.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Scancodes that represent the input string.
\end{itemize}

\subsection{AUTOTEST\_keyAndRelease}
\textbf{Description:} Generates (Shift press,) key, key release (and Shift release) codes.\\
\textbf{Parameter:}
\begin{itemize}
\item keyCode: Key (scan) code.
\item pressShift: true, when Shift should be pressed.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item (Shift press,) key, key release (and Shift release)
\end{itemize}

\subsection{AUTOTEST\_VM\_create}
\textbf{Description:} Creates a new VM with virtual hard drive in VirtualBox.\\
\textbf{Parameter:}
\begin{itemize}
\item vmName: Name of the VM.
\item diskSize: Size of the virtual HD in MB.
\item ramSize: Size of RAM in MB.
\item VMCreationMessage: Variable where the VirtualBox (error) messages will be written to.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, when the creation was successfully, otherwise false.
\end{itemize}

\subsection{AUTOTEST\_VM\_enableCapture}
\textbf{Description:} Enables capturing the screen of a VM to a movie file.\\
\textbf{Parameter:}
\begin{itemize}
\item vmName: Name of the VM.
\item movieFile: File to store the capturing in.
\item VMenableCaptureMessage: Variable where the VirtualBox (error) messages will be written to.
\end{itemize}

\subsection{AUTOTEST\_VM\_delete}
\textbf{Description:} Deletes a VM and its virtual hard drive from VirtualBox.\\
\textbf{Parameter:}
\begin{itemize}
\item vmName: Name of the VM.
\item VMDeletionMessage: Variable where the VirtualBox (error) messages will be written to.
\end{itemize}

\subsection{AUTOTEST\_VM\_export\_m23ServerISO\_as\_OVA}
\textbf{Description:} Exports a VM, that was installed via the m23 server installation ISO, to OVA file.\\
\textbf{Parameter:}
\begin{itemize}
\item vmName: Name of the VM.
\item \$VMExportMessage: Variable where the VirtualBox (error) messages will be written to.
\end{itemize}

\subsection{AUTOTEST\_VM\_stop}
\textbf{Description:} Stops a VM.\\
\textbf{Parameter:}
\begin{itemize}
\item vmName: Name of the VM.
\item VMStopMessage: Variable where the VirtualBox (error) messages will be written to.
\end{itemize}

\subsection{AUTOTEST\_VM\_start}
\textbf{Description:} Starts a virtual machine in an existing X session.\\
\textbf{Parameter:}
\begin{itemize}
\item VMStartMessage: Variable where the VirtualBox (error) messages will be written to.
\item vmName: Name of the VM.
\end{itemize}

\subsection{AUTOTEST\_VM\_insertBootISO}
\textbf{Description:} Inserts a bootable ISO into a VM.\\
\textbf{Parameter:}
\begin{itemize}
\item vmName: Name of the VM.
\item iso: ISO file with full path.
\item VMinsertBootISOMessage: Variable where the VirtualBox (error) messages will be written to.
\end{itemize}

\subsection{AUTOTEST\_VM\_rebootFromHD}
\textbf{Description:} Stops the VM, disables booting from ISO and enables HDD booting and starts the VM again.\\
\textbf{Parameter:}
\begin{itemize}
\item vmName: Name of the VM.
\end{itemize}

\subsection{AUTOTEST\_VM\_restoreSnapshot}
\textbf{Description:} Stops a VM and restores a snapshot.\\
\textbf{Parameter:}
\begin{itemize}
\item vmName: Name of the VM.
\item snapshotName: Name of the snapshot to restore.
\end{itemize}

\subsection{AUTOTEST\_executePHPFunction}
\textbf{Description:} Executes a PHP function with (optional) parameters.\\
\textbf{Parameter:}
\begin{itemize}
\item vmName: Name of the VM.
\item params: Parameter string with function name as 1st part and its parameters concenated by "°".
\end{itemize}

\subsection{AUTOTEST\_VM\_keyboardWrite}
\textbf{Description:} Emulates the keystrokes into a VM.\\
\textbf{Parameter:}
\begin{itemize}
\item vmName: Name of the VM.
\item toType: Input string with normal and special keys.
\end{itemize}

\subsection{AUTOTEST\_VM\_ocrScreen}
\textbf{Description:} Uses gocr to convert the contents of the VirtualBox VM display to text.\\
\textbf{Parameter:}
\begin{itemize}
\item vmName: Name of the VM.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The recognised text of the display.
\end{itemize}

\subsection{AUTOTEST\_VM\_screenPixelDiff}
\textbf{Description:} Compares the VM's screen with a previously saved screen and gives back the amount of changed pixels.\\
\textbf{Parameter:}
\begin{itemize}
\item vmName: Name of the VM.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Amount of changed pixels (or 99999999999 if there is no previously saved screen).
\end{itemize}

\subsection{AUTOTEST\_VM\_getStatus}
\textbf{Description:} Parses the complete status of a VM.\\
\textbf{Parameter:}
\begin{itemize}
\item vmName: Name of the VM.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Array with the current state of the VM.
\end{itemize}

\subsection{AUTOTEST\_VM\_isRunning}
\textbf{Description:} Checks if a VM is switched on.\\
\textbf{Parameter:}
\begin{itemize}
\item vmName: Name of the VM.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, when the VM is powered on, otherwise false.
\end{itemize}

\subsection{AUTOTEST\_SELENIUM\_exec}
\textbf{Description:} Runs a command on the HTTP2SeleniumBridge.\\
\textbf{Parameter:}
\begin{itemize}
\item bridgeURL: URL to the HTTP2SeleniumBridge server (eg. http://192.168.1.153:23080)
\item cmd: The command to execute (eg. typeInto)
\item ID or name: ID or name of the HTML element to 
\item additional parameters: Additional parameters with variable name first, value second.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item HTTP output of the HTTP2SeleniumBridge call.
\end{itemize}

\subsection{AUTOTEST\_SELENIUM\_open}
\textbf{Description:} Opens a website on the HTTP2SeleniumBridge.\\
\textbf{Parameter:}
\begin{itemize}
\item url: The URL to open (with "http(s)://" at the beginning and possible "$<$user$>$:$<$password$>$@"
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item HTTP output of the HTTP2SeleniumBridge call.
\end{itemize}

\subsection{AUTOTEST\_SELENIUM\_selectFromID}
\textbf{Description:} Selects an option from a selection choosen by selection ID.\\
\textbf{Parameter:}
\begin{itemize}
\item ID: ID of the selection
\item val: The value of the option to select
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item HTTP output of the HTTP2SeleniumBridge call.
\end{itemize}

\subsection{AUTOTEST\_SELENIUM\_selectFromName}
\textbf{Description:} Selects an option from a selection choosen by selection name.\\
\textbf{Parameter:}
\begin{itemize}
\item name: Name of the selection
\item val: The value of the option to select
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item HTTP output of the HTTP2SeleniumBridge call.
\end{itemize}

\subsection{AUTOTEST\_SELENIUM\_deselectFromID}
\textbf{Description:} Deselects an option from a selection choosen by selection ID.\\
\textbf{Parameter:}
\begin{itemize}
\item ID: ID of the selection
\item val: The value of the option to deselect
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item HTTP output of the HTTP2SeleniumBridge call.
\end{itemize}

\subsection{AUTOTEST\_SELENIUM\_deselectFromName}
\textbf{Description:} Deselects an option from a selection choosen by selection name.\\
\textbf{Parameter:}
\begin{itemize}
\item name: Name of the selection
\item val: The value of the option to deselect
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item HTTP output of the HTTP2SeleniumBridge call.
\end{itemize}

\subsection{AUTOTEST\_SELENIUM\_clickButtonID}
\textbf{Description:} Clicks a button choosen by button ID.\\
\textbf{Parameter:}
\begin{itemize}
\item ID: ID of the button
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item HTTP output of the HTTP2SeleniumBridge call.
\end{itemize}

\subsection{AUTOTEST\_SELENIUM\_clickButtonName}
\textbf{Description:} Clicks a button choosen by button name.\\
\textbf{Parameter:}
\begin{itemize}
\item name: Name of the button
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item HTTP output of the HTTP2SeleniumBridge call.
\end{itemize}

\subsection{AUTOTEST\_SELENIUM\_typeIntoID}
\textbf{Description:} Types into an editline or textarea choosen by its ID.\\
\textbf{Parameter:}
\begin{itemize}
\item ID: ID of the editline or textarea
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item HTTP output of the HTTP2SeleniumBridge call.
\end{itemize}

\subsection{AUTOTEST\_SELENIUM\_typeIntoName}
\textbf{Description:} Types into an editline or textarea choosen by its name.\\
\textbf{Parameter:}
\begin{itemize}
\item name: Name of the editline or textarea
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item HTTP output of the HTTP2SeleniumBridge call.
\end{itemize}

\subsection{AUTOTEST\_SELENIUM\_setCheckID}
\textbf{Description:} (Un)Ticks a checkbox choosen by its ID.\\
\textbf{Parameter:}
\begin{itemize}
\item ID: ID of the checkbox
\item checked: true for activating the checkbox, false for unticking it
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item HTTP output of the HTTP2SeleniumBridge call.
\end{itemize}

\subsection{AUTOTEST\_SELENIUM\_setCheckName}
\textbf{Description:} (Un)Ticks a checkbox choosen by its name.\\
\textbf{Parameter:}
\begin{itemize}
\item name: Name of the checkbox
\item checked: true for activating the checkbox, false for unticking it
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item HTTP output of the HTTP2SeleniumBridge call.
\end{itemize}

\subsection{AUTOTEST\_SELENIUM\_selectRadioID}
\textbf{Description:} Selects a radio button choosen by its ID.\\
\textbf{Parameter:}
\begin{itemize}
\item ID: ID of the radio button
\item val: The value of the radio button to select
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item HTTP output of the HTTP2SeleniumBridge call.
\end{itemize}

\subsection{AUTOTEST\_SELENIUM\_selectRadioName}
\textbf{Description:} Selects a radio button choosen by its name.\\
\textbf{Parameter:}
\begin{itemize}
\item name: Name of the radio button
\item val: The value of the radio button to select
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item HTTP output of the HTTP2SeleniumBridge call.
\end{itemize}

\subsection{AUTOTEST\_SELENIUM\_getsource}
\textbf{Description:} Gets the current page source of the selenium browser into the output page.\\
\textbf{Returns:}
\begin{itemize}
\item Current page source
\end{itemize}

\subsection{AUTOTEST\_SELENIUM\_close}
\textbf{Description:} Closes the browser window\\
\textbf{Returns:}
\begin{itemize}
\item HTTP output of the HTTP2SeleniumBridge call.
\end{itemize}

\subsection{AUTOTEST\_SELENIUM\_quit}
\textbf{Description:} Closes the browser and webserver and quits HTTP2SeleniumBridge.\\
\textbf{Returns:}
\begin{itemize}
\item HTTP output of the HTTP2SeleniumBridge call.
\end{itemize}

\newpage\section{./inc/backup.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: functions for controling BackupPC\\

\subsection{BACKUP\_showClientSettings}
\textbf{Description:} Shows the dialog for starting and configuring BackupPC for a special client\\
\textbf{Parameter:}
\begin{itemize}
\item client: name of the client
\end{itemize}

\subsection{BACKUP\_getBackupDirs}
\textbf{Description:} Returns the comma seperated list of directories that should be backupped on the client\\
\textbf{Parameter:}
\begin{itemize}
\item client: name of the client
\end{itemize}

\subsection{BACKUP\_saveBackupDirs}
\textbf{Description:} Saves the list of backup diretories oo the client in the BackupPC file\\
\textbf{Parameter:}
\begin{itemize}
\item client: name of the client
\item dirs: comma seperated list of all directories to backup on the client
\end{itemize}

\subsection{BACKUP\_getAdmins}
\textbf{Description:} Stores informations about known administrators in the BackupPC configuration file in variables.\\
\textbf{Parameter:}
\begin{itemize}
\item adminLine: The current line in config.pl that stores the dsmin informations.
\item admins: Array with all admins.
\end{itemize}

\subsection{BACKUP\_addAdmin}
\textbf{Description:} Adds an admin to the config.pl configuration file of BackupPC.\\
\textbf{Parameter:}
\begin{itemize}
\item admin: Name of the admin.
\end{itemize}

\subsection{BACKUP\_delAdmin}
\textbf{Description:} Deletes an admin from the config.pl configuration file of BackupPC.\\
\textbf{Parameter:}
\begin{itemize}
\item admin: Name of the admin.
\end{itemize}

\newpage\section{./inc/bittorrent.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: Funtions for distributing files via BitTorrent.\\

\subsection{BT\_dlFile}
\textbf{Description:} Starts a Bittorrent download.\\
\textbf{Parameter:}
\begin{itemize}
\item torrentFile: Name of the torrent file under BT\_DIR.
\item dest: Path on the client where to 
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : true, when the torrent file is present otherwise false.
\end{itemize}

\subsection{BT\_status}
\textbf{Description:} Shows status information about the (maybe) running Bittorrent tracker and initial client.\\
\textbf{Parameter:}
\begin{itemize}
\item return: If set to true, the result will be returned otherwise shown.
\item nl2br: If set to true, the ASCII line breaks will be converted to HTML line breaks.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : Status information, if \$return == true.
\end{itemize}

\subsection{BT\_checkSoftware}
\textbf{Description:} Checks, if a Bittorrent software (client + tracker) is installed.\\
\textbf{Parameter:}
\begin{itemize}
\item user: user the command should be run under.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : true when the command is available otherwise false.
\end{itemize}

\subsection{BT\_stopService}
\textbf{Description:} Stops a Bittorrent service.\\
\textbf{Parameter:}
\begin{itemize}
\item job: Name of the job.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : true, when the service could be stoped otherwise false.
\end{itemize}

\subsection{BT\_startService}
\textbf{Description:} Starts a Bittorrent service.\\
\textbf{Parameter:}
\begin{itemize}
\item job: Name of the job.
\item cmds: BASH commands to execute.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : true, when the service could did not run before otherwise false.
\end{itemize}

\subsection{BT\_stopTracker}
\textbf{Description:} Stops the Bittorrent tracker.\\

\subsection{BT\_startTracker}
\textbf{Description:} Starts the tracker.\\

\subsection{BT\_restartTracker}
\textbf{Description:} Restarts the tracker.\\

\subsection{BT\_autostart}
\textbf{Description:} Starts Bittorrent tracker and initial client when there are .torrent files in the share directory or stops when there are none.\\

\subsection{BT\_updateWhitelist}
\textbf{Description:} Updates the white list with all allowed torrent files on the tracker.\\

\subsection{BT\_createTorrent}
\textbf{Description:} Creates a torrent file and adds it to the white list.\\
\textbf{Parameter:}
\begin{itemize}
\item fileToShare: The file (in the Bittorrent share directory) to create a torrent file for.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : true, when the torrent file was created successfully otherwise false.
\end{itemize}

\subsection{BT\_startClient}
\textbf{Description:} Starts the Bittorrent client.\\

\subsection{BT\_stopClient}
\textbf{Description:} Stops the Bittorrent client.\\

\subsection{BT\_restartClient}
\textbf{Description:} Restarts the client.\\

\newpage\section{./inc/burn.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: functions for burning CDs\\

\subsection{BURN\_listBurners}
\textbf{Description:} returnes a selection of the available burners\\
\textbf{Parameter:}
\begin{itemize}
\item first: entry that should be shown first
\end{itemize}

\subsection{BURN\_getDevice}
\textbf{Description:} returnes the device name for cdrecord from a specific burner\\
\textbf{Parameter:}
\begin{itemize}
\item burner: device name and burner name
\end{itemize}

\subsection{BURN\_blank}
\textbf{Description:} blanks a CD-RW\\
\textbf{Parameter:}
\begin{itemize}
\item dev: device name of the burner
\item method: blanking method (fast, all);
\end{itemize}

\subsection{BURN\_burn}
\textbf{Description:} burns an ISO\\
\textbf{Parameter:}
\begin{itemize}
\item dev: device name of the burner
\item iso: name of the ISO file
\item speed: the write speed
\end{itemize}

\subsection{BURN\_getStatus}
\textbf{Description:} returns the status of the burner (BURNSTATE\_IDLE, BURNSTATE\_BLANK, BURNSTATE\_BURN)\\

\subsection{BURN\_showLog}
\textbf{Description:} shows a status info window about the current burner state\\

\subsection{BURN\_checkISO}
\textbf{Description:} checks, if the client ISO exist and create i otherwise\\
\textbf{Parameter:}
\begin{itemize}
\item arch: Architecture of the ISO (32 bits = i386, 64 bits = amd64).
\end{itemize}

\subsection{BURN\_getISOSize}
\textbf{Description:} Gets the size of an ISO.\\
\textbf{Parameter:}
\begin{itemize}
\item arch: Architecture of the ISO (32 bits = i386, 64 bits = amd64).
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : Size of the ISO or error message, if the ISO could not be found.
\end{itemize}

\newpage\section{./inc/capture.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: routines storing and loading POST and GET values in forms\\

\subsection{CAPTURE\_getKeys}
\textbf{Description:} gets all POST or GET variables and returnes all keys and values as an assiciative array. Values of buttons are filtered out.\\
\textbf{Parameter:}
\begin{itemize}
\item var: set to \$\_POST or \$\_GET
\item allowBut: set to true, if button should be captured too
\end{itemize}

\subsection{CAPTURE\_captureAll}
\textbf{Description:} stores all POST and GET variables to the DB\\
\textbf{Parameter:}
\begin{itemize}
\item step: number of the step, this is used, if there are "subpages" of a page e.g. clientcdistr.php
\item comment: comment to add to the entry
\item allowBut: set to true, if button should be captured too
\end{itemize}

\subsection{CAPTURE\_load}
\textbf{Description:} loads all POST and GET variables for a special page from the DB to emulate the user input while makeing a screenshot\\
\textbf{Parameter:}
\begin{itemize}
\item GET[page]: has to be set to the name of the page
\item GET[captureLoad]: has to be set to "1" to activate loading of the saved values
\end{itemize}

\subsection{CAPTURE\_deActivate}
\textbf{Description:} (de)activates capturing the POST, GET values\\
\textbf{Parameter:}
\begin{itemize}
\item activate: true, if you want to activate capturing. otherwise false
\end{itemize}

\subsection{CAPTURE\_isActive}
\textbf{Description:} returnes true, if capturing of POST, GET values is activated. otherwise false\\

\subsection{CAPTURE\_captureImg}
\textbf{Description:} returnes the status image URL of the current capture state\\

\subsection{CAPTURE\_toggle}
\textbf{Description:} toggles the current capture state\\

\subsection{CAPTURE\_showMessageBox}
\textbf{Description:} shows a message box, if capturing is enabled\\

\subsection{CAPTURE\_showEntries}
\textbf{Description:} shows a table of the captured pages with the possibility to delete entries.\\

\subsection{CAPTURE\_deleteById}
\textbf{Description:} deletes a capture entry.\\
\textbf{Parameter:}
\begin{itemize}
\item id: the id of the capture entry to delete
\end{itemize}

\subsection{CAPTURE\_showMarker}
\textbf{Description:} Shows a new column with a marker that is used for autodetecting the screenshot size by khtml2png.\\

\subsection{CAPTURE\_showTableWith}
\textbf{Description:} Adds a width element if in captureLoad mode.\\

\newpage\section{./inc/CAutoTest.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: Class for test automation.\\

\subsection{CAutoTest::\_\_construct}
\textbf{Description:} Constructor for new CAutoTest objects.\\
\textbf{Parameter:}
\begin{itemize}
\item xmlFile: Name of the XML file to open.
\item argv: Arguments from the command line (without the script name as 0th element) as array
\end{itemize}

\subsection{CAutoTest::\_\_destruct}
\textbf{Description:} Destructor for this CAutoTest object.\\

\subsection{CAutoTest::internalVariablesToConstants}
\textbf{Description:} Maps internal variables to constants (for backward compatibility).\\

\subsection{CAutoTest::importEnvironmentVariables}
\textbf{Description:} Imports environment variables starting with 'AT\_' into the runtime variables array.\\

\subsection{CAutoTest::loadXMLFile}
\textbf{Description:} Loads an XML file, replaces problematic characters and includes other files.\\
\textbf{Parameter:}
\begin{itemize}
\item xmlFile: Name of the XML file to open.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item SimpleXMLElement object with the loaded XML file.
\end{itemize}

\subsection{CAutoTest::readSettings}
\textbf{Description:} Reads basic settings from settings.m23test and sets them as constants.\\

\subsection{CAutoTest::internalValuesFromXML}
\textbf{Description:} Reads the variables section of an XML file and imports the variables into the array with runtime variables.\\
\textbf{Parameter:}
\begin{itemize}
\item xmlO: Prased XML structure pointing to the trigger.
\end{itemize}

\subsection{CAutoTest::VMCreate}
\textbf{Description:} Creates a new VM with virtual hard drive in VirtualBox and (optionally) inserts a bootable ISO into a VM.\\

\subsection{CAutoTest::VMStop}
\textbf{Description:} Stops a virtual machine.\\

\subsection{CAutoTest::VMStart}
\textbf{Description:} Starts a virtual machine in an existing X session.\\

\subsection{CAutoTest::VMRestoreSnapshot}
\textbf{Description:} Stops a VM and restores a snapshot.\\
\textbf{Parameter:}
\begin{itemize}
\item snapshotName: Name of the snapshot to restore.
\end{itemize}

\subsection{CAutoTest::VMexportm23ServerISOasOVA}
\textbf{Description:} Exports a VM, that was installed via the m23 server installation ISO, to OVA file.\\

\subsection{CAutoTest::getISO}
\textbf{Description:} Get the filename and path to the ISO image for booting.\\
\textbf{Returns:}
\begin{itemize}
\item Filename and path to the ISO image for booting or NULL, if no ISO is used.
\end{itemize}

\subsection{CAutoTest::isVM}
\textbf{Description:} Check, if the test should be run in a VM.\\
\textbf{Returns:}
\begin{itemize}
\item true, when the test should be run in a VM, otherwise false.
\end{itemize}

\subsection{CAutoTest::isXMLTEST}
\textbf{Description:} Check, if the only the XML should be parsed.\\
\textbf{Returns:}
\begin{itemize}
\item true, when the test should be run in a VM, otherwise false.
\end{itemize}

\subsection{CAutoTest::getMovieFileName}
\textbf{Description:} Get the movie file name for capturing the VM's screen.\\
\textbf{Returns:}
\begin{itemize}
\item Movie file name (with full path) for capturing the VM's screen.
\end{itemize}

\subsection{CAutoTest::getLogFileName}
\textbf{Description:} Get the file name for the log file.\\
\textbf{Returns:}
\begin{itemize}
\item Log file name.
\end{itemize}

\subsection{CAutoTest::addToLogFile}
\textbf{Description:} Appends lines to the log file.\\
\textbf{Parameter:}
\begin{itemize}
\item lines: The lines to add.
\end{itemize}

\subsection{CAutoTest::getTimestampString}
\textbf{Description:} Returns the date and time in human readable form.\\
\textbf{Returns:}
\begin{itemize}
\item Date and time in human readable form.
\end{itemize}

\subsection{CAutoTest::setTriggered}
\textbf{Description:} Sets the trigger state ofthe current sequence event.\\
\textbf{Parameter:}
\begin{itemize}
\item triggered: true, when the current sequence event was triggered, otherwise false.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, when the current sequence event was triggered.
\end{itemize}

\subsection{CAutoTest::isTriggered}
\textbf{Description:} Checks, if the current sequence event was triggered.\\
\textbf{Returns:}
\begin{itemize}
\item true, when the current sequence event was triggered.
\end{itemize}

\subsection{CAutoTest::setTimeout}
\textbf{Description:} Sets the timeout for the current sequence element.\\

\subsection{CAutoTest::setVMScreenChangeIntervall}
\textbf{Description:} Sets the time to wait (in seconds) between making two screenshots and checking for changes.\\

\subsection{CAutoTest::checkVMScreenChange}
\textbf{Description:} Makes another screenshot and compares it with the previous, if the waiting time is over. In case that too less pixels have been changed a warning is logged and shown.\\

\subsection{CAutoTest::decTimeout}
\textbf{Description:} Decrements the remaining time for the timeout.\\

\subsection{CAutoTest::addToSequence}
\textbf{Description:} Adds an element to the sequence.\\
\textbf{Parameter:}
\begin{itemize}
\item triggerType: Type of the trigger (CAutoTest::TRIGGER\_*) or the type event, that should happen to begin with the given element of the sequence.
\item triggerParam: Parameter for the trigger (e.g. string that should be read from the screen when in CAutoTest::TRIGGER\_OCR mode).
\item answersA: Associative array with the answers and parameters.
\item execType: Type of action (CAutoTest::EXEC\_*), that will be executed when the trigger is hit.
\item execParam: Parameter for the action (e.g. keys to press, when in CAutoTest::EXEC\_KEY mode).
\item execAttributes: Additional attributes (parameters) (eg. name/ID for Selenium calls)
\item timeout: Time to wait (in seconds) until the element of sequence will become a failure.
\item description: Description for the test.
\item triggerAttributes: Trigger attribute(s). Can hold additional parameters. (Result is written to this pointer)
\item runIf: Value of the runIf attribute.
\item vmScreenChangeIntervall: Time to wait (in seconds) between making two screenshots and checking for changes.
\end{itemize}

\subsection{CAutoTest::matchArray}
\textbf{Description:} Checks, if the search text is found in one of the texts contained in the array.\\
\textbf{Parameter:}
\begin{itemize}
\item search: Text to search in the array elements.
\item array: Array with texts as element values.
\end{itemize}

\subsection{CAutoTest::getAnswersA}
\textbf{Description:} Returns the array with the answers of the current sequence element.\\
\textbf{Returns:}
\begin{itemize}
\item Array with the answers of the current sequence element.
\end{itemize}

\subsection{CAutoTest::getTriggerTypes}
\textbf{Description:} Returns the trigger type of the current sequence element.\\
\textbf{Returns:}
\begin{itemize}
\item Trigger type of the current sequence element.
\end{itemize}

\subsection{CAutoTest::getTriggerAttributes}
\textbf{Description:} Returns the attributes (additional parameters) for execution of the current sequence element.\\
\textbf{Returns:}
\begin{itemize}
\item Attributes (additional parameters) for execution of the current sequence element.
\end{itemize}

\subsection{CAutoTest::getTriggerParams}
\textbf{Description:} Returns the trigger parameter of the current sequence element.\\
\textbf{Returns:}
\begin{itemize}
\item Trigger parameter of the current sequence element.
\end{itemize}

\subsection{CAutoTest::getExecTypes}
\textbf{Description:} Returns the type of execution of the current sequence element.\\
\textbf{Returns:}
\begin{itemize}
\item Type of execution of the current sequence element.
\end{itemize}

\subsection{CAutoTest::getExecParams}
\textbf{Description:} Returns the parameter for execution of the current sequence element.\\
\textbf{Returns:}
\begin{itemize}
\item Parameter for execution of the current sequence element.
\end{itemize}

\subsection{CAutoTest::getExecAttributes}
\textbf{Description:} Returns the attributes (additional parameters) for execution of the current sequence element.\\
\textbf{Returns:}
\begin{itemize}
\item Attributes (additional parameters) for execution of the current sequence element.
\end{itemize}

\subsection{CAutoTest::checkTriggerResult}
\textbf{Description:} Checks, if the result (e.g. from AUTOTEST\_VM\_ocrScreen) is found in the good, warn or bad array and executes the matching element finish handler.\\

\subsection{CAutoTest::isAnswerFoundInTriggerResult}
\textbf{Description:} Checks, if a trigger result contains an answer.\\
\textbf{Parameter:}
\begin{itemize}
\item triggerResult: A text (eg. extracted by OCR or from HTML source) that may contain answers.
\item answer: A normal string or an \$I18N\_ variable. In case of a variable all translations will be searched in the trigger result. If it begins with "!", the answer should NOT be found in the result.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the answer (or its translation) was (NOT) found in the trigger result.
\end{itemize}

\subsection{CAutoTest::executePHPFunction}
\textbf{Description:} Executes a PHP function with (optional) parameters.\\
\textbf{Parameter:}
\begin{itemize}
\item params: Parameter string with function name as 1st part and its parameters concenated by "°".
\end{itemize}

\subsection{CAutoTest::executeTriggerAction}
\textbf{Description:} Executes the action of the current sequence element.\\

\subsection{CAutoTest::waitForTrigger}
\textbf{Description:} Waits for a trigger event, to execute the action.\\

\subsection{CAutoTest::getCurElement}
\textbf{Description:} Returns the current sequence element.\\
\textbf{Returns:}
\begin{itemize}
\item Trigger type of the current sequence element.
\end{itemize}

\subsection{CAutoTest::nextCurElement}
\textbf{Description:} Increments the current sequence element number.\\

\subsection{CAutoTest::isConsecutiveIdenticalMessage}
\textbf{Description:} Checks, if an identical message was assigned in the last call.\\
\textbf{Parameter:}
\begin{itemize}
\item msg: Message to check.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if an identical message was assigned in the last call, otherwise false.
\end{itemize}

\subsection{CAutoTest::showAndLogMessage}
\textbf{Description:} Shows a message and logs it to the log file.\\
\textbf{Parameter:}
\begin{itemize}
\item msg: Message to show in the console and the log file.
\item prefix: A prefix show before the message to indicate the type of the message.
\item ignoreConsecutiveIdenticalMessages: If set to true, consecutive identical messages are not given shown or logged, but 
\end{itemize}

\subsection{CAutoTest::debugPrint}
\textbf{Description:} Shows a message (, array or object in human readable form) and logs it to the log file, if autoTest is in debug mode.\\
\textbf{Parameter:}
\begin{itemize}
\item msg: Message (, array or object in human readable form) to show in the console and the log file.
\item prefix: A prefix show before the message to indicate the type of the message.
\end{itemize}

\subsection{CAutoTest::isDebug}
\textbf{Description:} Checks, if autoTest is in debug mode (variable AT\_debug is set).\\
\textbf{Returns:}
\begin{itemize}
\item true, if autoTest is in debug mode (variable AT\_debug is set), otherwise false.
\end{itemize}

\subsection{CAutoTest::getStatusDescriptionInBraces}
\textbf{Description:} Returns a status string with optional description in braces.\\
\textbf{Parameter:}
\begin{itemize}
\item status: The status.
\item description: Optional description.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Status string with optional description in braces.
\end{itemize}

\subsection{CAutoTest::evaluateRunIf}
\textbf{Description:} Checks, if the condition of the runIf attribute is met.\\
\textbf{Returns:}
\begin{itemize}
\item true, if the condition of the runIf attribute is met, otherwise false.
\end{itemize}

\subsection{CAutoTest::evaluateSetVar}
\textbf{Description:} Parses the value of an "setVar" attribute from an aarray with information about the answer and sets it to the runtime variables array, if it seems to be valid.\\

\subsection{CAutoTest::elemGood}
\textbf{Description:} The current sequence elements was finished sucessfully.\\
\textbf{Parameter:}
\begin{itemize}
\item answer: Array with information about the answer.
\end{itemize}

\subsection{CAutoTest::elemWarn}
\textbf{Description:} The current sequence elements was finished with a warning.\\
\textbf{Parameter:}
\begin{itemize}
\item answer: Array with information about the answer.
\end{itemize}

\subsection{CAutoTest::elemGoodOrWarn}
\textbf{Description:} The current sequence elements was finished sucessfully or with a warning. The result is shown and written to the log file.\\
\textbf{Parameter:}
\begin{itemize}
\item msg: Message to show in the console and the log file.
\item prefix: A prefix show before the message to indicate the type of the message.
\end{itemize}

\subsection{CAutoTest::elemBad}
\textbf{Description:} There was an error in the current sequence element, so the execution must bestopped.\\
\textbf{Parameter:}
\begin{itemize}
\item answer: Array with information about the answer.
\end{itemize}

\subsection{CAutoTest::setVariableFromXML}
\textbf{Description:} Returns the input value when it is not NULL or exists the script with an error message.\\
\textbf{Parameter:}
\begin{itemize}
\item val: Input value.
\item descr: Description for the value.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Input value when it is not NULL or exists the script with an error message.
\end{itemize}

\subsection{CAutoTest::triggerTypeToConstant}
\textbf{Description:} Tries to convert the trigger type (string) to a trigger type constant.\\
\textbf{Parameter:}
\begin{itemize}
\item type: Trigger type (string).
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Trigger type constant.
\end{itemize}

\subsection{CAutoTest::parseTriggerFromXML}
\textbf{Description:} Parses the trigger and its type from the XML.\\
\textbf{Parameter:}
\begin{itemize}
\item xmlO: Prased XML structure pointing to the trigger.
\item testDescription: Description of the test.
\item testTrigger: Trigger parameter. (Result is written to this pointer)
\item testTriggerType: Trigger type. (Result is written to this pointer)
\item testTriggerAttributes: Trigger attribute(s). Can hold additional parameters. (Result is written to this pointer)
\end{itemize}

\subsection{CAutoTest::parseActionFromXML}
\textbf{Description:} Parses the action and its type from the XML.\\
\textbf{Parameter:}
\begin{itemize}
\item xmlO: Prased XML structure pointing to the action.
\item testDescription: Description of the test.
\item testAction: Action parameter. (Result is written to this pointer)
\item testActionType: Action type(s). (Result is written to this pointer)
\item testActionAttributes: Action attribute(s). Can hold additional parameters. (Result is written to this pointer)
\end{itemize}

\subsection{CAutoTest::seleniumReload}
\textbf{Description:} Reloads the currently loaded page\\
\textbf{Returns:}
\begin{itemize}
\item Current page source
\end{itemize}

\subsection{CAutoTest::seleniumGetSource}
\textbf{Description:} Gets the current page source of the selenium browser into the output page.\\
\textbf{Returns:}
\begin{itemize}
\item Current page source
\end{itemize}

\subsection{CAutoTest::seleniumExec}
\textbf{Description:} Runs a command on the HTTP2SeleniumBridge.\\
\textbf{Parameter:}
\begin{itemize}
\item args: Array with the arguments.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item HTTP output of the HTTP2SeleniumBridge call.
\end{itemize}

\subsection{CAutoTest::seleniumExecExtra}
\textbf{Description:} Runs an action on the HTTP2SeleniumBridge.\\
\textbf{Parameter:}
\begin{itemize}
\item action: Name of the action (eg. nextdriverid or free)
\item args: Array with the arguments.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item HTTP output of the HTTP2SeleniumBridge call.
\end{itemize}

\subsection{CAutoTest::gotSeleniumDriverID}
\textbf{Description:} Returnes true, if a Selenium webdriver ID was acquired.\\
\textbf{Returns:}
\begin{itemize}
\item true, if a Selenium webdriver ID was acquired, otherwise false.
\end{itemize}

\subsection{CAutoTest::getSeleniumDriverID}
\textbf{Description:} Gives the Selenium webdriver ID this instance should use or let the programm die, if all are used.\\
\textbf{Returns:}
\begin{itemize}
\item Selenium webdriver ID.
\end{itemize}

\subsection{CAutoTest::freeSeleniumDriverID}
\textbf{Description:} Frees the used Selenium webdriver ID.\\

\subsection{CAutoTest::seleniumGetStatus}
\textbf{Description:} Gets the status message(s) of the HTTP2SeleniumBridge.\\
\textbf{Returns:}
\begin{itemize}
\item Status message(s) of the HTTP2SeleniumBridge call.
\end{itemize}

\subsection{CAutoTest::seleniumHostRunning}
\textbf{Description:} Checks, if the HTTP2SeleniumBridge is running.\\
\textbf{Returns:}
\begin{itemize}
\item true, if the HTTP2SeleniumBridge is running, otherwise false.
\end{itemize}

\subsection{CAutoTest::parseAnswersFromXML}
\textbf{Description:} Parses an (good, warn, bad) array from the XML.\\
\textbf{Parameter:}
\begin{itemize}
\item xmlO: Prased XML structure pointing to the array.
\item goodWarnBad: Answer type (CAutoTest::GWB\_GOOD, GWB\_WARN or GWB\_BAD).
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Associative array with the good, warn or bad answers, how to fetch the answer from the client/webbrowser/etc. and the answer type (GWB\_GOOD, GWB\_WARN or GWB\_BAD).
\end{itemize}

\subsection{CAutoTest::parseXML}
\textbf{Description:} Parses the XML test description file.\\
\textbf{Parameter:}
\begin{itemize}
\item xmlFile: File name (with full path) of the XML test description file.
\item argv: Array with the command line parameters.
\end{itemize}

\newpage\section{./inc/CAutoUpdate.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: Class for handling automatic updates.\\

\subsection{CAutoUpdate::getActiveSetID}
\textbf{Description:} Gets the ID of the active set or NULL, if none is active or no sets are present.\\
\textbf{Returns:}
\begin{itemize}
\item : ID of the active set or NULL, if none is active or no sets are present.
\end{itemize}

\subsection{CAutoUpdate::getActiveSet}
\textbf{Description:} Gets the active set or false, if none is active or no sets are present.\\
\textbf{Returns:}
\begin{itemize}
\item : Active set or false, if none is active or no sets are present.
\end{itemize}

\subsection{CAutoUpdate::addSet}
\textbf{Description:} Adds an entry to the schedule.\\
\textbf{Parameter:}
\begin{itemize}
\item startsEnds: Array with the start and end times
\item groups: Array with the groups.
\item type: Type of update (CAutoUpdate::UPDATE\_FULL or CAutoUpdate::UPDATE\_NORMAL)
\item parallelUpdates: Amount of clients that should be updated in parallel.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : true, on successfully insert, otherwise false.
\end{itemize}

\subsection{CAutoUpdate::setParallelUpdates}
\textbf{Description:} Sets the amount of parallel updates for a set.\\
\textbf{Parameter:}
\begin{itemize}
\item id: ID of the set.
\item amount: The amount of parallel updates for a set
\end{itemize}

\subsection{CAutoUpdate::getParallelUpdates}
\textbf{Description:} Gets the amount of parallel updates in a set.\\
\textbf{Parameter:}
\begin{itemize}
\item id: ID of the set.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Amount of parallel updates in a set or 0, if no type is set or it is invalid.
\end{itemize}

\subsection{CAutoUpdate::setType}
\textbf{Description:} Sets the type for a set.\\
\textbf{Parameter:}
\begin{itemize}
\item id: ID of the set.
\item type: Update type.
\end{itemize}

\subsection{CAutoUpdate::getType}
\textbf{Description:} Gets the type of a set as constant value or in translated form.\\
\textbf{Parameter:}
\begin{itemize}
\item id: ID of the set.
\item translate: If set to true, the type will be translated to a human readable form.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Type of a set as constant value or in translated form or false, if no type is set or it is invalid.
\end{itemize}

\subsection{CAutoUpdate::getUpdateTypeTranslation}
\textbf{Description:} Returns the whole translation array with update type as key and the translation as value or the translation for a given constant.\\
\textbf{Parameter:}
\begin{itemize}
\item const: If set to a constant, the translation will be returned, otherwise the whole array.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : Translation array, translation for a given constant or false, if the constant is not valid.
\end{itemize}

\subsection{CAutoUpdate::delSet}
\textbf{Description:} Deletes one set.\\
\textbf{Parameter:}
\begin{itemize}
\item id: ID of the set to delete.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : true, of the set with the given ID could be deleted, otherwise dies.
\end{itemize}

\subsection{CAutoUpdate::getAllSets}
\textbf{Description:} Generates an array with all sets and the according information for each set.\\
\textbf{Parameter:}
\begin{itemize}
\item orderBy: Rule for ordering the entries in the ourput array (CAutoUpdate::ORDERBY\_ID or CAutoUpdate::ORDERBY\_LASTRUN)
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : Array with all sets and the according information for each set.
\end{itemize}

\subsection{CAutoUpdate::loadSets}
\textbf{Description:} Loads all range sets into an array with.\\
\textbf{Parameter:}
\begin{itemize}
\item orderBy: Rule for ordering the entries in the ourput array (CAutoUpdate::ORDERBY\_ID or CAutoUpdate::ORDERBY\_LASTRUN)
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : Array with all sets and the according information for each set.
\end{itemize}

\subsection{CAutoUpdate::saveSets}
\textbf{Description:} Saves all changed sets to the DB.\\
\textbf{Returns:}
\begin{itemize}
\item : true, if a set is active.
\end{itemize}

\subsection{CAutoUpdate::getSetAmount}
\textbf{Description:} Get the amount of update sets.\\
\textbf{Returns:}
\begin{itemize}
\item : Amount of update sets.
\end{itemize}

\subsection{CAutoUpdate::configureCron}
\textbf{Description:} Adds and removes the crontab entry dynamically when the first update set gets created or the last gets deleted.\\

\subsection{CAutoUpdate::isASetActive}
\textbf{Description:} Checks, if a set is active.\\
\textbf{Returns:}
\begin{itemize}
\item : true, if a set is active.
\end{itemize}

\subsection{CAutoUpdate::activateSet}
\textbf{Description:} Activates one set and deactivates all other sets.\\
\textbf{Parameter:}
\begin{itemize}
\item id: ID of the set to activate.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : true, of the set with the given ID could be activated, otherwise dies.
\end{itemize}

\subsection{CAutoUpdate::activateNextSet}
\textbf{Description:} Activates the next set with the oldest timestamp.\\
\textbf{Returns:}
\begin{itemize}
\item : ID of the active set or NULL, if no set could be activated.
\end{itemize}

\subsection{CAutoUpdate::activateNextTimlySet}
\textbf{Description:} Activates the next set with the oldest timestamp that should be executed now.\\
\textbf{Returns:}
\begin{itemize}
\item : ID of the active set or NULL, if no set could be activated.
\end{itemize}

\subsection{CAutoUpdate::addStartEnd}
\textbf{Description:} Adds a start end range for running the updates.\\
\textbf{Parameter:}
\begin{itemize}
\item id: ID of the set to add the time range.
\item start: Start time of the range as combined numeric day and hour/minute string.
\item End: End time of the range as combined numeric day and hour/minute string.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the time range could be added, otherwise false.
\end{itemize}

\subsection{CAutoUpdate::delStartEnd}
\textbf{Description:} Deletes a start end range.\\
\textbf{Parameter:}
\begin{itemize}
\item id: ID of the set to remove the time range.
\item start: Start time of the range as combined numeric day and hour/minute string.
\end{itemize}

\subsection{CAutoUpdate::getAllStartsEndsHumanReadable}
\textbf{Description:} Generate a list of all time ranges (with optional button for deleting an entry).\\
\textbf{Parameter:}
\begin{itemize}
\item id: ID of the set to get all time ranges.
\item addButtons: If set to true, each range will get a deletion button.
\item defaultSeparator: The (HTML) string to separate the entries.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item List of all time ranges (with optional button for deleting an entry).
\end{itemize}

\subsection{CAutoUpdate::addGroup}
\textbf{Description:} Adds a client group for running the updates on them.\\
\textbf{Parameter:}
\begin{itemize}
\item id: ID of the set to add the group.
\item group: Name of the client group.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the group could be added, otherwise false.
\end{itemize}

\subsection{CAutoUpdate::delGroup}
\textbf{Description:} Deletes a group.\\
\textbf{Parameter:}
\begin{itemize}
\item id: ID of the set to remove the group from.
\item group: Name of the client group.
\end{itemize}

\subsection{CAutoUpdate::getAllGroupsHumanReadable}
\textbf{Description:} Generate a list of all groups (with optional button for deleting an entry).\\
\textbf{Parameter:}
\begin{itemize}
\item id: ID of the set to get all groups.
\item addButtons: If set to true, each group will get a deletion button.
\item defaultSeparator: The (HTML) string to separate the entries.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item List of all groups (with optional button for deleting an entry).
\end{itemize}

\subsection{CAutoUpdate::getImgButtonParams}
\textbf{Description:} Checks, if an image button was pressed and extracts the two parameters from it.\\
\textbf{Parameter:}
\begin{itemize}
\item reg: Regular expression to find the HTML names.
\item a: Variable to write the value of the first parameter to.
\item b: Variable to write the value of the second parameter to.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if a button mathing the regex was clicked, otherwise false.
\end{itemize}

\subsection{CAutoUpdate::isTimeToRunNow}
\textbf{Description:} Checks, if the given set should be run now.\\
\textbf{Parameter:}
\begin{itemize}
\item id: ID of the set
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the given set should be run now, otherwise false.
\end{itemize}

\subsection{CAutoUpdate::getActiveGroups}
\textbf{Description:} Gets the groups from the current active set.\\
\textbf{Returns:}
\begin{itemize}
\item The groups from the current active set or false, if no set is active.
\end{itemize}

\subsection{CAutoUpdate::getAllClientnames}
\textbf{Description:} Gets the clients in all groups of the active set.\\
\textbf{Parameter:}
\begin{itemize}
\item running: If set to true, only clients running auto update will be listed, otherwise all clients.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Array with the clients in all groups of the active set or empty array in case of an error.
\end{itemize}

\subsection{CAutoUpdate::startNewClients}
\textbf{Description:} Starts auto update on a given amount of clients that haven't run auto update for at least one day.\\
\textbf{Parameter:}
\begin{itemize}
\item clientAmount: Amount of clients to start.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Amount of new started clients.
\end{itemize}

\subsection{CAutoUpdate::run}
\textbf{Description:} Chooses the set that should be run now and starts new auto update on clients.\\

\subsection{CAutoUpdate::showAutoUpdateManager}
\textbf{Description:} Shows a dialog for viewing, creating, changing and deleting automatic update sets.\\

\newpage\section{./inc/CChecks.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: Class for checking values.\\

\subsection{CChecks::checkSizeInMB}
\textbf{Description:} Checks if a size in MB is valid.\\
\textbf{Parameter:}
\begin{itemize}
\item size: Size to check.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the size is valid (numeric) otherwise false.
\end{itemize}

\subsection{CChecks::checkDiskDefinedSize}
\textbf{Description:} Checks if a size (in MB) for the defined disk is valid.\\
\textbf{Parameter:}
\begin{itemize}
\item size: Size to check.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the size is valid (numeric) otherwise false.
\end{itemize}

\subsection{CChecks::checkFdiskAdjustmentUpperToleranceIdentical}
\textbf{Description:} Checks if a size (may contain g/G for GB, m/M for MB or % for percentual amount of a given value) for the upper tolerance is valid.\\
\textbf{Parameter:}
\begin{itemize}
\item size: Size to check.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the size is valid otherwise false.
\end{itemize}

\subsection{CChecks::checkFdiskAdjustmentLowerToleranceIdentical}
\textbf{Description:} Checks if a size (may contain g/G for GB, m/M for MB or % for percentual amount of a given value) for the lower tolerance is valid.\\
\textbf{Parameter:}
\begin{itemize}
\item size: Size to check.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the size is valid otherwise false.
\end{itemize}

\subsection{CChecks::checkSwapPart}
\textbf{Description:} Checks if the device name for the swap partition is valid.\\
\textbf{Parameter:}
\begin{itemize}
\item swapPart: Swap partition to check.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the swap partition name is valid otherwise false.
\end{itemize}

\subsection{CChecks::checkEFIPart}
\textbf{Description:} Checks if the device name for the EFI partition is valid.\\
\textbf{Parameter:}
\begin{itemize}
\item EFIPart: EFI partition to check.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the EFI partition name is valid otherwise false.
\end{itemize}

\subsection{CChecks::checkInstPart}
\textbf{Description:} Checks if the device name for the installation partition is valid.\\
\textbf{Parameter:}
\begin{itemize}
\item instPart: Installation partition to check.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the installation partition name is valid otherwise false.
\end{itemize}

\subsection{CChecks::checkMountDev}
\textbf{Description:} Checks if the device name for mounting a disk or partition is valid.\\
\textbf{Parameter:}
\begin{itemize}
\item dev: Device name for disk or partition to check.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the device name for mounting a disk or partition is valid otherwise false.
\end{itemize}

\subsection{CChecks::checkMountPoint}
\textbf{Description:} Checks if the input value is a valid mountpoint.\\
\textbf{Parameter:}
\begin{itemize}
\item mountpoint: Mountpoint to check.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The input value is a valid mountpoint or false on an error.
\end{itemize}

\subsection{CChecks::checkFdiskAdjustmentSpecifiedDev}
\textbf{Description:} Checks if the device name for the disk of the defined client is valid.\\
\textbf{Parameter:}
\begin{itemize}
\item dev: Device name to check.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the installation partition name is valid otherwise false.
\end{itemize}

\subsection{CChecks::checkRelease}
\textbf{Description:} Checks if a release name is valid.\\
\textbf{Parameter:}
\begin{itemize}
\item release: Release name to check.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the release name is valid otherwise false.
\end{itemize}

\subsection{CChecks::checkDistribution}
\textbf{Description:} Checks if a distribution name is valid.\\
\textbf{Parameter:}
\begin{itemize}
\item distr: Distribution name to check.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the distribution name is valid otherwise false.
\end{itemize}

\subsection{CChecks::checkNfshomeserver}
\textbf{Description:} Checks if the NFS share is valid.\\
\textbf{Parameter:}
\begin{itemize}
\item nfshomeserver: NFS share name to check.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the NFS share is valid otherwise false.
\end{itemize}

\subsection{CChecks::checkGroupname}
\textbf{Description:} Checks if the groupname is valid.\\
\textbf{Parameter:}
\begin{itemize}
\item group: Groupname to check.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the groupname is valid otherwise false.
\end{itemize}

\subsection{CChecks::checkUserGroupIDs}
\textbf{Description:} Checks the user ID and group ID are valid.\\
\textbf{Parameter:}
\begin{itemize}
\item userID: The user ID to check.
\item groupID: The group ID to check.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if user ID and group ID are valid otherwise false.
\end{itemize}

\subsection{CChecks::checkLanguage}
\textbf{Description:} Checks if the language is valid.\\
\textbf{Parameter:}
\begin{itemize}
\item language: Language value to check.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the language is valid otherwise false.
\end{itemize}

\subsection{CChecks::checkRootpassword}
\textbf{Description:} Checks if the root password is valid.\\
\textbf{Parameter:}
\begin{itemize}
\item rootpassword: The password to check.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the root password is valid otherwise false.
\end{itemize}

\subsection{CChecks::firstpw}
\textbf{Description:} Checks if the first name's password is valid.\\
\textbf{Parameter:}
\begin{itemize}
\item pass: The password to check.
\item allowEmpty: Set to true, if empty passwords should be allowed (e.g. when read from an LDAP server)
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the password is valid otherwise false.
\end{itemize}

\subsection{CChecks::checkLogin}
\textbf{Description:} Checks if the given login is valid.\\
\textbf{Parameter:}
\begin{itemize}
\item login: The login name to check.
\item allowEmpty: Set to true, if empty logins should be allowed (e.g. when read from an LDAP server)
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the login name is valid otherwise false.
\end{itemize}

\subsection{CChecks::checkProxy}
\textbf{Description:} Checks the IP and port of the package proxy.\\
\textbf{Parameter:}
\begin{itemize}
\item proxyIP: The IP of the package proxy.
\item proxyPort: The port of the package proxy.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the package IP and port are valid otherwise false.
\end{itemize}

\subsection{CChecks::checkOffice}
\textbf{Description:} Checks if the given office name is valid.\\
\textbf{Parameter:}
\begin{itemize}
\item office: The office name to check.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the office name is valid otherwise false.
\end{itemize}

\subsection{CChecks::checkEmail}
\textbf{Description:} Checks if the given eMail is valid (or optionally empty).\\
\textbf{Parameter:}
\begin{itemize}
\item email: eMail address to check.
\item allowEmpty: Set to true, if empty eMail addresses should accepted as valid.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the eMail address is valid (or empty) otherwise false.
\end{itemize}

\subsection{CChecks::checkFamilyname}
\textbf{Description:} Checks if the user's familyname is valid.\\
\textbf{Parameter:}
\begin{itemize}
\item familyname: The familyname of the user.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the familyname name is valid otherwise false.
\end{itemize}

\subsection{CChecks::checkForename}
\textbf{Description:} Checks if the user's forename is valid.\\
\textbf{Parameter:}
\begin{itemize}
\item forename: The forename of the user.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the forename name is valid otherwise false.
\end{itemize}

\subsection{CChecks::checkIPGeneric}
\textbf{Description:} Checks if an IP is valid and adds an error message to the message manager in case of an error.\\
\textbf{Parameter:}
\begin{itemize}
\item ip: IP to check.
\item msg: Error message to add in case of an error.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the IP is correct otherwise false.
\end{itemize}

\subsection{CChecks::checkIP}
\textbf{Description:} Checks if an IP is valid and adds an error message to the message manager in case of an error.\\
\textbf{Parameter:}
\begin{itemize}
\item ip: IP to check.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the IP is correct otherwise false.
\end{itemize}

\subsection{CChecks::checkNonusedIP}
\textbf{Description:} Checks if an IP is not in use and adds an error message to the message manager in case of an error.\\
\textbf{Parameter:}
\begin{itemize}
\item ip: IP to check.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the IP is not used otherwise false.
\end{itemize}

\subsection{CChecks::checkDNS1}
\textbf{Description:} Checks if the 1st DNS server has an valid IP and adds an error message to the message manager in case of an error.\\
\textbf{Parameter:}
\begin{itemize}
\item dns1: DNS server IP to check.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the IP is correct otherwise false.
\end{itemize}

\subsection{CChecks::checkDNS2}
\textbf{Description:} Checks if the 2nd DNS server has an valid IP and adds an error message to the message manager in case of an error.\\
\textbf{Parameter:}
\begin{itemize}
\item dns2: DNS server IP to check.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the IP is correct otherwise false.
\end{itemize}

\subsection{CChecks::checkGateway}
\textbf{Description:} Checks if the gateway has an valid IP and adds an error message to the message manager in case of an error.\\
\textbf{Parameter:}
\begin{itemize}
\item gateway: Gateway IP to check.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the IP is correct otherwise false.
\end{itemize}

\subsection{CChecks::checkClientname}
\textbf{Description:} Checks if a client name is valid (and optionally, if the client doesn't exist) and adds an error message to the message manager in case of an error.\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: Clientname to check.
\item checkNonused: Set to true, to check for non using.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the clientname is correct otherwise false.
\end{itemize}

\subsection{CChecks::checkNonusedClientname}
\textbf{Description:} Checks if a client name is valid and if the client doesn't exist and adds an error message to the message manager in case of an error.\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: Clientname to check.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the MAC is correct and not in use otherwise false.
\end{itemize}

\subsection{CChecks::checkNetmask}
\textbf{Description:} Checks if the netmask is valid and adds an error message to the message manager in case of an error.\\
\textbf{Parameter:}
\begin{itemize}
\item netmask: Netmask to check.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the netmask is correct otherwise false.
\end{itemize}

\subsection{CChecks::checkMAC}
\textbf{Description:} Checks if a MAC is valid (and optionally if it is not in use) and adds an error message to the message manager in case of an error.\\
\textbf{Parameter:}
\begin{itemize}
\item mac: MAC address to test.
\item checkNonused: Set to true, to check for non using.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the MAC is correct (and optionally not in use) otherwise false.
\end{itemize}

\subsection{CChecks::checkNonusedMAC}
\textbf{Description:} Checks if a MAC is valid and if it is not in use. Then adds an error message to the message manager in case of an error.\\
\textbf{Parameter:}
\begin{itemize}
\item mac: MAC address to test.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the MAC is correct and not in use otherwise false.
\end{itemize}

\subsection{CChecks::checkIPRange}
\textbf{Description:} Checks if the input IPs are valid and if the first IP is "smaler" than the second. Then adds an error message to the message manager in case of an error.\\
\textbf{Parameter:}
\begin{itemize}
\item firstIp: The first IP marking the begin of the IP range.
\item lastIp: The last IP marking the end of the IP range.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the IPs are correct and the first IP is "smaler" otherwise false.
\end{itemize}

\subsection{CChecks::checkStatus}
\textbf{Description:} Checks if the client status number is valid. Then adds an error message to the message manager in case of an error.\\
\textbf{Parameter:}
\begin{itemize}
\item status: The status number to check.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the status number is correct otherwise false.
\end{itemize}

\subsection{CChecks::checkBootType}
\textbf{Description:} Checks if if the client status number is valid. Then adds an error message to the message manager in case of an error.\\
\textbf{Parameter:}
\begin{itemize}
\item status: The status number to check.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the status number is correct otherwise false.
\end{itemize}

\subsection{CChecks::genericCHECK\_FW}
\textbf{Description:} Generic checking routine, that checks if an input value matches a rule.\\
\textbf{Parameter:}
\begin{itemize}
\item rule: CHECK\_FW rule to check the input value with.
\item val: Value to check.
\item errorMsg: Error message to add, if the checking fails.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the input value matches the rule otherwise false.
\end{itemize}

\subsection{CChecks::checkPoolName}
\textbf{Description:} Checks if the pool name is valid.\\
\textbf{Parameter:}
\begin{itemize}
\item poolName: The pool name to check.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the pool name is valid otherwise false.
\end{itemize}

\newpage\section{./inc/CClientLister.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: Class for generating lists of clients.\\

\subsection{CClientLister::showClientTable}
\textbf{Description:} Shows the table with matching clients and their given columns.\\

\subsection{CClientLister::generateHTMLClientNameIdCheckbox}
\textbf{Description:} Generates a checkbox for a client and its ID.\\
\textbf{Parameter:}
\begin{itemize}
\item clientInfo: Array containing information about the client (e.g. its name and ID).
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item HTML code for a checkbox containing client and ID information.
\end{itemize}

\subsection{CClientLister::importCheckedClientNamesIds}
\textbf{Description:} Imports the clientnames/IDs of the checked checkboxes.\\

\subsection{CClientLister::getCheckedClientNames}
\textbf{Description:} Returns name (as key) and ID (as value) of checked clients as array.\\
\textbf{Returns:}
\begin{itemize}
\item Array containing name (as key) and ID (as value) of checked clients.
\end{itemize}

\subsection{CClientLister::isVisibleByPingableFilter}
\textbf{Description:} Checks, if only clients that can (not) be pinged should be shown and if the given client matches the filter rule.\\
\textbf{Parameter:}
\begin{itemize}
\item CClientO: Object to the client to check.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if there is no pingable filter rule, or if the client matches the filter rule.
\end{itemize}

\subsection{CClientLister::setVisibleByPingableFilter}
\textbf{Description:} Sets the pingable filter rule (show only clients that can (not) be pinged or all clients).\\
\textbf{Parameter:}
\begin{itemize}
\item filterState: true (for showing only pingable clients), false (for not pingable clients) or null for all clients (filter deactivated).
\end{itemize}

\subsection{CClientLister::getClientNames}
\textbf{Description:} Gets an array with all clients matching the filter rules.\\
\textbf{Returns:}
\begin{itemize}
\item Array with all clients matching the filter rules.
\end{itemize}

\subsection{CClientLister::showClientList}
\textbf{Description:} Shows the table header of the client output list.\\

\subsection{CClientLister::showClientListExtraLine}
\textbf{Description:} Shows the extra line at the end of the client list.\\

\subsection{CClientLister::setClientListExtraLine}
\textbf{Description:} Sets the extra line that will be shown at the end of the client list.\\
\textbf{Parameter:}
\begin{itemize}
\item Arbitrary amount of cells to show at the end of the client list table.
\end{itemize}

\subsection{CClientLister::getColumnNrToSort}
\textbf{Description:} Figures out to column number which contains the values to sort.\\
\textbf{Returns:}
\begin{itemize}
\item Column number which contains the values to sort or false, if \$this-$>$orderBy is a SQL sorting statement.
\end{itemize}

\subsection{CClientLister::getColumnNrWithContinousNumber}
\textbf{Description:} Figures out to column number which contains the continous numbers.\\
\textbf{Returns:}
\begin{itemize}
\item Column number which contains the continous numbers or false, if no column with continous numbers is present.
\end{itemize}

\subsection{CClientLister::cmpArrayElements}
\textbf{Description:} Builds a sorting function that compares the colums of two arrays.\\
\textbf{Parameter:}
\begin{itemize}
\item columnNr: Column number to compare in the two arrays.
\end{itemize}

\subsection{CClientLister::sortLines}
\textbf{Description:} Does extra line sorting of special fields, that could not be sorted by SQL.\\
\textbf{Parameter:}
\begin{itemize}
\item lines: Array with the lines to sort.
\end{itemize}

\subsection{CClientLister::getAscDescHeader}
\textbf{Description:} Generates a sorting header with column title and ascending/descending button.\\
\textbf{Parameter:}
\begin{itemize}
\item orderBy: Ordering constant (ORDERBY\_*).
\item i18n: The name of the I18N variable.
\end{itemize}

\subsection{CClientLister::getStatusHeader}
\textbf{Description:} Generates a sorting header for the client's status.\\

\subsection{CClientLister::getClientNameHeader}
\textbf{Description:} Generates a sorting header for the client's name.\\

\subsection{CClientLister::getInstallDateHeader}
\textbf{Description:} Generates a sorting header for the client's installation date.\\

\subsection{CClientLister::getLastModifyHeader}
\textbf{Description:} Generates a sorting header for the client's last modifikation date.\\

\subsection{CClientLister::getIPHeader}
\textbf{Description:} Generates a sorting header for the client's IP address.\\

\subsection{CClientLister::getMACHeader}
\textbf{Description:} Generates a sorting header for the client's MAC address.\\

\subsection{CClientLister::getJobsHeader}
\textbf{Description:} Generates a sorting header for the client's waiting.\\

\subsection{CClientLister::getPackagesHeader}
\textbf{Description:} Generates a sorting header for the client's packages.\\

\subsection{CClientLister::getGroupHeader}
\textbf{Description:} Generates a sorting header for the client's groups.\\

\subsection{CClientLister::showClientListHeader}
\textbf{Description:} Shows the table header of the client output list.\\

\subsection{CClientLister::setOutputColumns}
\textbf{Description:} Sets the sequence of the columns to show in the output list.\\
\textbf{Parameter:}
\begin{itemize}
\item Arbitrary amount of CClientLister::COLUMN\_* constants to mark the purpose of the columns.
\end{itemize}

\subsection{CClientLister::setActionString}
\textbf{Description:} Sets the action string, where CLIENT\_NAME will be replaced by the actual name of the client and CLIENT\_ID by its ID.\\
\textbf{Parameter:}
\begin{itemize}
\item actionString: Full action string (with placeholders).
\end{itemize}

\subsection{CClientLister::getActionString}
\textbf{Description:} Gets the action string.\\
\textbf{Returns:}
\begin{itemize}
\item The action string
\end{itemize}

\subsection{CClientLister::setOrderBy}
\textbf{Description:} Sets the ordering method for generating the output.\\
\textbf{Parameter:}
\begin{itemize}
\item order: ORDERBY\_* mode to sort the output.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true on success.
\end{itemize}

\subsection{CClientLister::addStatusFilter}
\textbf{Description:} Adds an OR filter to get only clients that gave the given status (stati).\\
\textbf{Parameter:}
\begin{itemize}
\item operator: Operator (can be '=', '$<$', '$>$') selects if the client status should be equal, smaler or bigger that the given status.
\item status: Status to compare with the state of the client
\end{itemize}

\subsection{CClientLister::addKeyValueStoreFilter}
\textbf{Description:} Adds a filter to get only clients that have a key value pair set the client's key value store.\\
\textbf{Parameter:}
\begin{itemize}
\item key: Name of the key.
\item value: The value to store under the key.
\end{itemize}

\subsection{CClientLister::addGroupFilter}
\textbf{Description:} Adds the group filter to get only clients that are into the given group.\\
\textbf{Parameter:}
\begin{itemize}
\item groupName: Name of the group to filter.
\end{itemize}

\subsection{CClientLister::addSearchFilter}
\textbf{Description:} Adds a search filter to get only clients that match the search word in at least one table field.\\
\textbf{Parameter:}
\begin{itemize}
\item search: The search word.
\end{itemize}

\subsection{CClientLister::setAscending}
\textbf{Description:} Sets the output ordering ascending (default) or descending.\\
\textbf{Parameter:}
\begin{itemize}
\item ascending: Set to true, if the output should be generated in ascending order. For descending order, set to false.
\end{itemize}

\subsection{CClientLister::isAscending}
\textbf{Description:} Checks if the sorting of the column is ascending.\\
\textbf{Returns:}
\begin{itemize}
\item true, if sorting of the column is ascending otherwise false.
\end{itemize}

\subsection{CClientLister::vmRunOnHostFilter}
\textbf{Description:} Sets a filter to only give out virtual clients that are hosted on a given VM host.\\
\textbf{Parameter:}
\begin{itemize}
\item vmID: ID of the m23 client, that is VM host for other m23 clients.
\end{itemize}

\subsection{CClientLister::resetGetting}
\textbf{Description:} Sets back the MySQL connection to initalise a new search and getting of clients from the beginning.\\

\subsection{CClientLister::getClient}
\textbf{Description:} Gets a client matching all active filters. This can be called many times.\\
\textbf{Returns:}
\begin{itemize}
\item Client information in an associative array or false, if no (additional) clients clould be got.
\end{itemize}

\subsection{CClientLister::getAllMatchingClients}
\textbf{Description:} Gets all clients matching all active filters.\\
\textbf{Returns:}
\begin{itemize}
\item Array with information about all matching clients with client ID as key.
\end{itemize}

\subsection{CClientLister::isMatchingClientPresent}
\textbf{Description:} Checks if at least one clients with a given key-value-combination is found.\\
\textbf{Parameter:}
\begin{itemize}
\item key: The key to search for (e.g. office)
\item val: The value to search for (e.g. home)
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if at least one client is found.
\end{itemize}

\subsection{CClientLister::getAllAutoUpdateClientNames}
\textbf{Description:} Gets an array with the clients that currently run autoUpdate.\\
\textbf{Returns:}
\begin{itemize}
\item Associative array with the names of all client that currently run autoUpdate as key and value.
\end{itemize}

\subsection{CClientLister::IPexists}
\textbf{Description:} checks if an IP with the selected IP exists and returns true if yes, otherwise false\\
\textbf{Parameter:}
\begin{itemize}
\item ip: IP to check
\end{itemize}

\subsection{CClientLister::MACexists}
\textbf{Description:} checks if a mac with the selected mac exists and returns true if yes, otherwise false\\
\textbf{Parameter:}
\begin{itemize}
\item mac: MAC to check
\end{itemize}

\subsection{CClientLister::ClientExists}
\textbf{Description:} checks if a client with the selected name exists and returns true if yes, otherwise false\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client
\end{itemize}

\newpage\section{./inc/CClient.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: Class for handling clients.\\

\subsection{CClient::\_\_construct}
\textbf{Description:} Constructor for new CClient objects. The object holds all information about a single client and loads the values from the DB.\\
\textbf{Parameter:}
\begin{itemize}
\item in: ID of an existing client (to load), name of an existing or nonexisting (to create) client or associative array of parameters.
\item checkMode: Check for the input variable.
\end{itemize}

\subsection{CClient::\_\_destruct}
\textbf{Description:} Destructor for a CClient object. Before the object is removed from the RAM, all client settings are written to the DB.\\

\subsection{CClient::setKeyValueStore}
\textbf{Description:} Sets a value in the key value store of the client.\\
\textbf{Parameter:}
\begin{itemize}
\item key: Name of the key.
\item value: The value to store under the key.
\item check: An optional variable firewall check constant or rule or a function for check the validity of the value.
\item errorMsg: An error message to give out, if the value fails the check.
\end{itemize}

\subsection{CClient::getKeyValueStore}
\textbf{Description:} Gets a value from the key value store of the client.\\
\textbf{Returns:}
\begin{itemize}
\item The value or NULL, if there is no value for the key.
\end{itemize}

\subsection{CClient::copyImagingParameters}
\textbf{Description:} Copies the imaging parameters (if present).\\
\textbf{Parameter:}
\begin{itemize}
\item options: Associative array with all options.
\end{itemize}

\subsection{CClient::copyMassOptions}
\textbf{Description:} Copies the mass installation options (if present).\\
\textbf{Parameter:}
\begin{itemize}
\item options: Associative array with all options.
\end{itemize}

\subsection{CClient::setInstallationStatusBar}
\textbf{Description:} Sets new percent value and/or new status text on the client's installation status bar.\\
\textbf{Parameter:}
\begin{itemize}
\item percent: Percent value to write into the DB (may be false, if it should not be changed).
\item statustext: A text message that should be shown under the status bar and written to the DB (may be false, if it should not be changed).
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : false on parameter error.
\end{itemize}

\subsection{CClient::delSpecialJob}
\textbf{Description:} Removes a special job from the joblist identified by package name and priority.\\
\textbf{Parameter:}
\begin{itemize}
\item package: Name of the package.
\item priority: Priority of the job.
\end{itemize}

\subsection{CClient::addJob}
\textbf{Description:} Adds a job to the client's job table.\\
\textbf{Parameter:}
\begin{itemize}
\item packageName: name of the package
\item priority: priority of the package
\item params: parameter for installing the package
\end{itemize}

\subsection{CClient::includeDistributionSpecificPackagesPHP}
\textbf{Description:} Includes distribution specific packages.php.\\

\subsection{CClient::addNormalJob}
\textbf{Description:} Adds a normal package to the installation queue.\\
\textbf{Parameter:}
\begin{itemize}
\item packageName: name of the package
\item priority: priority of the package
\end{itemize}

\subsection{CClient::addSpecialJob}
\textbf{Description:} Adds a special package to the installation queue.\\
\textbf{Parameter:}
\begin{itemize}
\item packageName: name of the package.
\item params: Parameter for the special package.
\item priority: priority of the package (if false, the priority from the special package will be used).
\end{itemize}

\subsection{CClient::addUpdateSourcesListJob}
\textbf{Description:} Adds a job to update the package source of the client to the installation queue.\\

\subsection{CClient::addUpdatePackageInfosJob}
\textbf{Description:} Adds a job to update the package information of the client to the installation queue.\\

\subsection{CClient::addNormalUpdateJob}
\textbf{Description:} Adds a job to perform a normal update of the client.\\
\textbf{Parameter:}
\begin{itemize}
\item type: normal or complete.
\end{itemize}

\subsection{CClient::addCompleteUpdateJob}
\textbf{Description:} Adds a job to perform a complete update of the client.\\
\textbf{Parameter:}
\begin{itemize}
\item type: normal or complete.
\end{itemize}

\subsection{CClient::addUpdateJob}
\textbf{Description:} Adds a job to update the client to the installation queue.\\
\textbf{Parameter:}
\begin{itemize}
\item type: normal or complete.
\end{itemize}

\subsection{CClient::startAutoUpdate}
\textbf{Description:} Starts auto update on a client.\\
\textbf{Parameter:}
\begin{itemize}
\item type: Normal (CAutoUpdate::UPDATE\_NORMAL) or full (CAutoUpdate::UPDATE\_FULL) update.
\end{itemize}

\subsection{CClient::stopAutoUpdate}
\textbf{Description:} Stops the auto update after successful or failed attempt.\\

\subsection{CClient::getAutoUpdate\_lastAttempt}
\textbf{Description:} Gives back the timestamp of the last assignment of an auto update job.\\
\textbf{Returns:}
\begin{itemize}
\item Timestamp of the last assignment of an auto update job or false, in case of an error.
\end{itemize}

\subsection{CClient::hasAutoUpdateJob}
\textbf{Description:} Checks, if the client has an auto update job.\\
\textbf{Returns:}
\begin{itemize}
\item true, if the client has an auto update job, otherwise false.
\end{itemize}

\subsection{CClient::checkAutoUpdate}
\textbf{Description:} Checks, if an auto update is (physically) running or if it has failed or finished.\\

\subsection{CClient::unsetInstPartDev}
\textbf{Description:} Unsets the installation partition of the client (by removing the variable in the client info).\\

\subsection{CClient::setInstPartDev}
\textbf{Description:} Sets the installation partition of the client.\\
\textbf{Parameter:}
\begin{itemize}
\item instPart: Installation partition device name.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the installation partition is valid otherwise false.
\end{itemize}

\subsection{CClient::setUEFI}
\textbf{Description:} Sets the UEFI usage of the client.\\
\textbf{Parameter:}
\begin{itemize}
\item enabled: true, if UEFI is used on the client, otherwise false.
\end{itemize}

\subsection{CClient::isUEFIActive}
\textbf{Description:} Returns, if the client uses UEFI.\\
\textbf{Returns:}
\begin{itemize}
\item true, if the client uses UEFI otherwise false.
\end{itemize}

\subsection{CClient::isHalfSisterClient}
\textbf{Description:} Returns, if the client uses a halfSister distribution.\\
\textbf{Returns:}
\begin{itemize}
\item true, if the client uses a halfSister distribution otherwise false.
\end{itemize}

\subsection{CClient::getEFIBootPartDev}
\textbf{Description:} Gets the EFI boot partition of the client.\\
\textbf{Returns:}
\begin{itemize}
\item The EFI partition of the client or false, if not set.
\end{itemize}

\subsection{CClient::setEFIBootPartDev}
\textbf{Description:} Sets the EFI partition of the client.\\
\textbf{Parameter:}
\begin{itemize}
\item EFIPart: EFI partition device name.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the EFI boot partition is valid otherwise false.
\end{itemize}

\subsection{CClient::unsetEFIBootPartDev}
\textbf{Description:} Unsets the EFI boot partition of the client (by removing the variable in the client info).\\

\subsection{CClient::getInstPartDev}
\textbf{Description:} Gets the installation partition of the client.\\
\textbf{Returns:}
\begin{itemize}
\item The installation partition of the client or false, if not set.
\end{itemize}

\subsection{CClient::unsetSwapPartDev}
\textbf{Description:} Unsets the swap partition of the client (by removing the variable in the client info).\\

\subsection{CClient::setSwapPartDev}
\textbf{Description:} Sets the swap partition of the client.\\
\textbf{Parameter:}
\begin{itemize}
\item swapPart: Swap partition device name.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the swap partition is valid otherwise false.
\end{itemize}

\subsection{CClient::getSwapPartDev}
\textbf{Description:} Gets the swap partition of the client.\\
\textbf{Returns:}
\begin{itemize}
\item The swap partition of the client or false, if not set.
\end{itemize}

\subsection{CClient::isDerivedClient}
\textbf{Description:} Checks, if the client is derived from a defined client.\\
\textbf{Returns:}
\begin{itemize}
\item true, if the client is derived, otherwise false.
\end{itemize}

\subsection{CClient::setLanguage}
\textbf{Description:} Sets the language of the client.\\
\textbf{Parameter:}
\begin{itemize}
\item language: Language of the client.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the language is valid otherwise false.
\end{itemize}

\subsection{CClient::getLanguage}
\textbf{Description:} Gets the language of the client.\\
\textbf{Returns:}
\begin{itemize}
\item The language of the client.
\end{itemize}

\subsection{CClient::setTimeZone}
\textbf{Description:} Sets the timezone of the client.\\
\textbf{Parameter:}
\begin{itemize}
\item timeZone: Timezone of the client.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the timezone is valid otherwise false.
\end{itemize}

\subsection{CClient::getTimeZone}
\textbf{Description:} Gets the timezone of the client.\\
\textbf{Returns:}
\begin{itemize}
\item The timezone of the client.
\end{itemize}

\subsection{CClient::setBootloader}
\textbf{Description:} Sets the bootloader of the client.\\
\textbf{Parameter:}
\begin{itemize}
\item bootloader: Bootloader of the client.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the bootloader is valid otherwise dies.
\end{itemize}

\subsection{CClient::getBootloader}
\textbf{Description:} Gets the bootloader of the client.\\
\textbf{Returns:}
\begin{itemize}
\item The bootloader of the client.
\end{itemize}

\subsection{CClient::getClientGroup}
\textbf{Description:} Gets the m23 group of the client.\\
\textbf{Returns:}
\begin{itemize}
\item The m23 group of the client.
\end{itemize}

\subsection{CClient::setNetRootPwd}
\textbf{Description:} Generates and sets the netboot root password.\\

\subsection{CClient::getNetRootPwd}
\textbf{Description:} Gets the netboot root password.\\
\textbf{Returns:}
\begin{itemize}
\item Netboot root password.
\end{itemize}

\subsection{CClient::setNfshomeserver}
\textbf{Description:} Sets the NFS share of the client.\\
\textbf{Parameter:}
\begin{itemize}
\item nfshomeserver: NFS share with path.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the NFS share is valid.
\end{itemize}

\subsection{CClient::getNfshomeserver}
\textbf{Description:} Gets the NFS share of the client.\\
\textbf{Returns:}
\begin{itemize}
\item NFS share of the client.
\end{itemize}

\subsection{CClient::setBoolProperty}
\textbf{Description:} Sets a boolean value in the client's settings.\\
\textbf{Parameter:}
\begin{itemize}
\item var: Name of the setting variable.
\item setIt: Set to true, if the variable should be set, otherwise false.
\item func: Name of the calling function (for error reporting)
\item trueVal: String that should be set in the client's settings, if \$setIt is true.
\item falseVal: String that should be set in the client's settings, if \$setIt is false.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true on sucessfully setting.
\end{itemize}

\subsection{CClient::setInstallPrinter}
\textbf{Description:} Sets, if the local printer should be detected/installed.\\
\textbf{Parameter:}
\begin{itemize}
\item setIt: Set to true, if the local printer should be detected/installed, otherwise false.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true on sucessfully setting.
\end{itemize}

\subsection{CClient::getInstallPrinter}
\textbf{Description:} Checks, if the local printer should be detected/installed.\\
\textbf{Returns:}
\begin{itemize}
\item true, if the local printer should be detected/installed, otherwise false.
\end{itemize}

\subsection{CClient::setAddNewLocalLogin}
\textbf{Description:} Sets, if the local login should be created.\\
\textbf{Parameter:}
\begin{itemize}
\item setIt: Set to true, if the local login should be created, otherwise false.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true on sucessfully setting.
\end{itemize}

\subsection{CClient::getAddNewLocalLogin}
\textbf{Description:} Checks, if the local login should be created.\\
\textbf{Returns:}
\begin{itemize}
\item true, if the local login should be created, otherwise false.
\end{itemize}

\subsection{CClient::setGetSystemtimeByNTP}
\textbf{Description:} Sets, if the system time should be set by NTP.\\
\textbf{Parameter:}
\begin{itemize}
\item setIt: Set to true, if the system time should be set by NTP otherwise false.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true on sucessfully setting.
\end{itemize}

\subsection{CClient::getGetSystemtimeByNTP}
\textbf{Description:} Checks, if the system time should be set by NTP.\\
\textbf{Returns:}
\begin{itemize}
\item true, if the system time should be set by NTP otherwise false.
\end{itemize}

\subsection{CClient::setRootPassword}
\textbf{Description:} Sets the root password for the client.\\
\textbf{Parameter:}
\begin{itemize}
\item rootPassword: The (encrypted) root password to set.
\item cryptRootPw: set to true, if the password should be encrypted or false, if it's already encrypted.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the root password is valid.
\end{itemize}

\subsection{CClient::addToClientGroup}
\textbf{Description:} Adds the client to an m23 client group.\\
\textbf{Parameter:}
\begin{itemize}
\item group: Name of the client group.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the was added to the group.
\end{itemize}

\subsection{CClient::setUserGroupIDs}
\textbf{Description:} Sets the user ID and group ID (for LDAP).\\
\textbf{Parameter:}
\begin{itemize}
\item userID: The user ID.
\item groupID: The group ID.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if user ID and group ID are valid otherwise false.
\end{itemize}

\subsection{CClient::getGroupID}
\textbf{Description:} Returns the (LDAP) group ID.\\
\textbf{Returns:}
\begin{itemize}
\item Group ID.
\end{itemize}

\subsection{CClient::getUserID}
\textbf{Description:} Returns the (LDAP) user ID.\\
\textbf{Returns:}
\begin{itemize}
\item User ID.
\end{itemize}

\subsection{CClient::setUserDetails}
\textbf{Description:} Generates HTML code for returning to the client control center page.\\
\textbf{Parameter:}
\begin{itemize}
\item forename: Forename of the user.
\item familyname: Familyname of the user (or empty).
\item eMail: eMail address of the user (or empty).
\item office: Office of the user (or empty).
\item login: The login name of the user.
\item firstpw: The password of the user.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if all input parameters are valid.
\end{itemize}

\subsection{CClient::getFirstpw}
\textbf{Description:} Returns the user's first password.\\
\textbf{Returns:}
\begin{itemize}
\item The user's first password.
\end{itemize}

\subsection{CClient::getFamilyname}
\textbf{Description:} Returns the user's familyname.\\
\textbf{Returns:}
\begin{itemize}
\item The user's familyname.
\end{itemize}

\subsection{CClient::getForename}
\textbf{Description:} Returns the user's forename.\\
\textbf{Returns:}
\begin{itemize}
\item The user's forename.
\end{itemize}

\subsection{CClient::getLogin}
\textbf{Description:} Returns the user's login.\\
\textbf{Returns:}
\begin{itemize}
\item The user's login.
\end{itemize}

\subsection{CClient::setLDAPType}
\textbf{Description:} Sets the LDAP type.\\
\textbf{Parameter:}
\begin{itemize}
\item type: LDAP usage type to set.
\end{itemize}

\subsection{CClient::getLDAPType}
\textbf{Description:} Returns the LDAP type of the client.\\
\textbf{Returns:}
\begin{itemize}
\item LDAP type of the client.
\end{itemize}

\subsection{CClient::setLDAPServer}
\textbf{Description:} Sets the LDAP server.\\
\textbf{Parameter:}
\begin{itemize}
\item LDAPServer: The name of the LDAP server.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the LDAP server was set, otherwise false.
\end{itemize}

\subsection{CClient::getLDAPServer}
\textbf{Description:} Returns the LDAP server of the client.\\
\textbf{Returns:}
\begin{itemize}
\item LDAP server of the client.
\end{itemize}

\subsection{CClient::addToCredentialsToLDAPServer}
\textbf{Description:} Adds the credentials of the main (desktop) user to the given LDAP server.\\
\textbf{Returns:}
\begin{itemize}
\item If the credentials could be saved to the LDAP server, otherwise false.
\end{itemize}

\subsection{CClient::getBackToDetailsLink}
\textbf{Description:} Generates HTML code for returning to the client control center page.\\
\textbf{Parameter:}
\begin{itemize}
\item section: section to jump on the page
\end{itemize}

\subsection{CClient::getClientWorkPHPURL}
\textbf{Description:} Returns the URL to the work.php for this client.\\
\textbf{Parameter:}
\begin{itemize}
\item ip: If set, this IP is used instead of the server's IP.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item URL to the work.php for this client.
\end{itemize}

\subsection{CClient::getClientCurrentWorkPHP}
\textbf{Description:} Returns the current contents of the work.php for this client.\\
\textbf{Parameter:}
\begin{itemize}
\item otherScript: If set, this job will be taken instead of the job with the lowest priority.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Current contents of the work.php for this client.
\end{itemize}

\subsection{CClient::getClientPackages}
\textbf{Description:} Returns an array or a space separated list of all packages installed on a client\\
\textbf{Parameter:}
\begin{itemize}
\item key: If it is not empty, only packages that contain the key are returned
\item arr: Set to true, if the result should be an array otherwise it's a string
\item status: If set, only returns packages of the given status (DEBPKGSTAT\_installed, DEBPKGSTAT\_removed, DEBPKGSTAT\_purge).
\end{itemize}

\subsection{CClient::save}
\textbf{Description:} Saves the client parameters and options to the DB.\\

\subsection{CClient::getProperty}
\textbf{Description:} Gets a client property from \$this-$>$clientInfo and dies (or returns an error value), if this property is not set.\\
\textbf{Parameter:}
\begin{itemize}
\item key: Name of the property.
\item dieMessage: Message to show before dying.
\item return: This will returned in case of an error, if set to another value, than 'null'.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Value of the property (or error value).
\end{itemize}

\subsection{CClient::getSourcesList}
\textbf{Description:} Returns the sources list of the client.\\
\textbf{Returns:}
\begin{itemize}
\item Sources list of the client.
\end{itemize}

\subsection{CClient::setArch}
\textbf{Description:} Set the CPU architecture of the client.\\
\textbf{Parameter:}
\begin{itemize}
\item arch: The architecture to set.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true on successfully setting of the client's architecture, otherwise false.
\end{itemize}

\subsection{CClient::getArch}
\textbf{Description:} Returns the architecture of the client.\\
\textbf{Returns:}
\begin{itemize}
\item Architecture of the client.
\end{itemize}

\subsection{CClient::setDistribution}
\textbf{Description:} sets the distribution of the client.\\
\textbf{Parameter:}
\begin{itemize}
\item distr: Distribution of the client.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true on sucessfully setting, otherwise false.
\end{itemize}

\subsection{CClient::getDistribution}
\textbf{Description:} Returns the distribution of the client.\\
\textbf{Returns:}
\begin{itemize}
\item Distribution of the client.
\end{itemize}

\subsection{CClient::setRelease}
\textbf{Description:} Sets the distribution release of the client.\\
\textbf{Parameter:}
\begin{itemize}
\item release: Distribution release of the client.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true on sucessfully setting, otherwise false.
\end{itemize}

\subsection{CClient::getRelease}
\textbf{Description:} Returns the distribution release of the client.\\
\textbf{Returns:}
\begin{itemize}
\item Distribution release of the client.
\end{itemize}

\subsection{CClient::updateModifyDate}
\textbf{Description:} Updates the last modified date.\\

\subsection{CClient::getModifyDate}
\textbf{Description:} Returns the last modified date.\\
\textbf{Returns:}
\begin{itemize}
\item Last modified date of the client.
\end{itemize}

\subsection{CClient::getModifyDateHumanReadable}
\textbf{Description:} Returns the last modified date in human readable form.\\
\textbf{Returns:}
\begin{itemize}
\item Last modified date of the client in human readable form.
\end{itemize}

\subsection{CClient::updateInstallDate}
\textbf{Description:} Updates the installation date.\\

\subsection{CClient::getInstallDate}
\textbf{Description:} Returns the installation date.\\
\textbf{Returns:}
\begin{itemize}
\item Installation date of the client.
\end{itemize}

\subsection{CClient::getInstallDateHumanReadable}
\textbf{Description:} Returns the installation date in human readable form.\\
\textbf{Returns:}
\begin{itemize}
\item Last installation date of the client in human readable form.
\end{itemize}

\subsection{CClient::export}
\textbf{Description:} Exports all client settings as associativearray\\

\subsection{CClient::setClientName}
\textbf{Description:} Renames a client.\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: New name of the client.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true on successfully setting of the client name, otherwise false.
\end{itemize}

\subsection{CClient::getClientName}
\textbf{Description:} Returns the name of the client.\\
\textbf{Returns:}
\begin{itemize}
\item Name of the client.
\end{itemize}

\subsection{CClient::getID}
\textbf{Description:} Returns the ID of the client.\\
\textbf{Returns:}
\begin{itemize}
\item ID of the client.
\end{itemize}

\subsection{CClient::setDNS}
\textbf{Description:} Sets the main and (optionally) the backup DNS server(s).\\
\textbf{Parameter:}
\begin{itemize}
\item dns1: The IP of the main DNS server.
\item dns2: The IP of the backup DNS server.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true when the DNS(s) IP(s) is correct.
\end{itemize}

\subsection{CClient::getDNS1}
\textbf{Description:} Returns the IP of the main DNS server.\\
\textbf{Returns:}
\begin{itemize}
\item Main DNS server IP of the client.
\end{itemize}

\subsection{CClient::getDNS2}
\textbf{Description:} Returns the IP of the backup DNS server (if set).\\
\textbf{Returns:}
\begin{itemize}
\item Backup DNS server IP of the client.
\end{itemize}

\subsection{CClient::setPackageProxy}
\textbf{Description:} Sets the IP and port of the package proxy.\\
\textbf{Parameter:}
\begin{itemize}
\item proxyIP: The IP of the package proxy.
\item proxyPort: The port of the package proxy.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the package IP and port are valid and set otherwise false.
\end{itemize}

\subsection{CClient::setIP}
\textbf{Description:} Sets the IP of the client to an unsused IP.\\
\textbf{Parameter:}
\begin{itemize}
\item IP: unused IP for the client.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true on successfully setting the client's IP, otherwise false.
\end{itemize}

\subsection{CClient::getIP}
\textbf{Description:} Returns the client's IP.\\
\textbf{Parameter:}
\begin{itemize}
\item return: This will returned in case of an error, if set to another value, than 'null'.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item IP of the client.
\end{itemize}

\subsection{CClient::setNetmask}
\textbf{Description:} Sets the netmask of the client.\\
\textbf{Parameter:}
\begin{itemize}
\item netmask: Netmask of the client.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true on successfully setting the client's netmask, otherwise false.
\end{itemize}

\subsection{CClient::getNetmask}
\textbf{Description:} Returns the client's netmask.\\
\textbf{Returns:}
\begin{itemize}
\item Netmask of the client.
\end{itemize}

\subsection{CClient::setMAC}
\textbf{Description:} Sets the MAC address of the client.\\
\textbf{Parameter:}
\begin{itemize}
\item mac: MAC of the client.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true on successfully setting the client's MAC, otherwise false.
\end{itemize}

\subsection{CClient::getMAC}
\textbf{Description:} Returns the client's MAC.\\
\textbf{Parameter:}
\begin{itemize}
\item return: This will returned in case of an error, if set to another value, than 'null'.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item MAC of the client.
\end{itemize}

\subsection{CClient::setGateway}
\textbf{Description:} Sets the gateway address for the client.\\
\textbf{Parameter:}
\begin{itemize}
\item gateway: IP address of the gateway.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true on successfully setting the client's gateway, otherwise false.
\end{itemize}

\subsection{CClient::getGateway}
\textbf{Description:} Returns the client's gateway.\\
\textbf{Returns:}
\begin{itemize}
\item Gateway of the client.
\end{itemize}

\subsection{CClient::setGateway}
\textbf{Description:} Sets the client's status.\\
\textbf{Parameter:}
\begin{itemize}
\item status: The status number to check.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true on successfully setting the client's status, otherwise false.
\end{itemize}

\subsection{CClient::getStatus}
\textbf{Description:} Returns the client's status.\\
\textbf{Returns:}
\begin{itemize}
\item Status of the client.
\end{itemize}

\subsection{CClient::isDefinedClient}
\textbf{Description:} Checks, if the client is defined client.\\
\textbf{Returns:}
\begin{itemize}
\item true, if the client is defined client, otherwise false.
\end{itemize}

\subsection{CClient::generateHTMLStatusBar}
\textbf{Description:} Generates HTML code containing the status of the client with links to the pages.\\

\subsection{CClient::getBootType}
\textbf{Description:} Returns the client's network boot type.\\
\textbf{Returns:}
\begin{itemize}
\item Network boot type of the client.
\end{itemize}

\subsection{CClient::usesDynamicIP}
\textbf{Description:} Checks if the client uses dynamic IPs.\\
\textbf{Returns:}
\begin{itemize}
\item true, if the client uses dynamic IPs otherwise false.
\end{itemize}

\subsection{CClient::setBootType}
\textbf{Description:} Sets the client's (network) boot type.\\
\textbf{Parameter:}
\begin{itemize}
\item bootType: CClient::BOOTTYPE\_PXE, CClient::BOOTTYPE\_NOBOOT, CClient::BOOTTYPE\_ETHERBOOT, CClient::BOOTTYPE\_GRUB2EFIX64
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true on successfully setting the client's boot type, otherwise false.
\end{itemize}

\subsection{CClient::getNetworkBootTypesArrayForSelection}
\textbf{Description:} Generates an array with all avaialable network boot types for using it in a selection.\\
\textbf{Returns:}
\begin{itemize}
\item Array with all avaialable network boot types (depends on the usage of m23shared) for using it in a selection.
\end{itemize}

\subsection{CClient::startInstall}
\textbf{Description:} Starts the installation on the client\\

\subsection{CClient::addShutdownPackage}
\textbf{Description:} Adds a shutdown package, but only if the client is NOT running.\\
\textbf{Returns:}
\begin{itemize}
\item true, if a shutdown package is added.
\end{itemize}

\subsection{CClient::activateNetboot}
\textbf{Description:} Activates network booting for the client.\\
\textbf{Returns:}
\begin{itemize}
\item true on successfully restarting the DHCP server.
\end{itemize}

\subsection{CClient::deactivateNetboot}
\textbf{Description:} Deactivates network booting for the client.\\
\textbf{Returns:}
\begin{itemize}
\item true on successfully restarting the DHCP server.
\end{itemize}

\subsection{CClient::wol}
\textbf{Description:} Wakes a client over the network.\\

\subsection{CClient::isNetbootActive}
\textbf{Description:} Check, if network booting is active for the client.\\
\textbf{Returns:}
\begin{itemize}
\item true when network booting is active otherwise false.
\end{itemize}

\subsection{CClient::isPingable}
\textbf{Description:} Checks, if the client can be pinged over the network.\\

\subsection{CClient::sshFetchJob}
\textbf{Description:} Connects to the client via SSH and lets the next job fetch and execute it in a screen (named "m23install").\\

\subsection{CClient::executeBySSH}
\textbf{Description:} Runs a commands under a plain BASH with root rights on the client.\\
\textbf{Parameter:}
\begin{itemize}
\item cmds: the commands of the script 
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The output of the script.
\end{itemize}

\subsection{CClient::generateHTMLClientNameBar}
\textbf{Description:} Generates an URL with the client name linking to the client details page.\\
\textbf{Returns:}
\begin{itemize}
\item URL with the client name linking to the client details page.
\end{itemize}

\subsection{CClient::generateHTMLPackagesBar}
\textbf{Description:} Generates an URL with the amount of the client's packages linking to the client packages page.\\
\textbf{Returns:}
\begin{itemize}
\item URL with the amount of the client's packages linking to the client packages page.
\end{itemize}

\subsection{CClient::generateHTMLWaitingAllJobsBar}
\textbf{Description:} Generates an URL with the amount of the client's waiting jobs and all jobs linking to the change jobs page.\\
\textbf{Returns:}
\begin{itemize}
\item URL with the amount of the client's packages linking to the client packages page.
\end{itemize}

\subsection{CClient::generateHTMLWaitingAllJobsBar}
\textbf{Description:} Generates an URL with the amount of the client's waiting jobs and all jobs linking to the change jobs page.\\
\textbf{Returns:}
\begin{itemize}
\item URL with the amount of the client's packages linking to the client packages page.
\end{itemize}

\subsection{CClient::getActionString}
\textbf{Description:} Generates the action string (e.g. an URL for GET)\\
\textbf{Parameter:}
\begin{itemize}
\item actionString: Action string that may contain CLIENT\_NAME (will be replaced by the name of the client) and CLIENT\_ID (will be replaced by the ID of the client).
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Changed (or unchanged) action string.
\end{itemize}

\subsection{CClient::destroy}
\textbf{Description:} Destroys a client finally.\\

\subsection{CClient::getVMRole}
\textbf{Description:} Returns the client's vmRole.\\
\textbf{Returns:}
\begin{itemize}
\item vmRole of the client.
\end{itemize}

\subsection{CClient::getVmSoftware}
\textbf{Description:} Returns the client's vmSoftware.\\
\textbf{Returns:}
\begin{itemize}
\item vmSoftware of the client.
\end{itemize}

\newpage\section{./inc/CFDiskBasic.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: Class for basic partitioning and formating functions.\\

\subsection{CFDiskBasic::\_\_construct}
\textbf{Description:} Constructor for new CFDiskBasic objects. The object holds all information about the partitioning (of a client and loads the values from the DB).\\
\textbf{Parameter:}
\begin{itemize}
\item in: Name of an existing client (to load) or data of an empty disk.
\end{itemize}

\subsection{CFDiskBasic::\_\_destruct}
\textbf{Description:} Destructor for a CFDiskBasic object. Before the object is removed from the RAM, all settings are written to the DB.\\

\subsection{CFDiskBasic::deletePartitionJob}
\textbf{Description:} Generates a partition removal job and adds it to the list of partition steps.\\
\textbf{Parameter:}
\begin{itemize}
\item dev: selected device (e.g. hda)
\item pPart: Physical partition number, minor number in parted
\item addAtTheBeginning: Adds the job to the beginning of the partitionSteps and partitionStepsForShift arrays.
\end{itemize}

\subsection{CFDiskBasic::createPartitionJob}
\textbf{Description:} Generates a partition add job and adds it to the list of partition steps.\\
\textbf{Parameter:}
\begin{itemize}
\item dev: selected device (e.g. /dev/hda)
\item start: start point of the partition (in MB)
\item end: end point of the partition (in MB)
\item type: type of the partition (primary, logical)
\item pPart: number of the device (e.g. 1 with /dev/hda1)
\end{itemize}

\subsection{CFDiskBasic::bootflagJob}
\textbf{Description:} Enables the booting flag on a partition and adds it to the list of partition steps.\\
\textbf{Parameter:}
\begin{itemize}
\item dev: Disk to activate booting on (e.g. /dev/hda)
\item pPart: number of partition, minor number in parted
\end{itemize}

\subsection{CFDiskBasic::EFItypeAndGUIDJob}
\textbf{Description:} Sets EFI boot partition type and GUID for the EFI boot partition and adds it to the list of partition steps.\\
\textbf{Parameter:}
\begin{itemize}
\item dev: Disk with the EFI partition (e.g. /dev/hda)
\item pPart: Number of EFI partition, minor number in parted
\end{itemize}

\subsection{CFDiskBasic::formatJob}
\textbf{Description:} Generates a partition format job and adds it to the list of partition steps.\\
\textbf{Parameter:}
\begin{itemize}
\item dev: device to format (e.g. /dev/hda1)
\item fileSys: file system of the partition: ext3, ext2, linux-swap
\item partJobs: associative array with partition jobs
\end{itemize}

\subsection{CFDiskBasic::createRaidJob}
\textbf{Description:} Generates a RAID creation job and adds it to the list of partition steps.\\
\textbf{Parameter:}
\begin{itemize}
\item dev: RAID device to create (e.g. /dev/md0)
\item devsBuildingDiskArray: Array with the devices that build the RAID.
\item level: RAID level.
\end{itemize}

\subsection{CFDiskBasic::deleteRaidJob}
\textbf{Description:} Generates a RAID deletion job and adds it to the list of partition steps.\\
\textbf{Parameter:}
\begin{itemize}
\item dev: RAID device to delete (e.g. /dev/md0)
\end{itemize}

\subsection{CFDiskBasic::makeInstOrEFIPartBootable}
\textbf{Description:} Enables the booting flag on the installation/EFI partition by adding a job.\\

\subsection{CFDiskBasic::rereadPartTable}
\textbf{Description:} Let the OS re-read the partition table.\\
\textbf{Parameter:}
\begin{itemize}
\item dev: The device that was changed/created (e.g. /dev/sda5).
\end{itemize}

\subsection{CFDiskBasic::getMknodCommandsForDeviceArray}
\textbf{Description:} Generates the mknod commands for given /dev/sdX(Y) devices (disks or partitions).\\
\textbf{Parameter:}
\begin{itemize}
\item devs: Array with the devices (e.g. /dev/sda5) to created the mknod commands for.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item mknod commands with the parameter matching the given /dev/sdX(Y).
\end{itemize}

\subsection{CFDiskBasic::genPartedCommands}
\textbf{Description:} Generates commands for creating and deletion of partitions, formating or building RAIDs.\\
\textbf{Parameter:}
\begin{itemize}
\item mkfsextOptions: Extra parameter for mkfs.extX .
\item sourceslist: Name of the package sources list of the client (needed for finding a supported file system).
\item addLogStatusCommands: Set to true, if after each partition / format command a check and reporting to the m23 server should be added.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Commands for creating and deletion of partitions, formating or building RAIDs.
\end{itemize}

\subsection{CFDiskBasic::createPartition}
\textbf{Description:} Creates a new partition on a disk (if possible).\\
\textbf{Parameter:}
\begin{itemize}
\item dev: The device (e.g. /dev/sda).
\item start: Start position (in MB) of the partition to create.
\item end: End position (in MB) of the partition to create.
\item type: type of the partition (CFDiskIO::PT\_PRIMARY, CFDiskIO::PT\_EXTENDED, CFDiskIO::PT\_LOGICAL)
\item bootable: Set to true, if the partition should be made bootable.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The physical partition number of the newly created partition.
\end{itemize}

\subsection{CFDiskBasic::createUEFIPartition}
\textbf{Description:} Creates a new UEFI partition with a size of 512 MB at the start of the disk (if possible).\\
\textbf{Parameter:}
\begin{itemize}
\item dev: The device (e.g. /dev/sda).
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The physical partition number of the newly created partition.
\end{itemize}

\subsection{CFDiskBasic::deletePartition}
\textbf{Description:} Deletes a partition from a disk.\\
\textbf{Parameter:}
\begin{itemize}
\item dev: The device (e.g. /dev/sda).
\item deleteBelongingRaid: If set to true, the RAID, the partition belongs to will be destroyed.
\item massInstallMode: Adds the job to the beginning of the partitionSteps and partitionStepsForShift arrays and doesn't unset installation and swap partition.
\end{itemize}

\subsection{CFDiskBasic::formatPartition}
\textbf{Description:} Formats a partition.\\
\textbf{Parameter:}
\begin{itemize}
\item dev: partition to format (e.g. /dev/hda1)
\item fs: type of filesystem
\end{itemize}

\subsection{CFDiskBasic::deleteAllPartitions}
\textbf{Description:} Deletes all partitions on a disk.\\
\textbf{Parameter:}
\begin{itemize}
\item diskDev: The device (e.g. /dev/sda).
\end{itemize}

\subsection{CFDiskBasic::createInstallPartition}
\textbf{Description:} Creates and formats an installation partition and makes it bootable. The created partition is stored in the client parameters as installation partition.\\
\textbf{Parameter:}
\begin{itemize}
\item diskDev: The disk device (e.g. /dev/hda) where the installation partition should be created on.
\item instStart: Start position of the installation partition (in MB).
\item instEnd: End position of the installation partition (in MB).
\end{itemize}

\subsection{CFDiskBasic::createSwapPartition}
\textbf{Description:} Creates and formats a swap partition. The created partition is stored in the client parameters as swap partition.\\
\textbf{Parameter:}
\begin{itemize}
\item diskDev: The disk device (e.g. /dev/hda) where the swap partition should be created on.
\item instStart: Start position of the swap partition (in MB).
\item instEnd: End position of the swap partition (in MB).
\end{itemize}

\subsection{CFDiskBasic::createFormatPartition}
\textbf{Description:} Creates and formats a partition.\\
\textbf{Parameter:}
\begin{itemize}
\item diskDev: The disk device (e.g. /dev/hda) where the installation partition should be created on.
\item instStart: Start position of the installation partition (in MB).
\item instEnd: End position of the installation partition (in MB).
\item fileSystem: Type of the file system (eg. ext4)
\item partType: Type of the partition (eg. CFDiskIO::PT\_PRIMARY)
\end{itemize}

\subsection{CFDiskBasic::autoPartitionDisk}
\textbf{Description:} Automatically partitions and formats a disk.\\
\textbf{Parameter:}
\begin{itemize}
\item diskDev: The disk device (e.g. /dev/hda) that should be partitionated and formated automatically.
\item minSwap: Minimal size of the swap partition in MB.
\item maxSwap: Maximal size of the swap partition in MB.
\end{itemize}

\subsection{CFDiskBasic::PM\_auto2Disk1SysSwap2Home}
\textbf{Description:} Automatically partitions two disks (1st for system + swap, 2nd for /home).\\

\subsection{CFDiskBasic::PM\_auto500GBsysSwapData}
\textbf{Description:} Automatically partitions and formats the first 500GB a disk. It creates a system, swap and data partition.\\
\textbf{Parameter:}
\begin{itemize}
\item diskDev: The disk device (e.g. /dev/hda) that should be partitionated and formated automatically.
\end{itemize}

\subsection{CFDiskBasic::createAllRaidJobs}
\textbf{Description:} Generates the jobs to create all RAIDs.\\
\textbf{Returns:}
\begin{itemize}
\item true, if all RAIDs are complete, otherwise false.
\end{itemize}

\subsection{CFDiskBasic::createRaidJobForRaid}
\textbf{Description:} Generates the jobs to create a given RAID.\\
\textbf{Parameter:}
\begin{itemize}
\item vrDisk: Virtual (internally used) disk number for the RAID.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if \$vrDisk is a RAID, otherwise false.
\end{itemize}

\subsection{CFDiskBasic::createRaid}
\textbf{Description:} Creates a new RAID disk.\\
\textbf{Parameter:}
\begin{itemize}
\item dev: Device name for the RAID (eg. /dev/md0)
\item level: RAID level.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Virtual RAID disk number, if the device string is suitable for a RAID, otherwise false.
\end{itemize}

\subsection{CFDiskBasic::deleteRaid}
\textbf{Description:} Deletes a RAID disk.\\
\textbf{Parameter:}
\begin{itemize}
\item dev: Device name for the RAID (eg. /dev/md0)
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if deleting of the RAID works, otherwise false.
\end{itemize}

\subsection{CFDiskBasic::assignDeviceToRaid}
\textbf{Description:} Adds a partition or disk to a RAID disk.\\
\textbf{Parameter:}
\begin{itemize}
\item raidDev: Device name of the RAID (eg. /dev/md0)
\item devToAdd: partition or disk device name to add.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the device could be added, otherwise false.
\end{itemize}

\subsection{CFDiskBasic::deleteDeviceFromRaid}
\textbf{Description:} Deletes a partition or disk from a RAID disk.\\
\textbf{Parameter:}
\begin{itemize}
\item raidDev: Device name of the RAID (eg. /dev/md0)
\item devToRemove: Partition or disk device name to remove.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the device could be removed, otherwise false.
\end{itemize}

\subsection{CFDiskBasic::deleteAllPartitionsOnDisk}
\textbf{Description:} Deletes all partitions on a disk.\\
\textbf{Parameter:}
\begin{itemize}
\item dev: Device name of the disk.
\end{itemize}

\subsection{CFDiskBasic::fdiskAdjustPartitioningLinearScale}
\textbf{Description:} Scales all partitions sizes to match the full disk size.\\
\textbf{Parameter:}
\begin{itemize}
\item diskDevToAdjust: Device name of the disk to ajust.
\end{itemize}

\subsection{CFDiskBasic::fdiskAdjustPartitioning}
\textbf{Description:} Adjusts the disk for a derived client, based on the defined client's settings\\

\newpage\section{./inc/CFDiskGUI.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: Class for visualisation of partitioning and formating.\\

\subsection{CFDiskBasic::\_\_construct}
\textbf{Description:} Constructor for new CFDiskGUI objects. The object holds all information about the partitioning (of a client and loads the values from the DB).\\
\textbf{Parameter:}
\begin{itemize}
\item in: Name of an existing client (to load) or data of an empty disk.
\end{itemize}

\subsection{CFDiskGUI::\_\_destruct}
\textbf{Description:} Destructor for a CFDiskGUI object. Before the object is removed from the RAM, all settings are written to the DB.\\

\subsection{CFDiskGUI::fdiskSessionSetter}
\textbf{Description:} Generic function to store values in the client partition and format session or loads them.\\
\textbf{Parameter:}
\begin{itemize}
\item newVal: The value to set or false for not changing.
\item varName: The name the value should be stored under in the client partition and format session.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The current value.
\end{itemize}

\subsection{CFDiskGUI::fdiskSessionPage}
\textbf{Description:} Stores the page in the session or loads it.\\
\textbf{Parameter:}
\begin{itemize}
\item newPage: The new page to set or false for not changing.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The current page.
\end{itemize}

\subsection{FDISK\_fdiskSessionReset}
\textbf{Description:} Sets back all session variables (client name optionally) for partitioning and formating a client.\\
\textbf{Parameter:}
\begin{itemize}
\item resetClientName: If set to true, the name of the client will be deleted too (and re-set by FDISK\_fdiskSessionClient).
\end{itemize}

\subsection{CFDiskGUI::fdiskSessionHelpPage}
\textbf{Description:} Stores the help page in the session or loads it.\\
\textbf{Parameter:}
\begin{itemize}
\item newPage: The new help page to set or false for not changing.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The current help page.
\end{itemize}

\subsection{CFDiskGUI::getDiskLayoutEntryStart}
\textbf{Description:} Gets the start position of a disk layout entry.\\
\textbf{Parameter:}
\begin{itemize}
\item vDisk: Virtual (internally used) device number.
\item layoutNr: Number of the disk layout entry.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Start position of a disk layout entry or dies, if not set.
\end{itemize}

\subsection{CFDiskGUI::getDiskLayoutEntryEnd}
\textbf{Description:} Gets the end position of a disk layout entry.\\
\textbf{Parameter:}
\begin{itemize}
\item vDisk: Virtual (internally used) device number.
\item layoutNr: Number of the disk layout entry.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item End position of a disk layout entry or dies, if not set.
\end{itemize}

\subsection{CFDiskGUI::getDiskLayoutEntrySize}
\textbf{Description:} Gets the size of a disk layout entry.\\
\textbf{Parameter:}
\begin{itemize}
\item vDisk: Virtual (internally used) device number.
\item layoutNr: Number of the disk layout entry.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Size of a disk layout entry or dies, if not set.
\end{itemize}

\subsection{CFDiskGUI::getDiskLayoutEntryType}
\textbf{Description:} Gets the type of a disk layout entry.\\
\textbf{Parameter:}
\begin{itemize}
\item vDisk: Virtual (internally used) device number.
\item layoutNr: Number of the disk layout entry.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Type of a disk layout entry or dies, if not set.
\end{itemize}

\subsection{CFDiskGUI::getDiskLayoutEntryFileSystem}
\textbf{Description:} Gets the filesystem of a disk layout entry.\\
\textbf{Parameter:}
\begin{itemize}
\item vDisk: Virtual (internally used) device number.
\item layoutNr: Number of the disk layout entry.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Filesystem of a disk layout entry or dies, if not set.
\end{itemize}

\subsection{CFDiskGUI::getFileSystemTranslator}
\textbf{Description:} Translates the filesystem names.\\
\textbf{Parameter:}
\begin{itemize}
\item fs: Filesystem to translate.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Translated filesystem.
\end{itemize}

\subsection{CFDiskGUI::getPartitionTypeTranslator}
\textbf{Description:} Translates the partition types.\\
\textbf{Parameter:}
\begin{itemize}
\item type: Partition type to translate.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Translated partition type.
\end{itemize}

\subsection{CFDiskGUI::getDiskLayoutEntryDev}
\textbf{Description:} Gets the device name of a disk layout entry.\\
\textbf{Parameter:}
\begin{itemize}
\item vDisk: Virtual (internally used) device number.
\item layoutNr: Number of the disk layout entry.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Device name of a disk layout entry or dies, if not set.
\end{itemize}

\subsection{CFDiskGUI::getDiskLayoutEntriesAmount}
\textbf{Description:} Gets the amount of disk layout entries.\\
\textbf{Parameter:}
\begin{itemize}
\item vDisk: Virtual (internally used) device number.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The amount of disk layout entries.
\end{itemize}

\subsection{CFDiskGUI::getFreeSpaceHTMLColor}
\textbf{Description:} Gets the HTML color for marking free space.\\
\textbf{Returns:}
\begin{itemize}
\item HTML color for marking free space.
\end{itemize}

\subsection{CFDiskGUI::showFreeSpaceBarBlock}
\textbf{Description:} Shows a block for with free space in the bar visualising the partitioning of a disk.\\
\textbf{Parameter:}
\begin{itemize}
\item pDisk: The physical device name of the disk (eg. /dev/sda)
\item start: Start point of the partition (in MB)
\item end: End point of the partition (in MB)
\item width: The width of the block in percent (without % sign)
\item type: Type of the partition.
\item addJavaScript: Set to true to add JavaScript code that calls the JS function emptySpace(), if empty parts of the drive are clicked, selectPartition(), if a partition is clicked and showPartTable(), if the mouse is over the bar.
\end{itemize}

\subsection{CFDiskGUI::showEmptyDiskTable}
\textbf{Description:} Shows a table with block for an empty disk (if the disk has no partitions)\\
\textbf{Parameter:}
\begin{itemize}
\item pDisk: The physical device name of the disk (eg. /dev/sda)
\item addJavaScript: Set to true to add JavaScript code that calls the JS function emptySpace(), if empty parts of the drive are clicked, selectPartition(), if a partition is clicked and showPartTable(), if the mouse is over the bar.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the disk has no partitions, otherwise false.
\end{itemize}

\subsection{CFDiskGUI::getPartitionExtraIconHTML}
\textbf{Description:} Returns HTML code for showing an icon for installation or swap partition.\\
\textbf{Parameter:}
\begin{itemize}
\item dev: the Device of the partition.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item HTML code for showing an icon for installation or swap partition, if the given device is installation or swap partition. Otherwise empty string.
\end{itemize}

\subsection{CFDiskGUI::getExtraCSSForExtended}
\textbf{Description:} Returns CSS code for marking partitions or free space on the extended partition.\\
\textbf{Parameter:}
\begin{itemize}
\item type: Type of the partition.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item CSS code for marking partitions or free space on the extended partition.
\end{itemize}

\subsection{CFDiskGUI::showPartitionBarBlock}
\textbf{Description:} Shows a block for with free space in the bar visualising the partitioning of a disk.\\
\textbf{Parameter:}
\begin{itemize}
\item pDisk: The physical device name of the disk (eg. /dev/sda)
\item start: Start point of the partition (in MB)
\item end: End point of the partition (in MB)
\item width: The width of the block in percent (without % sign)
\item type: Type of the partition.
\item fileSystem: Filesystem name.
\item addJavaScript: Set to true to add JavaScript code that calls the JS function emptySpace(), if empty parts of the drive are clicked, selectPartition(), if a partition is clicked and showPartTable(), if the mouse is over the bar.
\end{itemize}

\subsection{CFDiskGUI::printBars}
\textbf{Description:} prints the partitions as colored table\\
\textbf{Parameter:}
\begin{itemize}
\item pDisk: selected device (e.g. /dev/hda)
\item addJavaScript: Set to true to add JavaScript code that calls the JS function emptySpace(), if empty parts of the drive are clicked, selectPartition(), if a partition is clicked and showPartTable(), if the mouse is over the bar.
\end{itemize}

\subsection{CFDiskGUI::showPartTable}
\textbf{Description:} Shows the partition information for a disk as table.\\
\textbf{Parameter:}
\begin{itemize}
\item vDisk: Virtual (internally used) device number.
\end{itemize}

\subsection{CFDiskGUI::addDiskLayoutEntry}
\textbf{Description:} Adds a new entry (partition or free space on a disk) to the disk layout (for rendering only).\\
\textbf{Parameter:}
\begin{itemize}
\item vDisk: Internal disk number (for accessing the disk information in the array).
\item start: start point of the partition (in MB)
\item end: end point of the partition (in MB)
\item type: type of the partition (primary, logical)
\item fs: File system.
\item dev: Device name (optional)
\end{itemize}

\subsection{CFDiskGUI::newDiskLayout}
\textbf{Description:} Creates a new disk layout for a given disk.\\
\textbf{Parameter:}
\begin{itemize}
\item vDisk: Internal disk number (for accessing the disk information in the array).
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the disk layout will be calculated, false, if it is in the cache 
\end{itemize}

\subsection{CFDiskGUI::updateDiskLayout}
\textbf{Description:} Updates the disk layout for a given disk, if it is not in the cache.\\
\textbf{Parameter:}
\begin{itemize}
\item vDisk: Internal disk number (for accessing the disk information in the array).
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the disk layout was calculated, false, if it is in the cache 
\end{itemize}

\subsection{CFDiskGUI::showCombinedFdiskGUIDialog}
\textbf{Description:} Shows the new partition and formating screen.\\

\subsection{CFDiskGUI::getCurrentDiskDev}
\textbf{Description:} Returns the currently choosen (in the GUI) disk device name.\\
\textbf{Returns:}
\begin{itemize}
\item Currently choosen (in the GUI) disk device name.
\end{itemize}

\subsection{CFDiskGUI::getCurrentDiskvDev}
\textbf{Description:} Returns the currently choosen (in the GUI) virtual disk number.\\
\textbf{Returns:}
\begin{itemize}
\item Currently choosen (in the GUI) virtual disk number.
\end{itemize}

\subsection{CFDiskGUI::getCurrentPartDev}
\textbf{Description:} Returns the currently choosen (in the GUI) partition device name.\\
\textbf{Returns:}
\begin{itemize}
\item Currently choosen (in the GUI) partition device name.
\end{itemize}

\subsection{CFDiskGUI::finalChecksAndRealPartitionAndFormatStart}
\textbf{Description:} Does some final checks, adds the partitioning and formating job and switches to the distribution selection page.\\

\subsection{CFDiskGUI::showFdiskCombinedGUIFunctions}
\textbf{Description:} Shows the menu bar with integrated logic for CFDiskGUI::showCombinedFdiskGUIDialog.\\

\subsection{CFDiskGUI::getPartitionPercent}
\textbf{Description:} Calculates the percentual size of a selected partition in comparison to the disk size.\\
\textbf{Parameter:}
\begin{itemize}
\item vDisk: Virtual (internally used) device number.
\item vPart: Virtual (internally used) partition number. This is normally another number than the physical number (e.g. 1 on /dev/hda1)
\end{itemize}

\subsection{CFDiskGUI::getHTMLColorForFilesystemOrType}
\textbf{Description:} Get HTML color code for a given filesystem or partition type.\\
\textbf{Parameter:}
\begin{itemize}
\item fsOrType: Name of the file system (ext3, ext2, linux-swap,...) or type of the partition (eg. CFDiskIO::PT\_FREE)
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item HTML color code for the file system or partition type.
\end{itemize}

\subsection{CFDiskGUI::getPartTableEntryNr}
\textbf{Description:} Generates a unique number for the partitions and free spaces on a disk bar and for the partition table (used in JavaScript).\\
\textbf{Parameter:}
\begin{itemize}
\item vDisk: Internal disk number (for accessing the disk information in the array).
\item start: Start position of the partition / free space.
\item end: End position of the partition / free space.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Unique number
\end{itemize}

\subsection{CFDiskGUI::getJSSelectPartTypeForNewPartitions}
\textbf{Description:} Get the first entry of the list of partition types that can be created in a range on a disk as selectPartTypeForNewPartitions JavaScript function.\\
\textbf{Parameter:}
\begin{itemize}
\item vDisk: Internal disk number (for accessing the disk information in the array).
\item start: Start position (in MB) of the partition to create.
\item end: End position (in MB) of the partition to create.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Call for selectPartTypeForNewPartitions with partition type that can be created or empty, if there no partion can be created.
\end{itemize}

\subsection{CFDiskGUI::printAllBars}
\textbf{Description:} Shows the partition bars of all disks specified for the current client.\\

\subsection{CFDiskGUI::getPartInfoIcon}
\textbf{Description:} Generates HTML code for showing an icon with status information about a drive or partition.\\
\textbf{Parameter:}
\begin{itemize}
\item vDisk: Virtual (internally used) device number.
\item vPart: Virtual (internally used) partition number. This is normally another number than the physical number (e.g. 1 on /dev/hda1) and if set to false, the icon and the status information will be generated for a drive and not for a partition.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item HTML code for showing an icon with status information about the drive or partition.
\end{itemize}

\subsection{CFDiskGUI::getPartInfoString}
\textbf{Description:} Generates an info string, that shows information about the device name of the partition, its filesystem and bolonging to a RAID.\\
\textbf{Parameter:}
\begin{itemize}
\item vDisk: Virtual (internally used) device number.
\item vPart: Virtual (internally used) partition number. This is normally another number than the physical number (e.g. 1 on /dev/hda1)
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Info string.
\end{itemize}

\subsection{CFDiskGUI::getDiskInfoString}
\textbf{Description:} Generates an info string, that shows information about the device name of the drive and bolonging to a RAID.\\
\textbf{Parameter:}
\begin{itemize}
\item vDisk: Virtual (internally used) device number.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Info string.
\end{itemize}

\subsection{CFDiskGUI::getDriveInfoIcon}
\textbf{Description:} Generates HTML code for showing an icon with status information about a drive.\\
\textbf{Parameter:}
\begin{itemize}
\item vDisk: Virtual (internally used) device number.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item HTML code for showing an icon with status information about the drive.
\end{itemize}

\subsection{CFDiskGUI::listPartJobs}
\textbf{Description:} Show all part jobs in the table.\\

\subsection{CFDiskGUI::showAllPartTables}
\textbf{Description:} Shows the partition tables of all disks for the current client.\\

\subsection{CFDiskGUI::getRaidTable}
\textbf{Description:} Get informations about the assigned real disks/partitions of a RAID.\\
\textbf{Parameter:}
\begin{itemize}
\item raidDev: Device name of the new drive (e.g. /dev/md0)
\item withDeleteButtons: If set to true, each line with a real disk/partition gets an extra button for deleting it from the RAID.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item HTML table with informations about the assigned real drives/partitions.
\end{itemize}

\subsection{CFDiskGUI::showColorDefinitions}
\textbf{Description:} Shows the color definitions for the supported filesystems.\\

\subsection{CFDiskGUI::fstabAddDialog}
\textbf{Description:} Shows a dialog (with logic) for adding fstab entries.\\

\subsection{CFDiskGUI::getFstabTable}
\textbf{Description:} Generates a HTML table with all fstab entries and logic for deleting entries.\\
\textbf{Returns:}
\begin{itemize}
\item HTML table with the fstab.
\end{itemize}

\subsection{CFDiskGUI::getHDSizes}
\textbf{Description:} Returnes the sizes of all harddisks in a string, sperated by given line separator.\\
\textbf{Parameter:}
\begin{itemize}
\item lineSeparator: String to separate the output entries in the output string.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Sizes of all harddisks in a string, sperated by given line separator.
\end{itemize}

\newpage\section{./inc/CFDiskIO.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: Class for lowlevel organisation of partitioning and formating.\\

\subsection{CFDiskIO::\_\_construct}
\textbf{Description:} Constructor for new CFDiskIO objects. The object holds all information about the partitioning (of a client and loads the values from the DB).\\
\textbf{Parameter:}
\begin{itemize}
\item in: Name or object of an existing client (to load) or data of an empty disk.
\item checkMode: Check for the input variable.
\end{itemize}

\subsection{CFDiskIO::\_\_destruct}
\textbf{Description:} Destructor for a CFDiskIO object. Before the object is removed from the RAM, all settings are written to the DB.\\

\subsection{CFDiskIO::isTypeFreeSpace}
\textbf{Description:} Checks, if a given partition type means "free space".\\
\textbf{Parameter:}
\begin{itemize}
\item type: Partition type to check.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the given partition type means "free space", otherwise false.
\end{itemize}

\subsection{CFDiskIO::fdiskGetProperty}
\textbf{Description:} Returns the given variable, if it is set or dies (or returns an error value) with an error message.\\
\textbf{Parameter:}
\begin{itemize}
\item var: Variable to check.
\item return: This will returned in case of an error, if set to another value, than 'null'.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Input variable (or error value).
\end{itemize}

\subsection{CFDiskIO::getCurrentPartitioning}
\textbf{Description:} Returns the current (physical) partitioning (of a client).\\
\textbf{Returns:}
\begin{itemize}
\item The current (physical) partitioning (of a client).
\end{itemize}

\subsection{CFDiskIO::setCurrentPartitioning}
\textbf{Description:} Sets the current (physical) partitioning (of a client).\\

\subsection{CFDiskIO::fdiskLoadFromDB}
\textbf{Description:} Loads the current (physical) partitioning of a client and CFDiskTemp values.\\

\subsection{CFDiskIO::setCFDiskTemp}
\textbf{Description:} Sets CFDiskTemp of the client.\\
\textbf{Parameter:}
\begin{itemize}
\item CFDiskTemp: Array with the partition and format information.
\end{itemize}

\subsection{CFDiskIO::getDiskDevs}
\textbf{Description:} Returns an array with all disk devices (/dev/sdX) as key and value.\\
\textbf{Returns:}
\begin{itemize}
\item Array with all disk devices (/dev/sdX) as key and value.
\end{itemize}

\subsection{CFDiskIO::getDiskAmount}
\textbf{Description:} Returns amount of disks.\\
\textbf{Returns:}
\begin{itemize}
\item Amount of disks.
\end{itemize}

\subsection{CFDiskIO::getPartAmount}
\textbf{Description:} Returns the of partitions of a given disk.\\
\textbf{Parameter:}
\begin{itemize}
\item vDisk: Internal disk number (for accessing the disk information in the array).
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Amount of partitions of a given disk.
\end{itemize}

\subsection{CFDiskIO::getpDiskAndpPartFromDev}
\textbf{Description:} Splits a device (e.g. /dev/hda1) in the physical disk (/dev/hda) and the partition number (1).\\
\textbf{Parameter:}
\begin{itemize}
\item dev: The device to partition (e.g. /dev/hde1)
\item pDisk: The parameter, the physical disk is written to (e.g. /dev/hda).
\item pPart: The parameter, the physical partition number (e.g. 1) or false (if there is no number in the dev) is written to.
\item ignoreMD: Set to true, if a "partition number" from a MD should be received.
\end{itemize}

\subsection{CFDiskIO::isDevValidDiskPartitionOrRaid}
\textbf{Description:} Checks, if a given device name is a valid disk, partition or RAID device.\\
\textbf{Parameter:}
\begin{itemize}
\item dev: The device to check.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if a given device name is a valid disk, partition or RAID device, otherwise false.
\end{itemize}

\subsection{CFDiskIO::dev2VDiskVPart}
\textbf{Description:} Searches for a device (e.g. /dev/sda2) and writes the virtual disk and partition numbers to the variables. These values can be used to access the array \$this-$>$wantedPartitioning.\\
\textbf{Parameter:}
\begin{itemize}
\item dev: The device (e.g. /dev/sda2).
\item vDisk: Internal disk number (for accessing the disk information in the array) or false, if no matching (physical) disk number was found.
\item vPart: Internal partition number in a disk (for accessing the disk information in the array) or false, if no matching (physical) partition number was found.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true if the search worked otherwise false.
\end{itemize}

\subsection{CFDiskIO::getPreviousPartitionStep}
\textbf{Description:} Get the previous partition steps and wanted partitioning from the last action.\\
\textbf{Returns:}
\begin{itemize}
\item Associative array with wanted partitioning as key 'wp' and the partition steps under key 'ps' from the last action or NULL, if there are no undo steps.
\end{itemize}

\subsection{CFDiskIO::backToPreviousPartitionStep}
\textbf{Description:} Jumps back in the partition history by one step.\\

\subsection{CFDiskIO::findAndSetEFIBootPartDev}
\textbf{Description:} Searches for the first vfat partitions and if one if found, sets it as EFI boot partition.\\

\subsection{CFDiskIO::discardUndo}
\textbf{Description:} Discards all undo steps.\\

\subsection{CFDiskIO::updateUndoMd5}
\textbf{Description:} Updates the md5 sum of the wantedPartitioning and partitionSteps arrays.\\

\subsection{CFDiskIO::getUndoMd5}
\textbf{Description:} Gets the md5 sum of the partitionSteps arrays.\\

\subsection{CFDiskIO::addUndo}
\textbf{Description:} Adds an undo step to the undoArray.\\

\subsection{CFDiskIO::addPartitionStepAtTheBeginning}
\textbf{Description:} Adds a step at the beginning of the partitionSteps and partitionStepsForShift arrays.\\
\textbf{Parameter:}
\begin{itemize}
\item partJob: The job to add.
\end{itemize}

\subsection{CFDiskIO::addPartitionStepBeforeFormat}
\textbf{Description:} Adds a step to the partitionSteps and partitionStepsForShift arrays before the formating of the RAID device (given in the \$partJob).\\
\textbf{Parameter:}
\begin{itemize}
\item partJob: The RAID creation commands to add.
\end{itemize}

\subsection{CFDiskIO::addPartitionStepBeforeFormatArray}
\textbf{Description:} Adds a step to the partitionSteps and partitionStepsForShift arrays before the formating of the RAID device (given in the \$partJob).\\
\textbf{Parameter:}
\begin{itemize}
\item newJob: The RAID creation commands to add.
\item partJobs: Pointer to the array with the partition steps (partitionSteps or partitionStepsForShift).
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if there was a formating job for the RAID device. false, if the new job was placed at the end.
\end{itemize}

\subsection{CFDiskIO::addPartitionStep}
\textbf{Description:} Adds a step to the partitionSteps and partitionStepsForShift arrays.\\
\textbf{Parameter:}
\begin{itemize}
\item cmd: The commands to add.
\end{itemize}

\subsection{CFDiskIO::shiftPartitionStep}
\textbf{Description:} Gets the first element of the partitionSteps array and deletes it.\\

\subsection{CFDiskIO::resetWantedPartitioningAndSteps}
\textbf{Description:} Resets the wantedPartitioning array by replacing it with the contents of the client's current partitioning and resets the partition steps.\\

\subsection{CFDiskIO::resetWantedPartitioning}
\textbf{Description:} Resets the wantedPartitioning array by replacing it with the contents of the client's current partitioning.\\

\subsection{CFDiskIO::fdiskSaveToDB}
\textbf{Description:} Saves CFDiskTemp values to the DB.\\

\subsection{CFDiskIO::getCurrentDiskSizesForDefinedDiskSizes}
\textbf{Description:} Gets the disk devices and their sizes, if the client is a defined client.\\
\textbf{Parameter:}
\begin{itemize}
\item overwrite: Set to true, if the disk devices and their sizes should be saved even if the client is NOT a defined client.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Array with disk devices and their sizes, if the client is a defined client, otherwise false.
\end{itemize}

\subsection{CFDiskIO::saveDefinedDiskSizesToDB}
\textbf{Description:} Saves the disk devices and their sizes to the DB.\\

\subsection{CFDiskIO::getDefinedDiskSizes}
\textbf{Description:} Gets the defined disk devices and their sizes.\\
\textbf{Returns:}
\begin{itemize}
\item Array with disk devices and their sizes, if the set, otherwise false.
\end{itemize}

\subsection{CFDiskIO::convertPartitioning2Array}
\textbf{Description:} Converts old partitioning data to array.\\

\subsection{CFDiskIO::isDiskRaid}
\textbf{Description:} Checks, if a disk is a RAID.\\
\textbf{Parameter:}
\begin{itemize}
\item vDisk: Internal disk number (for accessing the disk information in the array).
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the disk is a RAID, otherwise false.
\end{itemize}

\subsection{CFDiskIO::isDevRaid}
\textbf{Description:} Checks, if a device string is a RAID.\\
\textbf{Parameter:}
\begin{itemize}
\item dev: The device (e.g. /dev/sda2 or /dev/md0).
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the device string is a RAID, otherwise false.
\end{itemize}

\subsection{CFDiskIO::isNVMe}
\textbf{Description:} Checks, if a device string is an NVMe.\\
\textbf{Parameter:}
\begin{itemize}
\item dev: The device (e.g. /dev/sda2 or /dev/md0).
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the device string is an NVMe, otherwise false.
\end{itemize}

\subsection{CFDiskIO::setDiskPartLockedByRaid}
\textbf{Description:} Sets or unsets the RAID lock of a partition or disk.\\
\textbf{Parameter:}
\begin{itemize}
\item vDisk: Internal disk number (for accessing the disk information in the array).
\item vPart: Internal partition number in a disk (for accessing the disk information in the array).
\item lock: Set to true, to set tha RAID lock, false for removing the lock.
\end{itemize}

\subsection{CFDiskIO::isDiskOrPartLockedByRaid}
\textbf{Description:} Checks, if a partition or disk is used as RAID.\\
\textbf{Parameter:}
\begin{itemize}
\item vDisk: Internal disk number (for accessing the disk information in the array).
\item vPart: Internal partition number in a disk (for accessing the disk information in the array).
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the disk or partition is locked by a RAID.
\end{itemize}

\subsection{CFDiskIO::isPartitionLockedByRaid}
\textbf{Description:} Checks, if a partition is locked, because it is part of a RAID.\\
\textbf{Parameter:}
\begin{itemize}
\item vDisk: Internal disk number (for accessing the disk information in the array).
\item vPart: the virtual partition number, that is used to build the variable name to access the associative array.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the partition is locked, otherwise false.
\end{itemize}

\subsection{CFDiskIO::isDiskLockedByRaid}
\textbf{Description:} Checks, if a disk is locked, because it is part of a RAID.\\
\textbf{Parameter:}
\begin{itemize}
\item vDisk: Internal disk number (for accessing the disk information in the array).
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the disk is locked, otherwise false.
\end{itemize}

\subsection{CFDiskIO::isDiskNotLockedByRaidAgainstCreationOfNewPartition}
\textbf{Description:} Checks if a new partition can be created or if the complete disk is used for RAID.\\
\textbf{Parameter:}
\begin{itemize}
\item vDisk: Internal disk number (for accessing the disk information in the array).
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if a new partition can be created, otherwise false.
\end{itemize}

\subsection{CFDiskIO::getPartitionAmountOfType}
\textbf{Description:} Count all partitions of a selected type on a disk.\\
\textbf{Parameter:}
\begin{itemize}
\item vDisk: Internal disk number (for accessing the disk information in the array).
\item type: type of the partition (CFDiskIO::PT\_PRIMARY, CFDiskIO::PT\_EXTENDED, CFDiskIO::PT\_LOGICAL, CFDiskIO::PT\_EFI)
\end{itemize}

\subsection{CFDiskIO::getExtendedVPart}
\textbf{Description:} Searches the vPart that contains the extended partition.\\
\textbf{Parameter:}
\begin{itemize}
\item vDisk: Internal disk number (for accessing the disk information in the array).
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item vPart number of the extended partition, if there is an one, otherwise false.
\end{itemize}

\subsection{CFDiskIO::getDiskSize}
\textbf{Description:} Returns the size of the disk.\\
\textbf{Parameter:}
\begin{itemize}
\item vDisk: Internal disk number (for accessing the disk information in the array).
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Size of the disk.
\end{itemize}

\subsection{CFDiskIO::getDiskDev}
\textbf{Description:} Returns the device name (e.g. /dev/sda) for a virtual disk.\\
\textbf{Parameter:}
\begin{itemize}
\item vDisk: Internal disk number (for accessing the disk information in the array).
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Device name (e.g. /dev/sda) for a virtual disk.
\end{itemize}

\subsection{CFDiskIO::getPartitionStart}
\textbf{Description:} Returns the start position (in MB) of a partition.\\
\textbf{Parameter:}
\begin{itemize}
\item vDisk: Internal disk number (for accessing the disk information in the array).
\item vPart: the virtual partition number, that is used to build the variable name to access the associative array.
\item return: This will returned in case of an error, if set to another value, than 'null'.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Start position (in MB) of a partition.
\end{itemize}

\subsection{CFDiskIO::getPartitionNumber}
\textbf{Description:} Returns the physical partition number of a virtual partition.\\
\textbf{Parameter:}
\begin{itemize}
\item vDisk: Internal disk number (for accessing the disk information in the array).
\item vPart: the virtual partition number, that is used to build the variable name to access the associative array.
\item return: This will returned in case of an error, if set to another value, than 'null'.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Physical partition number of a virtual partition.
\end{itemize}

\subsection{CFDiskIO::getPartitionSize}
\textbf{Description:} Returns the size of a virtual partition.\\
\textbf{Parameter:}
\begin{itemize}
\item vDisk: Internal disk number (for accessing the disk information in the array).
\item vPart: the virtual partition number, that is used to build the variable name to access the associative array.
\item return: This will returned in case of an error, if set to another value, than 'null'.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Size (in MB) of a virtual partition.
\end{itemize}

\subsection{CFDiskIO::getPartitionDev}
\textbf{Description:} Returns the device of a partition (eg. /dev/sda1).\\
\textbf{Parameter:}
\begin{itemize}
\item vDisk: Internal disk number (for accessing the disk information in the array).
\item vPart: the virtual partition number, that is used to build the variable name to access the associative array.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Device of a partition (eg. /dev/sda1).
\end{itemize}

\subsection{CFDiskIO::getDevBypDiskpPart}
\textbf{Description:} Returns device string with pDisk and partition number correctly combined.\\
\textbf{Parameter:}
\begin{itemize}
\item pDisk: Physical disk is written to (e.g. /dev/hda).
\item pPart: Physical partition number (e.g. 1) or false (if there is no number in the dev).
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Device string.
\end{itemize}

\subsection{CFDiskIO::getPartitionDevs}
\textbf{Description:} Returns an array with all partition devices (/dev/sdXY) as key and value.\\
\textbf{Parameter:}
\begin{itemize}
\item vDisk: Internal disk number (for accessing the disk information in the array).
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Array with all partition devices (/dev/sdXY) as key and value.
\end{itemize}

\subsection{CFDiskIO::getPartitionEnd}
\textbf{Description:} Returns the end position (in MB) of a partition.\\
\textbf{Parameter:}
\begin{itemize}
\item vDisk: Internal disk number (for accessing the disk information in the array).
\item vPart: the virtual partition number, that is used to build the variable name to access the associative array.
\item return: This will returned in case of an error, if set to another value, than 'null'.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item End position (in MB) of a partition.
\end{itemize}

\subsection{CFDiskIO::getPartitionType}
\textbf{Description:} Returns the type of a partition.\\
\textbf{Parameter:}
\begin{itemize}
\item vDisk: Internal disk number (for accessing the disk information in the array).
\item vPart: the virtual partition number, that is used to build the variable name to access the associative array.
\item return: This will returned in case of an error, if set to another value, than 'null'.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Type of a partition.
\end{itemize}

\subsection{CFDiskIO::getPartitionFileSystem}
\textbf{Description:} Returns the file system of a partition.\\
\textbf{Parameter:}
\begin{itemize}
\item vDisk: Internal disk number (for accessing the disk information in the array).
\item vPart: the virtual partition number, that is used to build the variable name to access the associative array.
\item return: This will returned in case of an error, if set to another value, than 'null'.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item FileSystem of a partition.
\end{itemize}

\subsection{CFDiskIO::setPartitionFileSystem}
\textbf{Description:} Sets the file system of a partition.\\
\textbf{Parameter:}
\begin{itemize}
\item vDisk: Internal disk number (for accessing the disk information in the array).
\item vPart: the virtual partition number, that is used to build the variable name to access the associative array.
\item fs: File system (e.g. ext4)
\end{itemize}

\subsection{CFDiskIO::virtualDelPartition}
\textbf{Description:} Deletes a partition from the internal array.\\
\textbf{Parameter:}
\begin{itemize}
\item vDisk: Internal disk number (for accessing the disk information in the array).
\item vPart: the virtual partition number, that is used to build the variable name to access the associative array.
\end{itemize}

\subsection{CFDiskIO::virtualDeleteDisk}
\textbf{Description:} Deletes a (RAID) disk and corrects the disk array.\\
\textbf{Parameter:}
\begin{itemize}
\item vDisk: Internal disk number (for accessing the disk information in the array).
\end{itemize}

\subsection{CFDiskIO::getvPartBypPart}
\textbf{Description:} Returns the virtual partition number searched by the physical partition number.\\
\textbf{Parameter:}
\begin{itemize}
\item vDisk: Internal disk number (for accessing the disk information in the array).
\item pPart: The physical partition number
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Virtual partition number or false, if none of the virtual partitions matches the physical partition number.
\end{itemize}

\subsection{CFDiskIO::getLogicalpParts}
\textbf{Description:} Builds an array with all physical partition numbers of the logical partitions.\\
\textbf{Parameter:}
\begin{itemize}
\item vDisk: Internal disk number (for accessing the disk information in the array).
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Array with all physical partition numbers of the logical partitions.
\end{itemize}

\subsection{CFDiskIO::correctLogical}
\textbf{Description:} Corrects the order of the logical partitions after deleting a physical partition.\\
\textbf{Parameter:}
\begin{itemize}
\item vDisk: Internal disk number (for accessing the disk information in the array).
\item pPart: The physical partition number to delete.
\end{itemize}

\subsection{CFDiskIO::devNrExists}
\textbf{Description:} Checks if a certain (physical) partition number exists.\\
\textbf{Parameter:}
\begin{itemize}
\item vDisk: Virtual (internally used) device number.
\item devNr: Device numer you want to check (e.g. 2 for /dev/sda2)
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, when the (physical) partition number exists on the disk.
\end{itemize}

\subsection{CFDiskIO::getBiggestLowestValueOf}
\textbf{Description:} Gets the biggest or lowest value from all partitions of a given type.\\
\textbf{Parameter:}
\begin{itemize}
\item vDisk: Virtual (internally used) disk number.
\item partType: Type of the partition (CFDiskIO::PT\_PRIMARY, CFDiskIO::PT\_EXTENDED, CFDiskIO::PT\_LOGICAL, CFDiskIO::PT\_EFI) or * for all types.
\item varType: Variable in the associative array (\$this-$>$wantedPartitioning[\$vDisk][\$vPart][\$varType]) to check.
\item biggest: If set to true, the biggest value is searched, otherwise false.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Biggest or lowest value from all partitions of a given type.
\end{itemize}

\subsection{CFDiskIO::getBiggestValueOf}
\textbf{Description:} Gets the biggest value from all partitions of a given type.\\
\textbf{Parameter:}
\begin{itemize}
\item vDisk: Virtual (internally used) disk number.
\item partType: Type of the partition (CFDiskIO::PT\_PRIMARY, CFDiskIO::PT\_EXTENDED, CFDiskIO::PT\_LOGICAL, CFDiskIO::PT\_EFI)
\item varType: Variable in the associative array (\$this-$>$wantedPartitioning[\$vDisk][\$vPart][\$varType]) to check.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Biggest value from all partitions of a given type.
\end{itemize}

\subsection{CFDiskIO::getLowestValueOf}
\textbf{Description:} Gets the lowest value from all partitions of a given type.\\
\textbf{Parameter:}
\begin{itemize}
\item vDisk: Virtual (internally used) disk number.
\item partType: Type of the partition (CFDiskIO::PT\_PRIMARY, CFDiskIO::PT\_EXTENDED, CFDiskIO::PT\_LOGICAL, CFDiskIO::PT\_EFI)
\item varType: Variable in the associative array (\$this-$>$wantedPartitioning[\$vDisk][\$vPart][\$varType]) to check.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Lowest value from all partitions of a given type.
\end{itemize}

\subsection{CFDiskIO::virtualAddPartition}
\textbf{Description:} Creates a new (virtual) partition on a disk.\\
\textbf{Parameter:}
\begin{itemize}
\item dev: The device (e.g. /dev/sda2).
\item start: Start position (in MB) of the partition to create.
\item end: End position (in MB) of the partition to create.
\item type: type of the partition (CFDiskIO::PT\_PRIMARY, CFDiskIO::PT\_EXTENDED, CFDiskIO::PT\_LOGICAL, CFDiskIO::PT\_EFI)
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Physical partition number of the new partition.
\end{itemize}

\subsection{CFDiskIO::virtualAddDisk}
\textbf{Description:} Adds a new virtual disk.\\
\textbf{Parameter:}
\begin{itemize}
\item dev: Device name of the new drive (e.g. /dev/md0)
\item size: Size in MB of the new drive.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item vDisk of the new created virtual disk.
\end{itemize}

\subsection{CFDiskIO::getBelongingRaidDev}
\textbf{Description:} Searches for the RAID device, a physical partition belongs to, if it is part of a RAID.\\
\textbf{Parameter:}
\begin{itemize}
\item dev: The physical partition (e.g. /dev/hda4) that belongs to a RAID.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The RAID device (e.g. /dev/md0) the physical partition belongs to or false, if no belonging RAID was found.
\end{itemize}

\subsection{CFDiskIO::FDISK\_dev2VDiskVPart\_Legacy}
\textbf{Description:} searches a special device (e.g. /dev/hda2) and writes the virtual device and partition numbers to the variables. These values can be used to access the file system via \$param["dev\$vDev"."part\$vPart"."\_fs"]\\
\textbf{Parameter:}
\begin{itemize}
\item param: the associative array containing all values describing the drives of the client
\item dev: the device (e.g. /dev/hda2)
\item vDev: the virtual device number, that is used to build the variable name to access the associative array.
\item vPart: the virtual partition number, that is used to build the variable name to access the associative array. This number has not to be qual to the partition number of the real drive (e.g. /dev/hda5 can be \$vPart == 3). If it is set to "empty", only vDev is calculated.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true if the search worked otherwise false.
\end{itemize}

\subsection{CFDiskIO::collidesWithPartitionOfType}
\textbf{Description:} Checks if a partition (to be created) defined by start and end position would collide with existing partitions of given type.\\
\textbf{Parameter:}
\begin{itemize}
\item vDisk: Virtual (internally used) device number.
\item type: type of the partition (primary, extended, logical, efipart, or -1 to match all partition types)
\item start: start position for the partition (to be created)
\item end: end position for the  partition (to be created)
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the partition to create would collide, otherwise false.
\end{itemize}

\subsection{CFDiskIO::isFreeSpaceBetween}
\textbf{Description:} Checks if there is a free space between \$start and \$end and the type of partition could be created there.\\
\textbf{Parameter:}
\begin{itemize}
\item vDisk: Virtual (internally used) device number.
\item type: type of the partition (primary, extended, logical, efipart)
\item start: start position for the search
\item end: end position for the search
\item addErrorMsg: Set to true, if the error messages should be added.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the there is free space, otherwise false.
\end{itemize}

\subsection{CFDiskIO::getPossiblePartitionTypesBetween}
\textbf{Description:} Get a list of partition types that can be created in a range on a disk.\\
\textbf{Parameter:}
\begin{itemize}
\item vDisk: Internal disk number (for accessing the disk information in the array).
\item start: Start position (in MB) of the partition to create.
\item end: End position (in MB) of the partition to create.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item List of partition types that can be created in a range on a disk.
\end{itemize}

\subsection{CFDiskIO::isNewPartitionOfTypeCreatable}
\textbf{Description:} Checks if a new partition from a certain type can be created.\\
\textbf{Parameter:}
\begin{itemize}
\item vDisk: Internal disk number (for accessing the disk information in the array).
\item type: type of the partition (CFDiskIO::PT\_PRIMARY, CFDiskIO::PT\_EXTENDED, CFDiskIO::PT\_LOGICAL)
\item addErrorMsg: Set to true, if the error messages should be added.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if a new partition can be created, otherwise false.
\end{itemize}

\subsection{CFDiskIO::getCreatablePartitionTypes}
\textbf{Description:} Creates an array with the types of partitions that could be created on a disk.\\
\textbf{Parameter:}
\begin{itemize}
\item vDisk: Internal disk number (for accessing the disk information in the array).
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Associative array with types of partitions that could be created on a disk.
\end{itemize}

\subsection{CFDiskIO::mayLogicalPartitionsBeChanged}
\textbf{Description:} Checks if the logical partitions may be changed on the given disk. If one logical partition on the disk is assigned to a RAID, none of the other logical partitions may be removed or added, because the numbering of the partitions will change afterwards and bring the RAID into a faulty state.\\
\textbf{Parameter:}
\begin{itemize}
\item vDisk: Internal disk number (for accessing the disk information in the array).
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if logical partitions may be removed or added on the disk, otherwise false.
\end{itemize}

\subsection{CFDiskIO::mayPartitioningBeChanged}
\textbf{Description:} Checks, if the whole disk or at least one partition on the disk is used in a RAID.\\
\textbf{Parameter:}
\begin{itemize}
\item vDisk: Internal disk number (for accessing the disk information in the array).
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the partitioning of the disk may be changed, otherwise false.
\end{itemize}

\subsection{CFDiskIO::getNextFreePhysicalVirtualPartitionNumber}
\textbf{Description:} Gets the next physical and virtual partition numbers for a new partition of given type.\\
\textbf{Parameter:}
\begin{itemize}
\item vDisk: Virtual (internally used) disk number.
\item newPartNr: (physical) partition number for the partition to create.
\item type: type of the partition (primary, extended, logical)
\item start: Start position of the partition.
\item end: End position of the partition.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Virtual (internally used) partition number.
\end{itemize}

\subsection{CFDiskIO::nextLogicalDevNr}
\textbf{Description:} Gets the next free logical (physical) partition number.\\
\textbf{Parameter:}
\begin{itemize}
\item vDisk: Virtual (internally used) disk number.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Next free logical (physical) partition number.
\end{itemize}

\subsection{CFDiskIO::nextPrimaryDevNr}
\textbf{Description:} Gets the next free primary (physical) partition number.\\
\textbf{Parameter:}
\begin{itemize}
\item vDisk: Virtual (internally used) disk number.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Next free logical (physical) partition number or -1, if there are no free partition numbers.
\end{itemize}

\subsection{CFDiskIO::nextPrimaryDevNr}
\textbf{Description:} Gets the next free EFI (physical) partition number.\\
\textbf{Parameter:}
\begin{itemize}
\item vDisk: Virtual (internally used) disk number.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Next free EFI (physical) partition number or -1, if there are no free partition numbers.
\end{itemize}

\subsection{CFDiskIO::getWantedPartitioning}
\textbf{Description:} Returns the wantedPartitioning array.\\
\textbf{Returns:}
\begin{itemize}
\item wantedPartitioning array.
\end{itemize}

\subsection{CFDiskIO::sortDiskKeyByDev}
\textbf{Description:} Sorts the elements with numeric keys (disks) of the input array by the subkey 'dev'. The numeric keys will be ascending and in the same order than the ascending subkey 'dev' with /dev/mdX at the end.\\
\textbf{Parameter:}
\begin{itemize}
\item in: Input array of a disk.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Array with sorted disks.
\end{itemize}

\subsection{CFDiskIO::sortPartitionKeyByStart}
\textbf{Description:} Sorts the elements with numeric keys of the input array by the subkey 'start' and copies all other elements unchanged. The numeric keys will be ascending and in the same order than the ascending subkey 'start'.\\
\textbf{Parameter:}
\begin{itemize}
\item in: Input array (\$disk array with information about all parameters (disk info and partitions)) of a disk.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Array with sorted partitions.
\end{itemize}

\subsection{CFDiskIO::getRaidLevelNumbers}
\textbf{Description:} Returns an array with valid RAID levels.\\
\textbf{Returns:}
\begin{itemize}
\item Array with valid RAID levels.
\end{itemize}

\subsection{CFDiskIO::isRaidLevelNumberValid}
\textbf{Description:} Checks, if a number is a valid RAID level.\\
\textbf{Parameter:}
\begin{itemize}
\item level: RAID level to check.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the input number is a valid RAID level.
\end{itemize}

\subsection{CFDiskIO::getRaidDevsBuildingDisk}
\textbf{Description:} Returns an array with all disk or partition devices building the RAID of the disk (if it is a RAID).\\
\textbf{Parameter:}
\begin{itemize}
\item vrDisk: Virtual (internally used) disk number.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Array with all disk or partition devices building the RAID of the disk (if it is a RAID) or empty array if the disk is no RAID.
\end{itemize}

\subsection{CFDiskIO::getvrDevNrByrDev}
\textbf{Description:} Returns the (virtual) number of the given device building the RAID.\\
\textbf{Parameter:}
\begin{itemize}
\item vrDisk: Virtual (internally used) disk number of the RAID.
\item dev: Device to search in the RAID.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Virtual number of the given device building the RAID or false, if the device is not part of the RAID.
\end{itemize}

\subsection{CFDiskIO::doesDiskHavePartitionsLockedByRaid}
\textbf{Description:} Checks if the disk has at least one partition that was assigned to a RAID.\\
\textbf{Parameter:}
\begin{itemize}
\item vDisk: Virtual (internally used) disk number.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if there is at least one partition that was assigned to a RAID on the disk, otherwise false.
\end{itemize}

\subsection{CFDiskIO::addDevToRaid}
\textbf{Description:} Adds a device (disk or partition) to the list of devices building the RAID.\\
\textbf{Parameter:}
\begin{itemize}
\item vrDisk: Virtual (internally used) RAID disk number.
\item dev: Device to add to the RAID.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the device could be added, otherwise false.
\end{itemize}

\subsection{CFDiskIO::delDevFromRaid}
\textbf{Description:} Removes a device (disk or partition) from the list of devices building the RAID.\\
\textbf{Parameter:}
\begin{itemize}
\item vrDisk: Virtual (internally used) RAID disk number.
\item dev: Device to remove from the RAID.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the device could be removed, otherwise false.
\end{itemize}

\subsection{CFDiskIO::updateRAIDSize}
\textbf{Description:} Updates the usable size of the RAID\\
\textbf{Parameter:}
\begin{itemize}
\item vrDisk: Virtual (internally used) disk number.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the RAID size could be calculated, otherwise false.
\end{itemize}

\subsection{CFDiskIO::getRaidCompleteParameters}
\textbf{Description:} Writes the constraints for building a RAID of a given level to the parameter variables.\\
\textbf{Parameter:}
\begin{itemize}
\item level: RAID level number.
\item minRaidDrives: The minimum amount of devices for building the RAID.
\item raidMultipleOf: The amount of devices building the RAID must be a multiple of this value.
\item maxRaidDrives: Maximum amount of devices building the RAID.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if there are parameters of the given RAID level, otherwise false.
\end{itemize}

\subsection{CFDiskIO::isRaidComplete}
\textbf{Description:} Checks, if there are too less or too much devices building the RAID or if the amount is not a multiple of needed devices.\\
\textbf{Parameter:}
\begin{itemize}
\item vrDisk: Virtual (internally used) RAID disk number.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if all requirements for building the RAID are met or it is not a RAID.
\end{itemize}

\subsection{CFDiskIO::maximumDevicesForRaidReached}
\textbf{Description:} Checks, if the the maximum amount of devices building the RAID is reached.\\
\textbf{Parameter:}
\begin{itemize}
\item vrDisk: Virtual (internally used) RAID disk number.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the maximum amount is reached or it is not a RAID.
\end{itemize}

\subsection{CFDiskIO::areAllRaidsComplete}
\textbf{Description:} Checks, if all RAID disk are complete (needed numbers of disks/partitions were added).\\
\textbf{Returns:}
\begin{itemize}
\item true, if all requirements for building all RAIDs are met.
\end{itemize}

\subsection{CFDiskIO::getRaidDevsBuildingDiskAmount}
\textbf{Description:} Returns the amount of the devices building the RAID.\\
\textbf{Parameter:}
\begin{itemize}
\item vrDisk: Virtual (internally used) RAID disk number.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Amount of the devices building the RAID.
\end{itemize}

\subsection{CFDiskIO::setRaidLevel}
\textbf{Description:} Sets the RAID level on a new RAID disk.\\
\textbf{Parameter:}
\begin{itemize}
\item vrDisk: Virtual (internally used) disk number.
\item level: RAID level number.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the RAID level is valid, otherwise false.
\end{itemize}

\subsection{CFDiskIO::getDiskSize}
\textbf{Description:} Returns the RAID level of RAID disk.\\
\textbf{Parameter:}
\begin{itemize}
\item vrDisk: Internal disk number (for accessing the disk information in the array).
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item RAID level or false, if it is not a RAID.
\end{itemize}

\subsection{CFDiskIO::virtualCreateRaidDisk}
\textbf{Description:} Creates a new RAID disk.\\
\textbf{Parameter:}
\begin{itemize}
\item dev: Device name for the RAID (eg. /dev/md0)
\item level: RAID level.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Virtual RAID disk number, if the device string is suitable for a RAID, otherwise false.
\end{itemize}

\subsection{CFDiskIO::virtualDeleteRaidDisk}
\textbf{Description:} Deletes a RAID disk and removes the RAID locks from all devices building it.\\
\textbf{Parameter:}
\begin{itemize}
\item dev: Device name for the RAID (eg. /dev/md0)
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Virtual RAID disk number, if the device string is suitable for a RAID, otherwise false.
\end{itemize}

\subsection{CFDiskIO::getDrivesAndPartitions}
\textbf{Description:} Generates an array that contains all disks and partitions of a given client with the disk devices as keys and the information as values.\\
\textbf{Parameter:}
\begin{itemize}
\item devFilter: Set this to another value than false if you want only devices with a given string in it. If you add an "!" the beginning all is given out that doesn't contains the filter string (without the "!").
\item addSizesAndTypes: If set to true, the array will contain the sizes, filesystems and types of the partitions and drives.
\item filterOutSetRaidLvmLock: If set to true, drives and partitions with set raidLvmLock will not be listed.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Array with drives and partitions and (optionally) their sizes, filesystems and types.
\end{itemize}

\subsection{CFDiskIO::getUnusedMDs}
\textbf{Description:} Returns an associative array with the unused MDs (e.g. /dev/md0, /dev/md1, ...) as key and value.\\
\textbf{Returns:}
\begin{itemize}
\item Associative array with the unused MDs (e.g. /dev/md0, /dev/md1, ...) as key and value.
\end{itemize}

\subsection{CFDiskIO::getUnusedDiskDev}
\textbf{Description:} Returns an associative array with the unused device names (e.g. /dev/sda, /dev/sdb, ...) as key and value.\\
\textbf{Returns:}
\begin{itemize}
\item Associative array with the unused device names (e.g. /dev/sda, /dev/sdb, ...) as key and value.
\end{itemize}

\subsection{CFDiskIO::getUsedMDs}
\textbf{Description:} Returns an associative array with the used MDs (e.g. /dev/md0, /dev/md1, ...) as key and value.\\
\textbf{Returns:}
\begin{itemize}
\item Associative array with the unused MDs (e.g. /dev/md0, /dev/md1, ...) as key and value.
\end{itemize}

\subsection{CFDiskIO::getPartDevs}
\textbf{Description:} Returns an array with the partitions (/dev/hda1, /dev/hda2, ...) of a disk or all disks.\\
\textbf{Parameter:}
\begin{itemize}
\item vDisk: Virtual (internally used) device number or -1, if all partitions on all devices should be listed.
\item excludeType: type of partitions, not to return.
\item includeTypes: Array with types of partitions, to return.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Array with matching partitions.
\end{itemize}

\subsection{CFDiskIO::getNotFS}
\textbf{Description:} Generates and returns an array with the list of not file systems (free space or unformated partitions).\\
\textbf{Returns:}
\begin{itemize}
\item Associative array with the list of not file systems as key and value.
\end{itemize}

\subsection{CFDiskIO::getSupportedFS}
\textbf{Description:} Generates and returns an array with the list of supported file systems.\\
\textbf{Returns:}
\begin{itemize}
\item Associative array with the list of supported file systems as key and value.
\end{itemize}

\subsection{CFDiskIO::swapFilesystems}
\textbf{Description:} Returns an array with the filesystems usable for swapping.\\
\textbf{Returns:}
\begin{itemize}
\item Array with the filesystems usable for swapping.
\end{itemize}

\subsection{CFDiskIO::installFilesystems}
\textbf{Description:} Returns an array with the filesystems usable for installation.\\
\textbf{Returns:}
\begin{itemize}
\item Array with the filesystems usable for installation.
\end{itemize}

\subsection{CFDiskIO::fdiskAddFstab}
\textbf{Description:} Adds a new entry to the fstab array.\\
\textbf{Parameter:}
\begin{itemize}
\item dev: Device to mount (e.g. /dev/hda1)
\item mountpoint: Location where to mount the device (e.g. /mnt/hda1)
\item parameter: Mount parameter.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the input parameter are valid, otherwise false.
\end{itemize}

\subsection{CFDiskIO::fdiskGetEntry}
\textbf{Description:} Gets an entry to from the fstab array. Can be called more times to get all entries.\\
\textbf{Parameter:}
\begin{itemize}
\item dev: Device to mount (e.g. /dev/hda1)
\item mountpoint: Location where to mount the device (e.g. /mnt/hda1)
\item parameter: Mount parameter.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if an entry to from the fstab array could be fetched from the array, otherwise false.
\end{itemize}

\subsection{CFDiskIO::fdiskDelFstabEntry}
\textbf{Description:} Removes an entry from the fstab array.\\
\textbf{Parameter:}
\begin{itemize}
\item dev: Device to mount (e.g. /dev/hda1)
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the entry could be found, otherwise false.
\end{itemize}

\subsection{CFDiskIO::adjustFstabParam}
\textbf{Description:} Adjusts the parameter block of a fstab line to make it use an supported FS.\\
\textbf{Parameter:}
\begin{itemize}
\item param: The parameter block of a fstab line
\item sourceName: The name of the package source list
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Adjust the parameter block of a fstab line
\end{itemize}

\subsection{CFDiskIO::genManualFstab}
\textbf{Description:} Generates commands to edit a given fstab, add new entries and remove old ones before.\\
\textbf{Parameter:}
\begin{itemize}
\item mntPrefix: Prefix to set before the mountpoint (e.g. /mnt/m23root/)
\item sourceName: Name of the client's sources list.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if fstab data in new format is used on the client, otherwise false.
\end{itemize}

\subsection{CFDiskIO::FDISK\_getOldStyleFstabArrayForHalfSister}
\textbf{Description:} Gets the fstab entries in the old style array format that is used by HS\_sysAddFstabEntries.\\
\textbf{Returns:}
\begin{itemize}
\item Fstab entries in the old style array format.
\end{itemize}

\subsection{CFDiskIO::FDISK\_genManualFstab}
\textbf{Description:} Generates commands to edit a given fstab, add new entries and remove old ones before.\\
\textbf{Parameter:}
\begin{itemize}
\item fstab: Array with the fstab entries.
\item mntPrefix: Prefix to set before the mountpoint (e.g. /mnt/m23root/)
\item sourceName: The name of the package source list
\end{itemize}

\subsection{CFDiskIO::fdiskGetFstabArray}
\textbf{Description:} Gets the fstab of a client as array.\\
\textbf{Returns:}
\begin{itemize}
\item Array with the fstab (each line of the fstab as item).
\end{itemize}

\subsection{CFDiskIO::getPartitionStepsArray}
\textbf{Description:} Gets the partitionSteps array of a client.\\
\textbf{Returns:}
\begin{itemize}
\item Array with the fstab (each line of the fstab as item).
\end{itemize}

\subsection{CFDiskIO::findFstabMountPointByDev}
\textbf{Description:} Searches a client's fstab for a device and figures out the according mountpoint.\\
\textbf{Parameter:}
\begin{itemize}
\item fstabA: The fstab as array.
\item dev: The device.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Mountpoint for the device or false, if there is no matching.
\end{itemize}

\subsection{CFDiskIO::getPrimaryOrEfiPartitionType}
\textbf{Description:} Returns a primary (on BIOS booted systems) partition type or an EFI (on UEFI booted systems).\\
\textbf{Returns:}
\begin{itemize}
\item Primary (on BIOS booted systems) or an EFI (on UEFI booted systems).
\end{itemize}

\subsection{CFDiskIO::changeToEfiPartitionTypeIfInUefiMode}
\textbf{Description:} Changes a given primary partition type to an EFI partition type on UEFI booted systems.\\
\textbf{Parameter:}
\begin{itemize}
\item var: Variable with the contents that may be changed.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The maybe unchanged type for isFreeSpaceBetween.
\end{itemize}

\subsection{CFDiskIO::getNVMeMknodCommand}
\textbf{Description:} Generates the mknod commands for creating the NVMe devices.\\
\textbf{Returns:}
\begin{itemize}
\item mknod commands for creating the NVMe devices.
\end{itemize}

\subsection{CFDiskIO::getMknodCommand}
\textbf{Description:} Generates the mknod command for a given /dev/sdX(Y) device (disk or partition).\\
\textbf{Parameter:}
\begin{itemize}
\item dev: The device (e.g. /dev/sda5) to created the mknod command for.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item mknod command with the parameter matching the given /dev/sdX(Y).
\end{itemize}

\newpage\section{./inc/CFDiskTest.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: Class for testing partitioning and formating functions.\\

\subsection{CFDiskTest::getTestDiskDev}
\textbf{Description:} Gets the disk device that is used for testing.\\
\textbf{Returns:}
\begin{itemize}
\item Disk device that is used for testing.
\end{itemize}

\subsection{CFDiskTest::nextTurn}
\textbf{Description:} Is called at the beginning of the next testing turn. Chooses a disk for testing, if there are more disks given.\\
\textbf{Returns:}
\begin{itemize}
\item true, if there are more disks for testing and a new disk could be chosen.
\end{itemize}

\subsection{CFDiskTest::addLineToReplay}
\textbf{Description:} Adds a line to the run log file.\\
\textbf{Parameter:}
\begin{itemize}
\item line: The line to add.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true on sucessfully writing the line, otherwise false.
\end{itemize}

\subsection{CFDiskTest::rand}
\textbf{Description:} Reads a random value from the replay file, if in replay mode or puts a calculated random value to the replay file.\\
\textbf{Parameter:}
\begin{itemize}
\item min: Minimal random value to generate.
\item max: Maximal random value to generate.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Calculated random value or value read from the replay file.
\end{itemize}

\subsection{CFDiskTest::getTestDiskvDisk}
\textbf{Description:} Gets the vDisk for the testing fisk.\\
\textbf{Returns:}
\begin{itemize}
\item vDisk for the testing fisk.
\end{itemize}

\subsection{CFDiskTest::getRandomPartitionDev}
\textbf{Description:} Gets the a random device string for a partition on the test disk.\\
\textbf{Returns:}
\begin{itemize}
\item Random device string for a partition on the test disk.
\end{itemize}

\subsection{CFDiskTest::getRadomStartEnd}
\textbf{Description:} Gets random start / end positions (in MB) for e.g. creating new partitions on the test disk.\\

\subsection{CFDiskTest::checkBothSetKey}
\textbf{Description:} Checks if a key exists in virtual calculation and actual client partitioning.\\
\textbf{Parameter:}
\begin{itemize}
\item key: The key to check for.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true if the key exists in both arrays.
\end{itemize}

\subsection{CFDiskTest::checkConsistencyDiskKey}
\textbf{Description:} Checks for consistancy of \$vDisk keys between virtual calculation and actual client partitioning. Differences will be inserted into \$this-$>$diffConsistency.\\
\textbf{Parameter:}
\begin{itemize}
\item vDisk: Internal disk number (for accessing the disk information in the array).
\item key: The key to check for.
\item bothUnsetAllowed: Set to true, if both values may be unset (used for the loop).
\item tolerance: Maximal allowerd difference between the (numeric) values.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true if virtual calculation and actual client value are equal and both present, otherwise false.
\end{itemize}

\subsection{CFDiskTest::checkConsistencyvDiskvPartKey}
\textbf{Description:} Checks for consistancy of \$vDisk and \$vPart keys between virtual calculation and actual client partitioning. Differences will be inserted into \$this-$>$diffConsistency.\\
\textbf{Parameter:}
\begin{itemize}
\item vDisk: Internal disk number (for accessing the disk information in the array).
\item vPart: Internal partition number in a disk (for accessing the disk information in the array).
\item key: The key to check for.
\item tolerance: Maximal allowerd difference between the (numeric) values.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true if virtual calculation and actual client value are equal and both present, otherwise false.
\end{itemize}

\subsection{CFDiskTest::checkPartitionConsistency}
\textbf{Description:} Checks for consistancy of the partioning between virtual calculation and actual client partitioning. Exists the script, if it is not consistent.\\

\subsection{CFDiskTest::getDiskArrayFromClient}
\textbf{Description:} Returns the disk array with all drives and their partitions.\\
\textbf{Returns:}
\begin{itemize}
\item Disk array with all drives and their partitions.
\end{itemize}

\subsection{CFDiskTest::getDiskDevsFromClient}
\textbf{Description:} Returns an array with all disk devices (/dev/sdX) as key and value from the current client.\\
\textbf{Returns:}
\begin{itemize}
\item Array with all disk devices (/dev/sdX) as key and value.
\end{itemize}

\subsection{CFDiskTest::getPartInfoFromClient}
\textbf{Description:} Fetches current partitioning and formating of the current client from a given disk.\\
\textbf{Parameter:}
\begin{itemize}
\item dev: The disk device (e.g. /dev/sda).
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Array with current partitioning and formating of the current client from a given disk.
\end{itemize}

\subsection{CFDiskTest::getRaidsFromClient}
\textbf{Description:} Fetches current RAID information from the current client.\\
\textbf{Parameter:}
\begin{itemize}
\item rDevs: Array to store the devices in that build the RAIDs.
\item vDisk: Last used vDisk number (from the calling function)
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Array with the current RAID information from the current client.
\end{itemize}

\subsection{CFDiskTest::executePartedCommands}
\textbf{Description:} Executes all  partitioning and formating commands on the given client.\\

\subsection{CFDiskTest::createPartition}
\textbf{Description:} Creates a new partition on a disk (if possible) and checks for consistancy of the partioning between virtual calculation and actual client partitioning.\\
\textbf{Parameter:}
\begin{itemize}
\item dev: The device (e.g. /dev/sda).
\item start: Start position (in MB) of the partition to create.
\item end: End position (in MB) of the partition to create.
\item type: type of the partition (CFDiskIO::PT\_PRIMARY, CFDiskIO::PT\_EXTENDED, CFDiskIO::PT\_LOGICAL)
\end{itemize}

\subsection{CFDiskTest::randomCreatePartition}
\textbf{Description:} Tries to create a new partition on the test disk with random type and start and end position.\\

\subsection{CFDiskTest::deletePartition}
\textbf{Description:} Deletes a partition from a disk and checks for consistancy of the partioning between virtual calculation and actual client partitioning.\\
\textbf{Parameter:}
\begin{itemize}
\item dev: The partition device (e.g. /dev/sda1).
\item deleteBelongingRaid: If set to true, the RAID, the partition belongs to will be destroyed.
\end{itemize}

\subsection{CFDiskTest::randomDeletePartition}
\textbf{Description:} Tries to delete a randomly picked partition on the test disk.\\

\subsection{CFDiskTest::formatPartition}
\textbf{Description:} Formats a partition.\\
\textbf{Parameter:}
\begin{itemize}
\item dev: partition to format (e.g. /dev/hda1)
\item fs: type of filesystem
\end{itemize}

\subsection{CFDiskTest::randomFormatPartition}
\textbf{Description:} Tries to format a randomly picked partition on the test disk.\\

\subsection{CFDiskTest::getRandomFilesystem}
\textbf{Description:} Returns an random filesytem.\\
\textbf{Returns:}
\begin{itemize}
\item Random filesytem.
\end{itemize}

\subsection{CFDiskTest::getRandomPartitionType}
\textbf{Description:} Returns an random partition type.\\
\textbf{Returns:}
\begin{itemize}
\item Random partition type.
\end{itemize}

\subsection{CFDiskTest::createPartitionsForRaid}
\textbf{Description:} Create partitions for usage in a RAID.\\

\subsection{CFDiskTest::showDebugConsistencyClientVirtualArray}
\textbf{Description:} Shows a debug information about the current state of virtual and client consistency.\\
\textbf{Parameter:}
\begin{itemize}
\item heading: The heading to show above the debug info.
\end{itemize}

\subsection{CFDiskTest::randomPartTest}
\textbf{Description:} Randomly creates, formates and deletes partitions of random size, type and with random file file systems.\\

\subsection{CFDiskTest::getRandomRaidLevel}
\textbf{Description:} Returns an random RAID level.\\
\textbf{Returns:}
\begin{itemize}
\item Random RAID level.
\end{itemize}

\subsection{CFDiskTest::getRandomUnusedMD}
\textbf{Description:} Returns a random unused MD.\\
\textbf{Returns:}
\begin{itemize}
\item Random unused MD.
\end{itemize}

\subsection{CFDiskTest::getRandomUsedMD}
\textbf{Description:} Returns a random used MD.\\
\textbf{Returns:}
\begin{itemize}
\item Random used MD.
\end{itemize}

\subsection{CFDiskTest::deleteRaid}
\textbf{Description:} Deletes a RAID disk.\\
\textbf{Parameter:}
\begin{itemize}
\item dev: Device name for the RAID (eg. /dev/md0)
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if deleting of the RAID works, otherwise false.
\end{itemize}

\subsection{CFDiskTest::areThereEnoughFreePartitionsToBuildTheRaid}
\textbf{Description:} Checks, if there are enough unused partitions to build a RAID of a given level.\\
\textbf{Returns:}
\begin{itemize}
\item true, if there are enough free partitions, otherwise false.
\end{itemize}

\subsection{CFDiskTest::randomCreateRaid}
\textbf{Description:} Tries to create a new RAID with randomly choosen partitions and with random RAID level.\\

\subsection{CFDiskTest::randomDeleteRaid}
\textbf{Description:} Picks a random RAID and tries to delete it.\\

\subsection{CFDiskTest::randomFormatRaid}
\textbf{Description:} Picks a random RAID and tries to delete it.\\

\subsection{CFDiskTest::randomRaidTest}
\textbf{Description:} Randomly creates, formates and deletes partitions of random size, type and with random file file systems.\\

\subsection{CFDiskTest::randomPartTest}
\textbf{Description:} Randomly creates, formates and deletes partitions of random size, type and with random file file systems.\\

\newpage\section{./inc/CFirewall.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: Class for managing firewall settings.\\

\subsection{CFirewall::\_\_construct}
\textbf{Description:} Constructor for new CFDiskIO objects. The object holds all information about the partitioning (of a client and loads the values from the DB).\\
\textbf{Parameter:}
\begin{itemize}
\item in: Name or object of an existing client (to load) or data of an empty disk.
\end{itemize}

\subsection{CFirewall::clearIPtablesSettings}
\textbf{Description:} Clears all currently set iptables rules.\\

\subsection{CFirewall::scriptFileExists}
\textbf{Description:} Checks, if the iptables script file exists.\\
\textbf{Returns:}
\begin{itemize}
\item true, if the iptables script file exists, otherwise false.
\end{itemize}

\subsection{CFirewall::rulesFileExists}
\textbf{Description:} Checks, if the iptables rules file exists.\\
\textbf{Returns:}
\begin{itemize}
\item true, if the iptables rules file exists, otherwise false.
\end{itemize}

\subsection{CFirewall::writeDefaultScript}
\textbf{Description:} Writes the default iptables script, if there is no script.\\

\subsection{CFirewall::getScript}
\textbf{Description:} Gets the contents of the iptables script.\\
\textbf{Returns:}
\begin{itemize}
\item Contents of the iptables script.
\end{itemize}

\subsection{CFirewall::putScript}
\textbf{Description:} Writes script code in the iptables script.\\
\textbf{Parameter:}
\begin{itemize}
\item text: The iptables script code to write.
\end{itemize}

\subsection{CFirewall::executeScript}
\textbf{Description:} Executes the iptables script.\\

\subsection{CFirewall::exportRules}
\textbf{Description:} Exports the set iptables rules to a rule file (generated with iptables-save).\\

\subsection{CFirewall::activateInInterfaces}
\textbf{Description:} Activates auto-loading of the iptables rules in the interfaces file.\\
\textbf{Returns:}
\begin{itemize}
\item true, if the auto-loading is not allready active, otherwise false.
\end{itemize}

\subsection{CFirewall::isActive}
\textbf{Description:} Checks, if auto-loading of the iptables rules in the interfaces file is active.\\
\textbf{Returns:}
\begin{itemize}
\item true, if the auto-loading is active, otherwise false.
\end{itemize}

\subsection{CFirewall::activate}
\textbf{Description:} Activates the firewall.\\
\textbf{Returns:}
\begin{itemize}
\item true, if the firewall was activated, otherwise false.
\end{itemize}

\subsection{CFirewall::deactivate}
\textbf{Description:} Deactivates the firewall.\\
\textbf{Returns:}
\begin{itemize}
\item true, if the firewall was deactivated, otherwise false.
\end{itemize}

\subsection{CFirewall::getSatusIconHTML}
\textbf{Description:} Generates a HTML status icon to indicate the status of the firewall.\\

\subsection{CFirewall::show}
\textbf{Description:} Shows a dialog for (de)activating the firewall and changing the rules.\\

\newpage\section{./inc/CGPGSign.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: Class for managing GPG keys and signing messages.\\

\subsection{CGPGSign::\_\_construct}
\textbf{Description:} Constructor for new CGPGSign objects.\\
\textbf{Parameter:}
\begin{itemize}
\item mode: Save a (new) configuration file or load a (required) configuration file.
\end{itemize}

\subsection{CGPGSign::getKeySelectionDialog}
\textbf{Description:} Generates a dialog to choose the GPG used for signing the pools.\\

\subsection{CGPGSign::showWarningAndDie}
\textbf{Description:} Shows an "internal" warning message or a message for the m23 administrator and destroys the object afterwards.\\
\textbf{Parameter:}
\begin{itemize}
\item internalMsg: Internal error message text.
\item userMsg: Warning message for the m23 administrator.
\end{itemize}

\subsection{CGPGSign::exportPublicSignKey}
\textbf{Description:} Exports the public key to the webserver directory.\\
\textbf{Parameter:}
\begin{itemize}
\item true, if the file was exported, othwerwise false.
\end{itemize}

\subsection{CGPGSign::checkKey}
\textbf{Description:} Checks, if the given GPG is valid as public and private key.\\
\textbf{Parameter:}
\begin{itemize}
\item privKeyID: ID of the GPG key.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : true, if the GPG is valid as public and private key, otherwise false.
\end{itemize}

\subsection{CGPGSign::getKeyInfo}
\textbf{Description:} Gets information about the used GPG key.\\
\textbf{Returns:}
\begin{itemize}
\item : Information about the used GPG key.
\end{itemize}

\subsection{CGPGSign::gpgSignDetached}
\textbf{Description:} Creates a detached signature file for a given private GPG key ID and input file.\\
\textbf{Parameter:}
\begin{itemize}
\item inFile: The file to create a signature for.
\item outFile: The file with the detached signature.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : true, if the signature file was created and the input file exists, otherwise false.
\end{itemize}

\subsection{CGPGSign::gpgSignClear}
\textbf{Description:} Creates a clear text signature file for a given private GPG key ID and input file.\\
\textbf{Parameter:}
\begin{itemize}
\item inFile: The file to create a signature for.
\item outFile: The file with the detached signature.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : true, if the signature file was created and the input file exists, otherwise false.
\end{itemize}

\subsection{CGPGSign::hasConfigFile}
\textbf{Description:} Checks, if the config file exists.\\
\textbf{Returns:}
\begin{itemize}
\item true, if the config file is present.
\end{itemize}

\subsection{CGPGSign::loadConfigFile}
\textbf{Description:} Loads the config file.\\

\subsection{CGPGSign::writeConfigFile}
\textbf{Description:} Writes the config file.\\

\subsection{CGPGSign::setGPGID}
\textbf{Description:} Sets the GPG ID to use.\\

\subsection{CGPGSign::getGPGID}
\textbf{Description:} Gets the GPG ID to use.\\
\textbf{Parameter:}
\begin{itemize}
\item allowReturnNull: Set to true, if NULL may be returned as ID (eg. there is no config file).
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item GPG ID to use or dies, if no ID is set.
\end{itemize}

\subsection{CGPGSign::setStoreMode}
\textbf{Description:} Sets the configuration file store or load mode.\\
\textbf{Parameter:}
\begin{itemize}
\item mode: Configuration file store or load mode.
\end{itemize}

\subsection{CGPGSign::getStoreMode}
\textbf{Description:} Gets the configuration file store or load mode.\\
\textbf{Returns:}
\begin{itemize}
\item mode: Configuration file store or load mode.
\end{itemize}

\subsection{CClient::\_\_destruct}
\textbf{Description:} Destructor for a CGPGSign object.\\

\newpage\section{./inc/checks.php}
 Author: Daniel Kasten (DKasten@pc-kiel.de), Hauke Goos-Habermann (hauke@goos-habermann.de)\\
 Description: different checks for validation of email, ip, netmasks, etc.\\

\subsection{CHECK\_ip}
\textbf{Description:} Checks, if an IP is (syntactically) valid.\\
\textbf{Parameter:}
\begin{itemize}
\item ip: IP to check.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the IP is valid, otherwise false.
\end{itemize}

\subsection{CHECK\_safeFilename}
\textbf{Description:} Make sure, the file/directory name is safe and doesn't contain evil characters.\\
\textbf{Parameter:}
\begin{itemize}
\item fileName: File/directory name to make safe.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The safe made file/directory name.
\end{itemize}

\subsection{CHECK\_text2db}
\textbf{Description:} Makes a text safe for using it in the database.\\
\textbf{Parameter:}
\begin{itemize}
\item val: Text to use;
\item like: Set to true if the text should be used as the LIKE parameter.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The safe made text.
\end{itemize}

\subsection{CHECK\_db2text}
\textbf{Description:} Converts a string from the DB format to a normal string.\\
\textbf{Parameter:}
\begin{itemize}
\item val: String to use.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The safe made text.
\end{itemize}

\subsection{CHECK\_FW}
\textbf{Description:} Variable checking firewall, that checks a bunch of variables if they contain only valid characters.\\
\textbf{Parameter:}
\begin{itemize}
\item List of parameters, where the first of two is the checking parameter and the second the value to check.
\end{itemize}

\subsection{CHECK\_deviceName}
\textbf{Description:} Checks if the input value is a valid device name for a HD drive or partition or a RAID.\\
\textbf{Parameter:}
\begin{itemize}
\item devName: Device name to check.
\item partition: Set to true if you want to check for a partition.
\item diskOrPartition: Set to true, if a disk or partition should be valid. This overwrites the parameter "partition".
\item raidAllowed: Set to true, if RAIDs are allowed too.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The input value is a valid drive, partition or RAID or false on an error.
\end{itemize}

\subsection{CHECK\_mointPoint}
\textbf{Description:} Checks if the input value is a valid mountpoint.\\
\textbf{Parameter:}
\begin{itemize}
\item mountpoint: Mountpoint to check.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The input value is a valid mountpoint or false on an error.
\end{itemize}

\subsection{CHECK\_int}
\textbf{Description:} Checks if the input value is an integer and shuts down the application if not.\\
\textbf{Parameter:}
\begin{itemize}
\item val: Input value to check.
\item allowEmpty: Set to true if you want to allow empty strings.
\item returnNoDie: Set to true if you want to return (instead of aborting the program) when an error in the input is found.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The input value is an integer or false on an error.
\end{itemize}

\subsection{CHECK\_float}
\textbf{Description:} Checks if the input value is a float number and shuts down the application if not.\\
\textbf{Parameter:}
\begin{itemize}
\item val: Input value to check.
\item allowEmpty: Set to true if you want to allow empty strings.
\item returnNoDie: Set to true if you want to return (instead of aborting the program) when an error in the input is found.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The input value if it's a float number or false on an error.
\end{itemize}

\subsection{CHECK\_strAlpha}
\textbf{Description:} Checks if the input value is a string that contains only characters and shuts down the application if not.\\
\textbf{Parameter:}
\begin{itemize}
\item val: Input value to check.
\item maxlen: The maximal length of the the string or 0 if the string length doesn't matter.
\item allowEmpty: Set to true if you want to allow empty strings.
\item returnNoDie: Set to true if you want to return (instead of aborting the program) when an error in the input is found.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The input value if it contains only characters or stops (or false, if \$returnNoDie is true) the program on an error.
\end{itemize}

\subsection{CHECK\_strAlphaNum}
\textbf{Description:} Checks if the input value is a string that contains only characters and digits and shuts down the application if not.\\
\textbf{Parameter:}
\begin{itemize}
\item val: Input value to check.
\item maxlen: The maximal length of the the string or 0 if the string length doesn't matter.
\item allowEmpty: Set to true if you want to allow empty strings.
\item returnNoDie: Set to true if you want to return (instead of aborting the program) when an error in the input is found.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The input value if it contains only characters and digits or stops (or false, if \$returnNoDie is true) the program on an error.
\end{itemize}

\subsection{CHECK\_letFWDie}
\textbf{Description:} Lets the variable checking firewall die with error message and info why and where it stopped executing the script.\\
\textbf{Parameter:}
\begin{itemize}
\item dieMessage: Message to show if the script should be stopped.
\end{itemize}

\subsection{CHECK\_str}
\textbf{Description:} Checks if the input string only contains valid characters and is not longer than the maximum length and shuts down the application if not.\\
\textbf{Parameter:}
\begin{itemize}
\item val: String value to check.
\item maxlen: The maximal length of the the string or 0 if the string length doesn't matter.
\item allowEmpty: Set to true if you want to allow empty strings.
\item returnNoDie: Set to true if you want to return (instead of aborting the program) when an error in the input is found.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The input string or stops the program on an error.
\end{itemize}

\subsection{countLinesInFile}
\textbf{Description:} counts the lines of a file, return value is the amount of lines\\
\textbf{Parameter:}
\begin{itemize}
\item dateiname: file name
\item ignoreEmpty: If set to true, empty lines are ignored.
\end{itemize}

\subsection{checkIP}
\textbf{Description:} checks if an ip is valid\\
\textbf{Parameter:}
\begin{itemize}
\item string: ip value to check
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true if IP is valid, else false
\end{itemize}

\subsection{checkMAC}
\textbf{Description:} Checks if a MAC address is valid.\\
\textbf{Parameter:}
\begin{itemize}
\item mac: MAC address to test.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item 
\end{itemize}

\subsection{checkNetmask}
\textbf{Description:} checks if a netmask is valid\\
\textbf{Parameter:}
\begin{itemize}
\item string: netmask value to check
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true if netmask is valid, else false
\end{itemize}

\subsection{checkEmail}
\textbf{Description:} checks if a email address is valid, returns 1 if it is a valid netmask otherwise 0\\
\textbf{Parameter:}
\begin{itemize}
\item string: email address value to check
\end{itemize}

\subsection{checkFQDN}
\textbf{Description:} Checks if a string contains only characters that are allowed in a FQDN.\\
\textbf{Parameter:}
\begin{itemize}
\item string: string to check for special characters
\end{itemize}

\subsection{checkNormalKeys}
\textbf{Description:} checks if a string doesn't contain any special letters, returns 1 if it doesn't contain special characters otherwise 0\\
\textbf{Parameter:}
\begin{itemize}
\item string: string to check for special characters
\end{itemize}

\newpage\section{./inc/CIPRanges.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: Class for handling ranges of IP addresses.\\

\newpage\section{./inc/client_details.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: Functions for drawing the buttons etc. in client\_details.php.\\

\subsection{CLIENT\_DETAILS\_beginCategory}
\textbf{Description:} Starts a new named section for icons.\\
\textbf{Parameter:}
\begin{itemize}
\item title: Title of the section.
\item anchor: A HTML anchor where the a special URL can jump to.
\end{itemize}

\subsection{CLIENT\_DETAILS\_endCategory}
\textbf{Description:} Ends the previously opened icon section.\\

\subsection{CLIENT\_DETAILS\_addIcon}
\textbf{Description:} Adds an icon in a section.\\
\textbf{Parameter:}
\begin{itemize}
\item page: The m23 page to link to.
\item urlParams: Additional parameters for the URL (e.g. "\&action=deinstall").
\item icon: File name of the icon placed under /m23/data+scripts/gfx.
\item title: Title for the icon shown under it.
\item tooltip: The tooltip text that is shown when the mouse is over the icon.
\end{itemize}

\subsection{CLIENT\_DETAILS\_addIcon2}
\textbf{Description:} Adds an icon in a section that can link to all URLs.\\
\textbf{Parameter:}
\begin{itemize}
\item url: The URL to link to.
\item icon: File name of the icon placed under /m23/data+scripts/gfx.
\item title: Title for the icon shown under it.
\item tooltip: The tooltip text that is shown when the mouse is over the icon.
\end{itemize}

\newpage\section{./inc/client.php}
 Author: Daniel Kasten (DKasten@pc-kiel.de), Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: a lot of routines for client handling. routines for: install and deinstall packages on clients, get information about a special client, list all clients,...\\

\subsection{CLIENT\_insertIntoClientlogs}
\textbf{Description:} Adds an entry into the client's status log\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: Name of the client.
\item text: Status text
\item status: One of CLIENTLOG\_OK, CLIENTLOG\_FAILURE or CLIENTLOG\_UNKNOWN.
\end{itemize}

\subsection{CLIENT\_addClientlogsOk}
\textbf{Description:} Adds an entry into the client's status log with "ok" status.\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: Name of the client.
\item text: Status text.
\end{itemize}

\subsection{CLIENT\_addClientlogsFailure}
\textbf{Description:} Adds an entry into the client's status log with "failure" status.\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: Name of the client.
\item text: Status text.
\end{itemize}

\subsection{CLIENT\_addClientlogsUnknown}
\textbf{Description:} Adds an entry into the client's status log with "unknown" status.\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: Name of the client.
\item text: Status text.
\end{itemize}

\subsection{CLIENT\_removeServerCache}
\textbf{Description:} Removes the client cache on the m23 server.\\
\textbf{Parameter:}
\begin{itemize}
\item client: Name of the client.
\end{itemize}

\subsection{CLIENT\_touchLiveLogFile}
\textbf{Description:} Touches the live log file of a given client and returns the full name of the log file (with directory).\\
\textbf{Parameter:}
\begin{itemize}
\item client: Name of the client.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The full name of the log file (with directory).
\end{itemize}

\subsection{CLIENT\_getNextFreeIp}
\textbf{Description:} Get the next free IP address that can be used as m23 client.\\
\textbf{Returns:}
\begin{itemize}
\item Next free IP address.
\end{itemize}

\subsection{CLIENT\_getAllAsRes}
\textbf{Description:} Creates and executes an SQL statement for getting all values of all clients.\\
\textbf{Parameter:}
\begin{itemize}
\item order: Name of the field to order the results by.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item MySQL resource ID.
\end{itemize}

\subsection{CLIENT\_touchLogFile}
\textbf{Description:} Touches a log file in the client's directory and returns the full name of the log file (with directory).\\
\textbf{Parameter:}
\begin{itemize}
\item client: Name of the client.
\item base: The base name of the log file.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The full name of the log file (with directory).
\end{itemize}

\subsection{CLIENT\_liveLogJobName}
\textbf{Description:} Generates the job name of the sever's live log job.\\
\textbf{Parameter:}
\begin{itemize}
\item client: Name of the client.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The job name of the sever's live log job.
\end{itemize}

\subsection{CLIENT\_stopLiveScreenRecording}
\textbf{Description:} Stops the screen installation session for real-time client logging.\\
\textbf{Parameter:}
\begin{itemize}
\item client: Name of the client.
\end{itemize}

\subsection{CLIENT\_startLiveScreenRecording}
\textbf{Description:} Saves a screen installation session to a log file on the server in real-time. The server runs a screen for consecutively connecting the client.\\
\textbf{Parameter:}
\begin{itemize}
\item client: Name of the client.
\end{itemize}

\subsection{CLIENT\_filterLinesFromLiveScreenRecording}
\textbf{Description:} Filters out unwanted lines from the live log.\\
\textbf{Parameter:}
\begin{itemize}
\item in: Input line to give out or not.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Empty string, if the line should be filtered out or input line.
\end{itemize}

\subsection{CLIENT\_getOverviewSearchLine}
\textbf{Description:} Checks all client search dialogs and returns the current search term.\\
\textbf{Parameter:}
\begin{itemize}
\item amount: Amount of client search dialogs to check.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The current client search term.
\end{itemize}

\subsection{CLIENT\_showOverviewSearchDialog}
\textbf{Description:} Shows a client search dialog for the client overview.\\
\textbf{Parameter:}
\begin{itemize}
\item htmlName: Base name for the HTML edit line and the buttons.
\item addTable: If set to true, a table structure is build around the dialog.
\end{itemize}

\subsection{CLIENT\_extraWebAction}
\textbf{Description:} Executes extra actions from the client details page.\\
\textbf{Parameter:}
\begin{itemize}
\item action: The action to execute.
\item client: Name of the client.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item True if the action was executed or false otherwise.
\end{itemize}

\subsection{CLIENT\_getOption}
\textbf{Description:} Returns an option of a client.\\
\textbf{Parameter:}
\begin{itemize}
\item client: Name of the client.
\item optionName: Name of the option to ask (e.g. 'distr' for the client's distribution)
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Value of the option the client uses.
\end{itemize}

\subsection{CLIENT\_getDistribution}
\textbf{Description:} Returns the distribution of a client.\\
\textbf{Parameter:}
\begin{itemize}
\item client: Name of the client.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Name of the distribution, the client uses.
\end{itemize}

\subsection{CLIENT\_runDebconf}
\textbf{Description:} Generates BASH code to import debconf settings from the DB into the debconf of the client.\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: Name of the client.
\end{itemize}

\subsection{CLIENT\_copyDebconfDB}
\textbf{Description:} Copies all debconf values from one client to another.\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: Name of the source client.
\item destClient: Name of the destination client.
\end{itemize}

\subsection{CLIENT\_setDebconfDB}
\textbf{Description:} Sets debconf values for a client and a package.\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: Name of the client.
\item package: Name of the package.
\item variablesValues[varname][val]: Value for the variable "varname".
\item variablesValues[varname][type]: Type of the variable "varname".
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item debconf for debconf-set-selections.
\end{itemize}

\subsection{CLIENT\_getDebconfDB}
\textbf{Description:} Generates the debconf output as debconf-set-selections expects it from the DB value.\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: Name of the client.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item debconf for debconf-set-selections.
\end{itemize}

\subsection{CLIENT\_getDebconfDBValue}
\textbf{Description:} Get the debconf value of a variable of a package.\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: Name of the client.
\item package: Name of the package.
\item var: Name of the variable to ask the value for.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Value of the package variable.
\end{itemize}

\subsection{CLIENT\_getAllClientNames}
\textbf{Description:} Gets the names of all clients.\\
\textbf{Returns:}
\begin{itemize}
\item Array with the names of all clients.
\end{itemize}

\subsection{CLIENT\_getClientAmount}
\textbf{Description:} Gets the amount of all clients.\\
\textbf{Returns:}
\begin{itemize}
\item Amount of all clients.
\end{itemize}

\subsection{CLIENT\_getCurrentMemoryUsage}
\textbf{Description:} Gets the amount of free and total memory on a client or localhost.\\
\textbf{Parameter:}
\begin{itemize}
\item clientNameOrIP: The name of the client or localhost or an IP.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Associative array with the free memory in \$out['free'] and the total memory in \$out['all'] in KB.
\end{itemize}

\subsection{CLIENT\_getCurrentFreeSpaceInDir}
\textbf{Description:} Get the amount of free space in a given directory on a client or localhost.\\
\textbf{Parameter:}
\begin{itemize}
\item clientNameOrIP: The name of the client or localhost or an IP.
\item dir: The directory to check for.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The amount of free space in the directory in 1K blocks.
\end{itemize}

\subsection{CLIENT\_getClientID}
\textbf{Description:} Returnes the ID of the calling client.\\

\subsection{CLIENT\_getActiveNetDevices}
\textbf{Description:} Checks for active network devices on a client or localhost.\\
\textbf{Parameter:}
\begin{itemize}
\item clientNameOrIP: The name of the client or localhost or an IP.
\item skipLoop: Skip loopdevices in the output array, if set to true.
\item skipEQL: Skip eqldevices in the output array, if set to true.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Associtative array with active network cards (e.g. Array ( [0] =$>$ Array ( [dev] =$>$ eth0 [type] =$>$ encap:Ethernet [mac] =$>$ 00:52:66:23:00:23 ) [1] =$>$ Array ( [dev] =$>$ venet0 [type] =$>$ encap:UNSPEC [mac] =$>$ 00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00 ) )
\end{itemize}

\subsection{CLIENT\_getSSHKeyorPasswordOptions}
\textbf{Description:} Generates SSH options for using sshpass (password given) or SSH public key (no password given).\\
\textbf{Parameter:}
\begin{itemize}
\item password: Password to use, if it's not NULL or empty.
\item sshPass: sshpass commands are written here, if a password is given.
\item sshPubkeyOnlyOptions: SSH options are written here, if no password is given.
\end{itemize}

\subsection{CLIENT\_executeOnClientOrIP}
\textbf{Description:} Runs a script with "screen" in the background or under a plain BASH under a given user. The script can be executed on the local machine "localhost" or a remote client that is accessible via SSH with a public key and without a password.\\
\textbf{Parameter:}
\begin{itemize}
\item clientNameOrIP: The name of the client or localhost or an IP.
\item jobName: name of the job screen should show
\item cmds: the commands of the script 
\item user: user the script should be run under
\item runInScreen: Set to true if the execution should be done in "screen". False executes it under the normal BASH.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The output of the screen (only available on direct output if \$runInScreen is false.
\end{itemize}

\subsection{CLIENT\_isBasesystemInstalledFromImage}
\textbf{Description:} Detects if the base system should be installed from an image.\\
\textbf{Parameter:}
\begin{itemize}
\item options: Array with the client options.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true if it should be installed from an image, otherwise false
\end{itemize}

\subsection{CLIENT\_addClient}
\textbf{Description:} adds a new client to the database and prepares the client for the installation\\
\textbf{Parameter:}
\begin{itemize}
\item data['client']: client name
\item data['office']: office
\item data['name']: name of the user
\item data['familyname']: family name of the user
\item data['email']: email
\item data['mac']: client MAC
\item data['ip']: IP of the client
\item data['netmask']: netmask of the client
\item data['gateway']: gateway of the client
\item data['dns1']: DNS server 1
\item data['dns2']: DNS server 2
\item data['newgroup']: group of the client
\item data['language']: client language
\item data['firstpw']: password for the first user login
\item data['rootpassword']: root password
\item options['packageProxy']: the ip of the proxy the packages should be fetched from
\item options['packagePort']: the proxy port
\item options['netRootPwd']: password for root during network booting
\item options['ldaptype']: type of the LDAP server
\item options['ldapserver']: name of the LDAP server
\item options['nfshomeserver']: NFS home server with full path
\item options['login']: login name for the user
\item options['userID']: user ID for the LDAP account
\item options['groupID']: group ID for the LDAP account
\item options['addNewLocalLogin']		= \$\_POST[addNewLocalLogin];
\item options['timeZone']: POSIX timezone
\item options['getSystemtimeByNTP']: "yes", if the system time should be set with NTP
\item options['installPrinter']: "yes", if printer drivers should be installed and printers detected
\item clientAddType: can be CLIENT\_ADD\_TYPE\_add if the client should be added, CLIENT\_ADD\_TYPE\_define if it should be defined for mass installation or CLIENT\_ADD\_TYPE\_assimilate if the client should be imported into the m23 system.
\item cryptRootPw: set to true, if the password should be encrypted or false, if it's already encrypted
\end{itemize}

\subsection{CLIENT\_IPexists}
\textbf{Description:} checks if an IP with the selected IP exists and returns true if yes, otherwise false\\
\textbf{Parameter:}
\begin{itemize}
\item ip: IP to check
\end{itemize}

\subsection{CLIENT\_MACexists}
\textbf{Description:} checks if a mac with the selected mac exists and returns true if yes, otherwise false\\
\textbf{Parameter:}
\begin{itemize}
\item mac: MAC to check
\end{itemize}

\subsection{CLIENT\_exists}
\textbf{Description:} checks if a client with the selected name exists and returns true if yes, otherwise false\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client
\end{itemize}

\subsection{CLIENT\_getAskingParams}
\textbf{Description:} returns database parameters of the asking client. The client is authetified by its m23shared clients name, client ID or ip\\

\subsection{CLIENT\_getParams}
\textbf{Description:} returns database parameters of a special client\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client
\end{itemize}

\subsection{CLIENT\_getClientStatus}
\textbf{Description:} returnes the current client status\\
\textbf{Parameter:}
\begin{itemize}
\item client: name of the client
\end{itemize}

\subsection{CLIENT\_getProperty}
\textbf{Description:} fetches a property from the client information of the database\\
\textbf{Parameter:}
\begin{itemize}
\item client: name of the client
\item var: name of the property
\end{itemize}

\subsection{CLIENT\_listPackages}
\textbf{Description:} lists all packages on the client\\
\textbf{Parameter:}
\begin{itemize}
\item client: name of the client
\item key: keyword for searching for packages
\item withActions: you can select to draw te action selection button, if you set it to true, you can delete packages and discard package deletion jobs
\end{itemize}

\subsection{CLIENT\_getPossibleActions}
\textbf{Description:} list the possible actions. e.g. if a package is installed it can be uninstalled\\
\textbf{Parameter:}
\begin{itemize}
\item status: actual status of the package
\item actionNr: number of the action radio button
\item package: name of the package
\end{itemize}

\subsection{CLIENT\_acceptChanges}
\textbf{Description:} removes packages or discards changes\\
\textbf{Parameter:}
\begin{itemize}
\item client: name of zhe client
\item amount: amount of packages in the web interface
\end{itemize}

\subsection{CLIENT\_showHardwareInfo}
\textbf{Description:} prints a table with hardware informations\\
\textbf{Parameter:}
\begin{itemize}
\item client: name of zhe client
\end{itemize}

\subsection{CLIENT\_showGeneralInfo}
\textbf{Description:} prints a table with general information\\
\textbf{Parameter:}
\begin{itemize}
\item id: id of the client
\item generateEnterKeep: set to true, if you want these values to be generated,entered or kept
\end{itemize}

\subsection{CLIENT\_showWaitingJobs}
\textbf{Description:} shows the waiting jobs for the client\\
\textbf{Parameter:}
\begin{itemize}
\item client: name of the client
\end{itemize}

\subsection{CLIENT\_setLastmodify}
\textbf{Description:} sets the last modified time of a client\\
\textbf{Parameter:}
\begin{itemize}
\item id: id of the client
\item client: name of the client
\end{itemize}

\subsection{CLIENT\_getNetmaskBits}
\textbf{Description:} Gets the amount of set bits of a netmask.\\
\textbf{Parameter:}
\begin{itemize}
\item netmask: IPv4 netmask.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Amount of set bits of a netmask.
\end{itemize}

\subsection{CLIENT\_getNetmaskFromBitAmount}
\textbf{Description:} Gets the netmask by the amount of set bits.\\
\textbf{Parameter:}
\begin{itemize}
\item bits: Amount if set bits of a netmask.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item IPv4 netmask
\end{itemize}

\subsection{CLIENT\_getSubnet}
\textbf{Description:} gets the subnet of a given ip and netmask\\
\textbf{Parameter:}
\begin{itemize}
\item ip: ip address
\item netmask: netmask
\end{itemize}

\subsection{CLIENT\_getBroadcast}
\textbf{Description:} gets the broadcast of a given ip and netmask\\
\textbf{Parameter:}
\begin{itemize}
\item ip: ip address
\item netmask: netmask
\end{itemize}

\subsection{CLIENT\_convertMac}
\textbf{Description:} converts a mac address to a 00:11... or 0011 format\\
\textbf{Parameter:}
\begin{itemize}
\item mac: the mac address
\item splitter: select a character to split the mac in couples of two characters, if you leeave it blank, splitting characters will be removed
\end{itemize}

\subsection{CLIENT\_getIPbyName}
\textbf{Description:} returns the ip from a selected clientname\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client
\end{itemize}

\subsection{CLIENT\_getNamebyIP}
\textbf{Description:} returns the clientname from a selected ip\\
\textbf{Parameter:}
\begin{itemize}
\item ip: ip of the client
\end{itemize}

\subsection{CLIENT\_getMACbyName}
\textbf{Description:} returns the mac from a selected clientname\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client
\end{itemize}

\subsection{CLIENT\_sshFetchJob}
\textbf{Description:} Connects to the client via SSH and lets the next job fetch and execute it in a screen (named "m23install").\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client
\item ip: Optional parameter for the client's IP (faster than getting the IP by the client name)
\end{itemize}

\subsection{CLIENT\_backToRed}
\textbf{Description:} Sets a client back to red state, as it was just after adding it.\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client
\end{itemize}

\subsection{CLIENT\_desasterRecovery}
\textbf{Description:} recover a client: all client jobs are done again, status is set to 0\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client
\item addInstallRemovalJobs: If set to true, the names of all installed packages will be combined to a m23normal and all revomed to a m23normalRemove job.
\item addShutdownOrRebootPackage: If set to true, a shutdown or reboot package will be added.
\end{itemize}

\subsection{CLIENT\_recoverClientCombineJobs}
\textbf{Description:} Recover a client: all client jobs are done again, status is set to 0, all identical jobs are combines.\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client
\end{itemize}

\subsection{CLIENT\_wol}
\textbf{Description:} wakes a client over the network\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client
\end{itemize}

\subsection{CLIENT\_recalculateStatusBar}
\textbf{Description:} Recalculates the percent points for the pending jobs on a client.\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client
\end{itemize}

\subsection{CLIENT\_resetStatusBar}
\textbf{Description:} Resets the percent points to 0 for the pending jobs on a client.\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client
\end{itemize}

\subsection{CLIENT\_startInstall}
\textbf{Description:} starts the installation on a client\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client
\end{itemize}

\subsection{CLIENT\_resetAndInstall}
\textbf{Description:} Resets or wakes the client to boot from network and run jobs\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client
\end{itemize}

\subsection{CLIENT\_getBootType}
\textbf{Description:} gets the type of network boot (pxe, etherboot)\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client
\end{itemize}

\subsection{CLIENT\_isrunning}
\textbf{Description:} tests out wether a client is up (running) or not\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client
\end{itemize}

\subsection{CLIENT\_reset}
\textbf{Description:} resets a client\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client
\end{itemize}

\subsection{CLIENT\_showLastLogError}
\textbf{Description:} Prints the last error in the client log\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client
\end{itemize}

\subsection{CLIENT\_showLog}
\textbf{Description:} prints the log information of the client\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client
\end{itemize}

\subsection{CLIENT\_getClientName}
\textbf{Description:} returnes the client name of the calling client or the client given by its ID (\$\_GET['m23clientID']).\\

\subsection{CLIENT\_getAllOptions}
\textbf{Description:} gets all options from the options column of a client as associative array\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client
\end{itemize}

\subsection{CLIENT\_setAllOptions}
\textbf{Description:} sets all options in the options column of a client\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client
\item options: the options as associative array
\end{itemize}

\subsection{CLIENT\_getAllAskingOptions}
\textbf{Description:} gets all options from the options column of the calling client as associative array\\

\subsection{CLIENT\_getSetOption}
\textbf{Description:} checks if a variable is set and places its value under the variable name in the options array\\
\textbf{Parameter:}
\begin{itemize}
\item options: name of the options array
\end{itemize}

\subsection{CLIENT\_options2HiddenForm}
\textbf{Description:} generates hidden fields with the values of the option array\\
\textbf{Parameter:}
\begin{itemize}
\item options: name of the options array
\end{itemize}

\subsection{CLIENT\_hiddenForm2options}
\textbf{Description:} reads the option values of the hidden fields and adds them to the options array\\
\textbf{Parameter:}
\begin{itemize}
\item options: name of the options array
\end{itemize}

\subsection{CLIENT\_getStatusimage}
\textbf{Description:} return the image name with the correct color\\
\textbf{Parameter:}
\begin{itemize}
\item status: the status that should be converted to an image
\end{itemize}

\subsection{CLIENT\_showStatusSelection}
\textbf{Description:} shows a dialog that lets you select the current status of a client\\
\textbf{Parameter:}
\begin{itemize}
\item client: the name of the client
\end{itemize}

\subsection{CLIENT\_listCriticalClients}
\textbf{Description:} lists clients with critical status'\\

\subsection{CLIENT\_isInDebugMode}
\textbf{Description:} returnes "true", if a client is in debug mode\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client
\end{itemize}

\subsection{CLIENT\_toggleDebugMode}
\textbf{Description:} en/disables the debug mode of a client\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client
\item enable: set to "true" to activate debug mode or to "false" to disable
\end{itemize}

\subsection{CLIENT\_getStatusimage}
\textbf{Description:} return the image name with the correct color\\
\textbf{Parameter:}
\begin{itemize}
\item status: the status that should be converted to an image
\end{itemize}

\subsection{CLIENT\_generateHTMLStatusBar}
\textbf{Description:} generates HTML code containing the status of the client with links to the pages\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: Name of the m23 client
\item id: ID of the m23 client
\item status: Status (number, green, red, ...) of the client.
\item vmRole: Role of the m23 client (host, guest, no virtualisation)
\item vmSoftware: Number of the used virtualisation software.
\end{itemize}

\subsection{CLIENT\_showDebugSelection}
\textbf{Description:} shows a dialog that lets you select the current debug state of a client\\
\textbf{Parameter:}
\begin{itemize}
\item client: the name of the client
\end{itemize}

\subsection{CLIENT\_isInRescueMode}
\textbf{Description:} checks if a clients has waiting rescue packages\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: the name of the client
\end{itemize}

\subsection{CLIENT\_showDirectConnectionHelp}
\textbf{Description:} returnes the help file for directConnection and replaces place holders with the correct values\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: the name of the client
\item language: language for the help file
\end{itemize}

\subsection{CLIENT\_isInDebugMode}
\textbf{Description:} returnes "true", if the asking client is in debug mode\\

\subsection{CLIENT\_getToDetailsURL}
\textbf{Description:} Generates the link to the client's control center page\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: the name of the client
\item id: the id of the client
\item section: section to jump on the page
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Link to the client's control center page
\end{itemize}

\subsection{CLIENT\_HTMLBackToDetails}
\textbf{Description:} generates HTML code for returning to the client controll center page\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: the name of the client
\item id: the id of the client
\item section: section to jump on the page
\end{itemize}

\subsection{CLIENT\_getId}
\textbf{Description:} returnes the id of a client\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: the name of the client
\end{itemize}

\subsection{CLIENT\_query}
\textbf{Description:} returnes the result of a query for getting all clients matching selected states and groupNames. Empty values are interpreted as 'all' for this kind of value.\\
\textbf{Parameter:}
\begin{itemize}
\item o1: operator 1 (can be '=', '$<$', '$>$') selects of the first state should be equal, smaler or bigger that the state in s1
\item s1: first state to compare with the state of the client
\item o2: operator 2
\item s2: second state to compare
\item groupName: if you want to filter for special group, set it to the group name
\item o3: operator 3
\item s3: third state to compare
\item search: Search string to search all clients for and only list matching clients or all if \$search is empty.
\end{itemize}

\subsection{CLIENT\_addChangeElement}
\textbf{Description:} Generates a HTML dialog element for changing a client property.\\
\textbf{Parameter:}
\begin{itemize}
\item elem: Name of the element.
\item serverOnlyElement: Set to true if the element could only be changed in the DB and not on the server (e.g. a misspelled MAC)
\end{itemize}

\subsection{CLIENT\_showDelDialog}
\textbf{Description:} Shows the dialog for deleting a client.\\

\subsection{CLIENT\_showAddDialog}
\textbf{Description:} shows the dialog for adding, defining or changing a client\\
\textbf{Parameter:}
\begin{itemize}
\item addType: defines the behaviour and appearance of the dialog
\end{itemize}

\subsection{CLIENT\_deleteClient}
\textbf{Description:} deletes a client and shows an optional message\\
\textbf{Parameter:}
\begin{itemize}
\item client: name of the client to delete
\item showMsg: set to true, is a success message should me shown
\item deleteVM: Set to true to delete the VM too.
\end{itemize}

\subsection{CLIENT\_getNames}
\textbf{Description:} returns an array with all clients\\
\textbf{Parameter:}
\begin{itemize}
\item groupName: if the group is set, only clients in the group are returned, otherwise all clients
\end{itemize}

\subsection{CLIENT\_getNamesWithPackages}
\textbf{Description:} returns an array with all clients having packages installed\\
\textbf{Parameter:}
\begin{itemize}
\item showFakeClients: if set to true, fake clients used to store package lists are shown. false only shows real clients
\end{itemize}

\subsection{CLIENT\_changeClient}
\textbf{Description:} changes values of the clients\\

\subsection{CLIENT\_setAllParams}
\textbf{Description:} Sets all parameters in the columns of a client\\
\textbf{Parameter:}
\begin{itemize}
\item client: name of the client
\item data: the options as associative array
\end{itemize}

\subsection{CLIENT\_plinkFetchJob}
\textbf{Description:} Connects to a client over the Putty SSH client and executes a command\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client
\item password: Password for root on the client
\item jobName: name of the screen job on the server
\item ubuntuUser: name of the Ubuntu user or empty if a Debian system is meant.
\end{itemize}

\subsection{CLIENT\_isAssimilated}
\textbf{Description:} Checks, if a client was assimilated.\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the client was assimilated. false, if the client was normaly installed.
\end{itemize}

\subsection{CLIENT\_isDedicatedAndReachable}
\textbf{Description:} Checks, if a client is dedicated to this M23-Server and reachable.\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the client is dedicated and pingable. false, if any of the conditions is false.
\end{itemize}

\subsection{CLIENT\_generateHTMLDedicatedAndReachableStatus}
\textbf{Description:} Generates HTML code and tooltip containing the status of the client showing if it's dedicated and reachable.\\
\textbf{Parameter:}
\begin{itemize}
\item online: true, if client is online
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Associative array containg HTML code and tooltip 
\end{itemize}

\subsection{CLIENT\_sendPlymouthMessage}
\textbf{Description:} If Plymouth is running, display a message\\
\textbf{Parameter:}
\begin{itemize}
\item message: message to display
\end{itemize}

\subsection{CLIENT\_sendNotifySendMessage}
\textbf{Description:} Send message to all users using notify-send\\
\textbf{Parameter:}
\begin{itemize}
\item message: message to display
\item icon\_path: icon shown
\item must\_inform: respect client settings or force message display? default false
\item timeout\_ms: timeout till message disapperas. default 0 (never)
\item title: title of the message
\item escape: escape the message for notify-send? default true
\item timestamp: Show a timestamp at the beginning of the message. default true
\item message: message to display
\item icon\_path: icon shown
\item must\_inform: respect client settings or force message display? default false
\end{itemize}

\newpage\section{./inc/Cm23AdminLister.php}
 Author: Maren Hachmann (maren@goos-habermann.de), Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: Class for listing m23 administrators.\\

\subsection{Cm23AdminLister::AdminExistsDB}
\textbf{Description:} checks if an admin with the selected name exists in the DB and returns true if yes, otherwise false\\
\textbf{Parameter:}
\begin{itemize}
\item name: admin login name to check
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item True if the admin exists in the DB, else false
\end{itemize}

\subsection{Cm23AdminLister::AdminExistsHt}
\textbf{Description:} checks if an admin with the selected name exists in the m23 password file and returns true if yes, otherwise false\\
\textbf{Parameter:}
\begin{itemize}
\item name: admin login name to check
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item True if the admin exists in the password file, else false
\end{itemize}

\subsection{Cm23AdminLister::CountAdmins}
\textbf{Description:} counts the number of registered admins in m23 password file\\
\textbf{Returns:}
\begin{itemize}
\item : number of admins in m23 password file
\end{itemize}

\subsection{Cm23AdminLister::ListAdmins}
\textbf{Description:} lists all admins in m23 password file\\
\textbf{Returns:}
\begin{itemize}
\item : array of admin names in m23 password file
\end{itemize}

\newpage\section{./inc/Cm23Admin.php}
 Author: Maren Hachmann (maren@goos-habermann.de), Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: Class for managing m23 administrators.\\

\subsection{Cm23Admin::\_\_construct}
\textbf{Description:} Constructor for new Cm23Admin objects. The object holds all information about a single admin and loads values from the DB if the admin exists. If only name is given, an admin is loaded from the database, if name and password are given, an admin will be created, if nothing is given, the current admin is loaded and added to database if not already in.\\
\textbf{Parameter:}
\begin{itemize}
\item name: login name of an existing admin (to load or to create).
\item password: password of a new admin (to create).
\end{itemize}

\subsection{Cm23Admin::\_\_destruct}
\textbf{Description:} Destructor for a Cm23Admin object. Prints out messages and saves changed options to the database.\\

\subsection{Cm23Admin::delete}
\textbf{Description:} Deletes an m23 administrator from the database and from the password hash files for m23, backup, backuppc and phpmyldap.\\
\textbf{Returns:}
\begin{itemize}
\item : True if admin could be deleted, False if admin doesn't exist or cannot be deleted (one must remain, can't delete yourself, or errors with DB or files).
\end{itemize}

\subsection{Cm23Admin::changePw}
\textbf{Description:} Changes the password of an m23 administrator in the password hash files for m23, backup, backuppc and phpmyldap.\\
\textbf{Parameter:}
\begin{itemize}
\item \$oldpassword: Password entered by the user, must be correct to be able to change password
\item \$newpassword: New password chosen by the user
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : True if password was changed successfully, false otherwise
\end{itemize}

\subsection{Cm23Admin::setCSS}
\textbf{Description:} sets the CSS file\\
\textbf{Parameter:}
\begin{itemize}
\item \$css: element indicating chosen CSS, see array \$cssList
\end{itemize}

\subsection{Cm23Admin::getCSS}
\textbf{Description:} finds the CSS file for the CSS the user has chosen, defines selection for themeChoice\\
\textbf{Returns:}
\begin{itemize}
\item : name of CSS file
\end{itemize}

\subsection{Cm23Admin::setLanguage}
\textbf{Description:} sets the language for the admin \\
\textbf{Parameter:}
\begin{itemize}
\item \$shortLanguage: indicates chosen language (current valid values: de, en or fr, see I18N\_m23instLanguage(\$shortLanguage))
\end{itemize}

\subsection{Cm23Admin::getLanguage}
\textbf{Description:} finds the language the user has chosen\\
\textbf{Returns:}
\begin{itemize}
\item : name of language
\end{itemize}

\subsection{Cm23Admin::addToDB}
\textbf{Description:} Adds an m23 administrator to the DB\\
\textbf{Parameter:}
\begin{itemize}
\item \$name: User name entered by the user
\item \$password: Password entered by the user
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : True if database action was successful.
\end{itemize}

\subsection{Cm23Admin::addToPwFiles}
\textbf{Description:} Adds an m23 administrator to the password files\\
\textbf{Parameter:}
\begin{itemize}
\item \$name: User name entered by the user
\item \$password: Password entered by the user
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : True if file write action for m23 password file was successful.
\end{itemize}

\subsection{Cm23Admin::delFromPwFiles}
\textbf{Description:} Adds an m23 administrator to the password files\\
\textbf{Parameter:}
\begin{itemize}
\item \$name: User name entered by the user
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : True if file write action for m23 password file was successful.
\end{itemize}

\newpage\section{./inc/CMessageManager.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: Class for managing messages in the m23 webinterface.\\

\subsection{CMessageManager::addMessage}
\textbf{Description:} Generic function for adding a message to a message stack.\\
\textbf{Parameter:}
\begin{itemize}
\item msg: Error message to add.
\item msgVar: The reference to the variable where the massages should be stored.
\item foundVar: The reference to the variable that should be set to true when there are messages in the given stack.
\end{itemize}

\subsection{CMessageManager::addInfoMessage}
\textbf{Description:} Adds an info message to the info message stack and sets the info flag.\\
\textbf{Parameter:}
\begin{itemize}
\item msg: Info message to add.
\end{itemize}

\subsection{CMessageManager::addWarningMessage}
\textbf{Description:} Adds a warning message to the warning message stack and sets the warning flag.\\
\textbf{Parameter:}
\begin{itemize}
\item msg: Warning message to add.
\end{itemize}

\subsection{CMessageManager::addErrorMessage}
\textbf{Description:} Adds an error message to the error message stack and sets the error flag.\\
\textbf{Parameter:}
\begin{itemize}
\item msg: Error message to add.
\end{itemize}

\subsection{CMessageManager::popInfoMessagesHTML}
\textbf{Description:} Returns all info messages and deletes the info message stack.\\
\textbf{Returns:}
\begin{itemize}
\item msg: The complete info message stack.
\end{itemize}

\subsection{CMessageManager::popWarningMessagesHTML}
\textbf{Description:} Returns all warning messages and deletes the warning message stack.\\
\textbf{Returns:}
\begin{itemize}
\item msg: The complete warning message stack.
\end{itemize}

\subsection{CMessageManager::popErrorMessagesHTML}
\textbf{Description:} Returns all error messages and deletes the error message stack.\\
\textbf{Returns:}
\begin{itemize}
\item msg: The complete error message stack.
\end{itemize}

\subsection{CMessageManager::deleteAllMessages}
\textbf{Description:} Deletes all messages from the message stack.\\

\subsection{CMessageManager::hasInfos}
\textbf{Description:} Returns if there are infos.\\
\textbf{Returns:}
\begin{itemize}
\item true, if there have infos been occurred otherwise false.
\end{itemize}

\subsection{CMessageManager::hasWarnings}
\textbf{Description:} Returns if there are warnings.\\
\textbf{Returns:}
\begin{itemize}
\item true, if there have warnings been occurred otherwise false.
\end{itemize}

\subsection{CMessageManager::hasErrors}
\textbf{Description:} Returns if there are errors.\\
\textbf{Returns:}
\begin{itemize}
\item true, if there have errors been occurred otherwise false.
\end{itemize}

\subsection{CMessageManager::showInfo}
\textbf{Description:} Shows existing info messages in an info box if there are any.\\
\textbf{Returns:}
\begin{itemize}
\item true, if there have info been occurred otherwise false.
\end{itemize}

\subsection{CMessageManager::showWarning}
\textbf{Description:} Shows (hopefully not) existing warning messages in a warning box if there are any.\\
\textbf{Returns:}
\begin{itemize}
\item true, if there have warnings been occurred otherwise false.
\end{itemize}

\subsection{CMessageManager::showError}
\textbf{Description:} Shows (hopefully not) existing error messages in an error box if there are any.\\
\textbf{Returns:}
\begin{itemize}
\item true, if there have errors been occurred otherwise false.
\end{itemize}

\subsection{CMessageManager::showMessages}
\textbf{Description:} Shows all existing messages in the according boxes.\\
\textbf{Returns:}
\begin{itemize}
\item true, if there have errors or warnings been occurred otherwise false.
\end{itemize}

\newpage\section{./inc/CObjectStorageManager.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: Class for storing PHP objects in the database.\\

\subsection{CObjectStorageManager::saveObject}
\textbf{Description:} Saves or updates an object in the DB.\\
\textbf{Parameter:}
\begin{itemize}
\item ident: Identifier for objects belonging to e.g. a client.
\item object: The object to store/update for the Identifier.
\end{itemize}

\subsection{CObjectStorageManager::getAllObjectsByRes}
\textbf{Description:} Fetches all objects from the DB that can be read via the given MySQL ressource ID.\\
\textbf{Parameter:}
\begin{itemize}
\item res: MySQL ressource ID.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Array with all matching objects.
\end{itemize}

\subsection{CObjectStorageManager::getByIdent}
\textbf{Description:} Fetches all objects from the DB that match an identifier.\\
\textbf{Parameter:}
\begin{itemize}
\item ident: Identifier for objects belonging to e.g. a client.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Array with all matching objects.
\end{itemize}

\subsection{CObjectStorageManager::getByClass}
\textbf{Description:} Fetches all objects from the DB that match a class.\\
\textbf{Parameter:}
\begin{itemize}
\item class: Class name of the objects to find.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Array with all matching objects.
\end{itemize}

\subsection{CObjectStorageManager::getByIdentClass}
\textbf{Description:} Fetches an object from the DB that match an identifier and a class.\\
\textbf{Parameter:}
\begin{itemize}
\item ident: Identifier for objects belonging to e.g. a client.
\item class: Class name of the objects to find.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Found object or null, if no matching object could be found.
\end{itemize}

\subsection{CObjectStorageManager::deleteObject}
\textbf{Description:} Deletes an object from the DB that match an identifier and a class (given by the object itself).\\
\textbf{Parameter:}
\begin{itemize}
\item ident: Identifier for objects belonging to e.g. a client.
\item object: The object to delete.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if it could be deleted. Otherwise false.
\end{itemize}

\subsection{CObjectStorageManager::getObjectMethodReturnValue}
\textbf{Description:} Checks, if an objects implements a method, calls it and returns the return value. If the method is unimplemented, an error value will be returned.\\
\textbf{Parameter:}
\begin{itemize}
\item object: Object to use.
\item fkt: Name of the function (method)
\item error: Error value to return, if the method is unimplemented.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Return value of the implemented method or given error value if unimplemented.
\end{itemize}

\subsection{CObjectStorageManager::getCOSStatus}
\textbf{Description:} Gets the status code of the object.\\
\textbf{Parameter:}
\begin{itemize}
\item object: Object to use or null, if \$this-$>$object should be used.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Status code.
\end{itemize}

\subsection{CObjectStorageManager::getCOSStatusHumanReadable}
\textbf{Description:} Gets the human readable status of the object.\\
\textbf{Parameter:}
\begin{itemize}
\item object: Object to use or null, if \$this-$>$object should be used.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Human readable status.
\end{itemize}

\subsection{CObjectStorageManager::getCOSI18NVariable}
\textbf{Description:} Gets the contents of an I18N variable for the object (if it exists).\\
\textbf{Parameter:}
\begin{itemize}
\item object: Object to use or null, if \$this-$>$object should be used.
\item varPostfix: String to add to the name of the I18N variable.
\item errMsg: Die message to display if the I18N variable is not set.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Contents of the the I18N variable.
\end{itemize}

\subsection{CObjectStorageManager::getCOSDescription}
\textbf{Description:} Gets the description for a given object class.\\
\textbf{Parameter:}
\begin{itemize}
\item object: Object to use or null, if \$this-$>$object should be used.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Description of the given object class.
\end{itemize}

\subsection{CObjectStorageManager::getCOSName}
\textbf{Description:} Gets the (human readable) name for a given object class.\\
\textbf{Parameter:}
\begin{itemize}
\item object: Object to use or null, if \$this-$>$object should be used.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item (human readable) name of the given object class.
\end{itemize}

\subsection{CObjectStorageManager::showList}
\textbf{Description:} Shows a list of existing objects matching criteria set by getBy* functions.\\

\newpage\section{./inc/CObjectStorage.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: Class for storing PHP objects in the database.\\

\subsection{CObjectStorage::statusCodeToHumanReadable}
\textbf{Description:} Translates a status code (COSSTATUS\_*) into human readable word(s).\\
\textbf{Parameter:}
\begin{itemize}
\item code: The status code (COSSTATUS\_*).
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Human readable word(s) representing the status code.
\end{itemize}

\subsection{CObjectStorage::\_\_construct}
\textbf{Description:} Constructor for new CObjectStorage objects. The object saves/updates or loads an object.\\
\textbf{Parameter:}
\begin{itemize}
\item ident: Identifier for objects belonging to e.g. a client.
\item classOrObject: Class name of the object or the object itself.
\item readFromDBIfObjectExists: Set to true, if an existing object should read from the DB, even if an object is given.
\end{itemize}

\subsection{CObjectStorage::\_\_destruct}
\textbf{Description:} Destructor for storing changed values of the object back to the DB.\\

\subsection{CObjectStorage::getObject}
\textbf{Description:} Gets the object.\\
\textbf{Returns:}
\begin{itemize}
\item object.
\end{itemize}

\subsection{CObjectStorage::destroy}
\textbf{Description:} Destroys the \\
\textbf{Returns:}
\begin{itemize}
\item Human readable status.
\end{itemize}

\newpage\section{./inc/CPackageStatusCompare.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: Class for comparing the package status between clients and files.\\

\subsection{CPackageStatusCompare::\_\_construct}
\textbf{Description:} Constructor for new CPackageStatusCompare objects.\\

\subsection{CPackageStatusCompare::\_\_destruct}
\textbf{Description:} Destructor for a CPackageStatusCompare object.\\

\subsection{CPackageStatusCompare::save}
\textbf{Description:} Saves parameters as hidden POST values.\\

\subsection{CPackageStatusCompare::setFile}
\textbf{Description:} Sets a file name, if the given parameter is a valid file name.\\
\textbf{Parameter:}
\begin{itemize}
\item var: Variable that stores a client or file name.
\item file: Name of the status file.
\item origVar: Variable that stores the original file name.
\item origFile: Original name of the status file.
\end{itemize}

\subsection{CPackageStatusCompare::setFile1}
\textbf{Description:} Sets a 1st file name, if the given parameter is a valid file name.\\
\textbf{Parameter:}
\begin{itemize}
\item origFile: Original file name.
\item file: Name of the status file.
\end{itemize}

\subsection{CPackageStatusCompare::setFile2}
\textbf{Description:} Sets a 2nd file name, if the given parameter is a valid file name.\\
\textbf{Parameter:}
\begin{itemize}
\item origFile: Original file name.
\item file: Name of the status file.
\end{itemize}

\subsection{CPackageStatusCompare::setClient}
\textbf{Description:} Sets a client, if the given parameter is a valid client name.\\
\textbf{Parameter:}
\begin{itemize}
\item var: Variable that stores a client or file name.
\item cl: Name of the client
\end{itemize}

\subsection{CPackageStatusCompare::setClient1}
\textbf{Description:} Sets a client, if the given parameter is a valid client name.\\
\textbf{Parameter:}
\begin{itemize}
\item cl: Name of the client
\end{itemize}

\subsection{CPackageStatusCompare::setClient2}
\textbf{Description:} Sets a client, if the given parameter is a valid client name.\\
\textbf{Parameter:}
\begin{itemize}
\item cl: Name of the client
\end{itemize}

\subsection{CPackageStatusCompare::isClientSet}
\textbf{Description:} Checks, if the client is set.\\
\textbf{Parameter:}
\begin{itemize}
\item var: Variable that stores a client or file name
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if client name is set.
\end{itemize}

\subsection{CPackageStatusCompare::isClient1Set}
\textbf{Description:} Checks, if the 1st client is set.\\
\textbf{Returns:}
\begin{itemize}
\item true, if client name is set.
\end{itemize}

\subsection{CPackageStatusCompare::isClient2Set}
\textbf{Description:} Checks, if the 2nd client is set.\\
\textbf{Returns:}
\begin{itemize}
\item true, if client name is set.
\end{itemize}

\subsection{CPackageStatusCompare::isFile1Set}
\textbf{Description:} Checks, if the 1st combined variable stores a file name.\\
\textbf{Returns:}
\begin{itemize}
\item true, if the variable stores a file name, otherwise false.
\end{itemize}

\subsection{CPackageStatusCompare::isFile2Set}
\textbf{Description:} Checks, if the 2st combined variable stores a file name.\\
\textbf{Returns:}
\begin{itemize}
\item true, if the variable stores a file name, otherwise false.
\end{itemize}

\subsection{CPackageStatusCompare::getVersionStatus}
\textbf{Description:} Gets an array with, the package file name, the version and the status.\\
\textbf{Parameter:}
\begin{itemize}
\item file: File that stores the package information.
\item package: The package to get the information for.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Array with, the package file name, the version and the status.
\end{itemize}

\subsection{CPackageStatusCompare::getStatusFile}
\textbf{Description:} Gets the file name of a package status file. If a client name is give, a temporary package status file will be written.\\
\textbf{Parameter:}
\begin{itemize}
\item clientOrFile: Client or package status file name.
\item isFile: Set to true, if \$clientOrFile is a file, otherwise false.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Array with, the package file name, the version and the status.
\end{itemize}

\subsection{CPackageStatusCompare::showStatusRow}
\textbf{Description:} Gets the file name of a package status file. If a client name is give, a temporary package status file will be written.\\
\textbf{Parameter:}
\begin{itemize}
\item left: Left package name.
\item leftVersion: Left version of the package.
\item leftStatus: Left status of the package.
\item type: diff type.
\item right: Right package name.
\item rightVersion: Right version of the package.
\item rightStatus: Right status of the package.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Array with, the package file name, the version and the status.
\end{itemize}

\subsection{CPackageStatusCompare::diff}
\textbf{Description:} Compares two package status files.\\

\subsection{CPackageStatusCompare::show}
\textbf{Description:} Shows the comparing dialog.\\

\newpage\section{./inc/CPoolFromClientDebsGUI.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: GUI class for building pools from client packages.\\

\subsection{CPoolFromClientDebsGUI::\_\_construct}
\textbf{Description:} Constructor for new CPoolFromClientDebsGUI objects. The object creates a new pool that stores all packages that are needed to install the client.\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: Name of the client to create the pool from.
\end{itemize}

\subsection{CPoolFromClientDebsGUI::addm23BuildPoolFromClientDebsJob}
\textbf{Description:} Adds a m23BuildPoolFromClientDebs job to the client.\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: Name of the client, the pool should be build from.
\end{itemize}

\subsection{CPoolFromClientDebsGUI::DEFINE\_checkboxForAddingm23BuildPoolFromClientDebsPackage}
\textbf{Description:} Defines a checkbox, that adds a m23BuildPoolFromClientDebs job when checked.\\
\textbf{Parameter:}
\begin{itemize}
\item htmlName: Name of the HTML element and constant.
\item clientName: Name of the client, the pool should be build from.
\end{itemize}

\newpage\section{./inc/CPoolFromClientGUI.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: GUI class for building pools from client packages.\\

\subsection{CPoolFromClientGUI::DEFINE\_checkboxForAddingm23BuildPoolFromClientPackage}
\textbf{Description:} Shows a checkbox, that adds a m23BuildPoolFromClient job when checked.\\
\textbf{Parameter:}
\begin{itemize}
\item htmlName: Name of the HTML element and constant.
\item clientName: Name of the client, the pool should be build from.
\end{itemize}

\subsection{CPoolFromClientGUI::setImportPoolName}
\textbf{Description:} Sets the name of this pool by the client name.\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: Name of the client, the pool is build from.
\end{itemize}

\subsection{CPoolFromClientGUI::getImportPoolName}
\textbf{Description:} Returns the name of this pool.\\
\textbf{Returns:}
\begin{itemize}
\item The name of this pool.
\end{itemize}

\subsection{CPoolFromClientGUI::\_\_construct}
\textbf{Description:} Constructor for new CPoolFromClientGUI objects. The object creates a new pool that stores all packages that are needed to install the client.\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: Name of the client to create the pool from.
\end{itemize}

\subsection{CPoolFromClientGUI::getCOSStatusHumanReadable}
\textbf{Description:} Translates the status code (COSSTATUS\_*) into human readable word(s).\\
\textbf{Returns:}
\begin{itemize}
\item Human readable word(s) representing the status code.
\end{itemize}

\subsection{CPoolFromClientGUI::getCOSStatus}
\textbf{Description:} Gets the status code (COSSTATUS\_*).\\
\textbf{Returns:}
\begin{itemize}
\item Status code of this object.
\end{itemize}

\subsection{CPoolFromClientGUI::runCOSLoop}
\textbf{Description:} Function that is called on every run of CObjectStorageManager::getAllObjectsByRes.\\

\subsection{CPoolFromClientGUI::saveInObjectStorage}
\textbf{Description:} Saves this object in the object storage.\\

\newpage\section{./inc/CPoolGUI.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: GUI class for building pools.\\

\subsection{CPoolGUI::show}
\textbf{Description:} Shows the start dialog for creating, adding, deleting and changing pools.\\

\subsection{CPoolGUI::getHelpPage}
\textbf{Description:} Returns the current help page.\\
\textbf{Returns:}
\begin{itemize}
\item Current help page.
\end{itemize}

\subsection{CPoolGUI::getHeading}
\textbf{Description:} Returns the current heading.\\
\textbf{Returns:}
\begin{itemize}
\item Current heading.
\end{itemize}

\subsection{POOL\_showReadCD}
\textbf{Description:} shows a dialog for copying the CD contents to the pool\\
\textbf{Parameter:}
\begin{itemize}
\item poolName: name of the pool
\end{itemize}

\subsection{CPoolGUI::DEFINE\_convertPackagesToRepositoryStatus}
\textbf{Description:} Defines dialog elements for the status of the Packages*  and sources.list generation of the currently generated pool.\\
\textbf{Parameter:}
\begin{itemize}
\item BUT\_refresh: HTML constant name for the refresh button.
\item BUT\_step0: HTML constant name for the go back to start button.
\item LA\_convertPackagesToRepositoryStatus: HTML constant name for showing the conversation status.
\end{itemize}

\subsection{CPoolGUI::DIALOG\_convertPackagesToRepositoryStatus}
\textbf{Description:} Shows information (status of the Packages* generation, sources.list) about the currently generated pool.\\

\subsection{CPoolGUI::DEFINE\_showDownloadStatus}
\textbf{Description:} Defines HTML elements for the package download status of a pool.\\
\textbf{Parameter:}
\begin{itemize}
\item BUT\_step2: HTML constant name for the go to the pool generation dialog button.
\item BUT\_refresh: HTML constant name for the refresh button.
\item LA\_downloadStatus: HTML constant name for showing the download status.
\item SPAN\_poolSize: HTML constant name for showing the size of the pool.
\end{itemize}

\subsection{CPoolGUI::DIALOG\_showDownloadStatus}
\textbf{Description:} Shows the package download status of a pool.\\

\subsection{CPoolGUI::DIALOG\_start}
\textbf{Description:} Shows the start dialog for creating, adding, deleting and changing pools.\\

\subsection{CPoolGUI::DEFINE\_nextStepCopyDownloadPackages}
\textbf{Description:} Defines a button for going to the next step (copy or download of packages).\\
\textbf{Parameter:}
\begin{itemize}
\item BUT\_copyDownloadPackages: HTML constant name for the copy or download of packages button.
\end{itemize}

\subsection{CPoolGUI::DEFINE\_updatePackageIndexAndReSignPool}
\textbf{Description:} Defines a button for re-creating the Packages files and to re-sign the Release file.\\
\textbf{Parameter:}
\begin{itemize}
\item BUT\_reSignPool: HTML constant name for the re-sign button.
\end{itemize}

\subsection{CPoolGUI::DEFINE\_changePoolDescription}
\textbf{Description:} Defines dialog elements for changing the pool description.\\
\textbf{Parameter:}
\begin{itemize}
\item TA\_poolDescription: HTML constant name for the pool description text box.
\item BUT\_poolSaveChanges: HTML constant name for the pool saving button.
\item LA\_poolSourcesList: HTML constant name for showing sourceslist of the pool.
\end{itemize}

\subsection{CPoolGUI::DEFINE\_loadDeletePool}
\textbf{Description:} Defines dialog elements for loading or deleting a pool.\\
\textbf{Parameter:}
\begin{itemize}
\item SEL\_loadDeletePoolname: HTML constant name for the pool name.
\item BUT\_loadPool: HTML constant name for the pool loading button.
\item BUT\_deletePool: HTML constant name for the pool deletion button.
\end{itemize}

\subsection{CPoolGUI::DEFINE\_createBasicPool}
\textbf{Description:} Defines dialog elements for creating a basic pool.\\
\textbf{Parameter:}
\begin{itemize}
\item ED\_createPoolname: HTML constant name for the pool name input field.
\item RB\_createPooltype: HTML constant name for the pool type selection radio buttons.
\item RB\_createPoolarch: HTML constant name for the pool architecture selection radio buttons.
\item BUT\_createPool: HTML constant name for the pool creation button.
\end{itemize}

\newpage\section{./inc/CPoolLister.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: Class for listing pools.\\

\newpage\section{./inc/CPool.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: GUI class for building pools.\\

\subsection{CPool::\_\_construct}
\textbf{Description:} Constructor for new CPool objects that loads existing pools or creates a new basic pool.\\
\textbf{Parameter:}
\begin{itemize}
\item poolName: Name of the pool (if a pool with the given name exists =$>$ load)
\item poolType: Type of the pool (POOL\_TYPE\_CD or CPoolLister::POOL\_TYPE\_DOWNLOAD).
\item poolArch: Architecture of the pool (POOL\_ARCH\_I386 or CPoolLister::POOL\_ARCH\_AMD64).
\end{itemize}

\subsection{CPool::signRelease}
\textbf{Description:} Signs the Release file as Release.gpg and InRelease.\\
\textbf{Returns:}
\begin{itemize}
\item : Name the log file.
\end{itemize}

\subsection{CPool::getConvertPackagesToRepositoryLogName}
\textbf{Description:} Returns the full file name of the convert packages to repository log file.\\
\textbf{Returns:}
\begin{itemize}
\item : Name the log file.
\end{itemize}

\subsection{CPool::getConvertPackagesToRepositoryLogNewLines}
\textbf{Description:} Gets the last (new) lines of the (growing) convert packages to repository log file.\\
\textbf{Returns:}
\begin{itemize}
\item : UTF8-encoded new lines of the log file.
\end{itemize}

\subsection{CPool::isConvertPackagesToRepositoryRunning}
\textbf{Description:} Checks if the conversation of downloaded packages to a repository is running.\\
\textbf{Returns:}
\begin{itemize}
\item : true, if it is running, otherwise false.
\end{itemize}

\subsection{CPool::convertPackagesToRepository}
\textbf{Description:} Generates a package source from packages stored in one directory.\\
\textbf{Parameter:}
\begin{itemize}
\item returnCommands: If set to true, the commands for downloading the packages will be returned instead of executed.
\item runInScreen: Set to true if the execution should be done in "screen". False executes it under the normal BASH.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Commands for creating the package source when \$returnCommands is true, true when the screen session for creating the package source is started and false on errors.
\end{itemize}

\subsection{CPool::isPackageTaskRunning}
\textbf{Description:} Checks if a packages task (download to the pool or creating the pool from downloaded files) is running.\\
\textbf{Parameter:}
\begin{itemize}
\item singleScreenName: Name of the single screen, that is used when downloading and creation of the pool are two seperate screen sessions.
\item 
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : true, if the task is running, otherwise false.
\end{itemize}

\subsection{CPool::isDownloadRunning}
\textbf{Description:} Checks if a download of packages to the pool is running.\\
\textbf{Returns:}
\begin{itemize}
\item : true, if download is running, otherwise false.
\end{itemize}

\subsection{CPool::resetDownloadLog}
\textbf{Description:} Deletes the aptDownload.log file and resets the line number of the last read line.\\

\subsection{CPool::getDownloadLogNewLines}
\textbf{Description:} Gets the last (new) lines of the (growing) download log file.\\
\textbf{Returns:}
\begin{itemize}
\item : UTF8-encoded new lines of the log file.
\end{itemize}

\subsection{CPool::getDownloadLogContents}
\textbf{Description:} Gets the contents of the download log file.\\
\textbf{Returns:}
\begin{itemize}
\item : Contents of the download log file.
\end{itemize}

\subsection{CPool::getPoolImportedFromSourceslist}
\textbf{Description:} Gets the complete sourceslist that was used to download the packages into the pool.\\
\textbf{Returns:}
\begin{itemize}
\item : Sourceslist that was used to download the packages into the pool.
\end{itemize}

\subsection{CPool::setPoolImportedFromSourceslist}
\textbf{Description:} Sets the complete sourceslist that was used to download the packages into the pool.\\
\textbf{Parameter:}
\begin{itemize}
\item importedFromImportedFromSourceslist: Complete sourceslist that was used to download the packages into the pool.
\end{itemize}

\subsection{CPool::hasPoolDownloadBasePackages}
\textbf{Description:} Checks, if base packages should be downloaded.\\
\textbf{Returns:}
\begin{itemize}
\item : true, if base packages should be downloaded otherwise false.
\end{itemize}

\subsection{CPool::setPoolDownloadBasePackages}
\textbf{Description:} Sets, if base packages should be downloaded.\\
\textbf{Parameter:}
\begin{itemize}
\item downloadBasePackages: true, when base packages should be downloaded otherwise false.
\end{itemize}

\subsection{CPool::getPoolImportedPackageList}
\textbf{Description:} Gets the list of packages that were downloaded (or have to be downloaded) into the pool.\\
\textbf{Returns:}
\begin{itemize}
\item : PackageList of the pool.
\end{itemize}

\subsection{CPool::setPoolImportedPackageList}
\textbf{Description:} Sets the list of packages that were downloaded (or have to be downloaded) into the pool.\\
\textbf{Parameter:}
\begin{itemize}
\item packageList: PackageList of the pool.
\end{itemize}

\subsection{CPool::getPoolDistribution}
\textbf{Description:} Gets the distribution value of the pool.\\
\textbf{Returns:}
\begin{itemize}
\item : Distribution of the pool.
\end{itemize}

\subsection{CPool::setPoolDistribution}
\textbf{Description:} Sets the distribution value of the pool.\\
\textbf{Parameter:}
\begin{itemize}
\item distribution: Distribution of the pool.
\end{itemize}

\subsection{CPool::createBasicPool}
\textbf{Description:} Sets the name, type and architecture of the pool and creates the pool directory.\\
\textbf{Parameter:}
\begin{itemize}
\item poolName: Name of the pool.
\item poolType: Type of the pool (POOL\_TYPE\_CD or CPoolLister::POOL\_TYPE\_DOWNLOAD).
\item poolArch: Architecture of the pool (POOL\_ARCH\_I386 or CPoolLister::POOL\_ARCH\_AMD64).
\end{itemize}

\subsection{CPool::getPoolDir}
\textbf{Description:} Gets the directory of the pool.\\
\textbf{Returns:}
\begin{itemize}
\item : Directory of the pool.
\end{itemize}

\subsection{CPool::setPoolName}
\textbf{Description:} Sets the name of the pool and create the pool directory.\\
\textbf{Parameter:}
\begin{itemize}
\item poolName: Name of the pool.
\end{itemize}

\subsection{CPool::getPoolName}
\textbf{Description:} Gets the name of the pool.\\
\textbf{Parameter:}
\begin{itemize}
\item returnEmptyIfNull: Returns an empty string, if \$this-$>$poolName is null.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : Name of the pool.
\end{itemize}

\subsection{CPool::getPoolSourceslist}
\textbf{Description:} Gets the sourceslist value of the pool.\\
\textbf{Returns:}
\begin{itemize}
\item : Sourceslist of the pool.
\end{itemize}

\subsection{CPool::setPoolSourceslist}
\textbf{Description:} Sets the sourceslist value of the pool.\\
\textbf{Parameter:}
\begin{itemize}
\item sourceslist: Sourceslist of the pool.
\end{itemize}

\subsection{CPool::getPoolDescription}
\textbf{Description:} Gets the description value of the pool.\\
\textbf{Returns:}
\begin{itemize}
\item : Description of the pool.
\end{itemize}

\subsection{CPool::setPoolDescription}
\textbf{Description:} Sets the description value of the pool.\\
\textbf{Parameter:}
\begin{itemize}
\item description: Description of the pool.
\end{itemize}

\subsection{CPool::getPoolRelease}
\textbf{Description:} Gets the release value of the pool.\\
\textbf{Returns:}
\begin{itemize}
\item : Release of the pool.
\end{itemize}

\subsection{CPool::setPoolRelease}
\textbf{Description:} Sets the release value of the pool.\\
\textbf{Parameter:}
\begin{itemize}
\item release: Release of the pool.
\end{itemize}

\subsection{CPool::getPoolType}
\textbf{Description:} Gets the type value of the pool.\\
\textbf{Returns:}
\begin{itemize}
\item : Type of the pool.
\end{itemize}

\subsection{CPool::setPoolType}
\textbf{Description:} Sets the type value of the pool.\\
\textbf{Parameter:}
\begin{itemize}
\item type: Type of the pool (POOL\_TYPE\_CD or CPoolLister::POOL\_TYPE\_DOWNLOAD or CPoolLister::POOL\_TYPE\_USECLIENTDEBS).
\end{itemize}

\subsection{CPool::getPoolArch}
\textbf{Description:} Gets the architecture value of the pool.\\
\textbf{Returns:}
\begin{itemize}
\item : Architecture of the pool.
\end{itemize}

\subsection{CPool::setPoolArch}
\textbf{Description:} Sets the architecture value of the pool.\\
\textbf{Parameter:}
\begin{itemize}
\item arch: Architecture of the pool (POOL\_ARCH\_I386 or CPoolLister::POOL\_ARCH\_AMD64).
\end{itemize}

\subsection{CPool::setProperty}
\textbf{Description:} Writes the contents of a property file.\\
\textbf{Parameter:}
\begin{itemize}
\item property: name of the pool property
\item value: value to write in the pool property file
\end{itemize}

\subsection{CPool::getProperty}
\textbf{Description:} Reads the contents of a property file.\\
\textbf{Parameter:}
\begin{itemize}
\item property: Name of the pool property
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Contents of a property file
\end{itemize}

\subsection{CPool::getPoolSize}
\textbf{Description:} Calculates the disk usage of a pool.\\
\textbf{Returns:}
\begin{itemize}
\item Size of the pool in MB
\end{itemize}

\subsection{CPool::destroyPool}
\textbf{Description:} Deletes the pool\\
\textbf{Parameter:}
\begin{itemize}
\item poolName: Name of the pool (can optionally be set here)
\end{itemize}

\subsection{CPool::checkForDistributionSpecificPackageFunction}
\textbf{Description:} Checks for a distribution specific package function in the distribution's packages.php file and generates an error message in case it cannot be found.\\
\textbf{Parameter:}
\begin{itemize}
\item fkt: Name of the function to check for.
\item errorMsg: Error message to add, if the function cannot be found.
\end{itemize}

\subsection{CPool::preparePool}
\textbf{Description:} Prepares the pool to make it able to store software packages.\\
\textbf{Returns:}
\begin{itemize}
\item false on errors, true on success.
\end{itemize}

\subsection{CPool::stopDownloadToPool}
\textbf{Description:} Stops the download of packages to the pool.\\

\subsection{CPool::downloadDebsFromClient}
\textbf{Description:} Checks, if all pre-requirements for downloading packages to the pool are satisfied. Then starts the routine to download the packages directly from the client.\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: Name of the client to download the packages from.
\item returnCommands: If set to true, the commands for downloading the packages will be returned instead of executed.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the download was started otherwise false.
\end{itemize}

\subsection{CPool::startDownloadToPool}
\textbf{Description:} Checks, if all pre-requirements for downloading packages to the pool are satisfied. Then starts the distribution specific download routine.\\
\textbf{Parameter:}
\begin{itemize}
\item returnCommands: If set to true, the commands for downloading the packages will be returned instead of executed.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the download was started otherwise false.
\end{itemize}

\subsection{CPool::getPoolStatusFileName}
\textbf{Description:} Returns the name of the pool status file.\\
\textbf{Returns:}
\begin{itemize}
\item Name of the pool status file.
\end{itemize}

\subsection{CPool::addPoolStatusFileCommand}
\textbf{Description:} Generates BASH code that sets a status in the pool status file.\\
\textbf{Parameter:}
\begin{itemize}
\item status: Status to set in the file.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item BASH code that sets a status in the pool status file.
\end{itemize}

\subsection{CPool::getPoolStatusFileContents}
\textbf{Description:} Gets the contents of the pool status file.\\
\textbf{Returns:}
\begin{itemize}
\item Contents of the pool status file.
\end{itemize}

\subsection{CPool::downloadPackagesAndCreatePool}
\textbf{Description:} Downloads packages and creates a pool from them in one combined screen session.\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: Name of the client (only needed when downloadDebsFromClient is used)
\end{itemize}

\newpage\section{./inc/cron.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: Functions for managing cron jobs.\\

\subsection{CRON\_genCronEntry}
\textbf{Description:} Creates a cron line to insert into crontab.\\
\textbf{Parameter:}
\begin{itemize}
\item min: Minute or * for every minute to execute the cron job. (0-59)
\item hour: Hour or * for every hour to execute the cron job. (0-23)
\item dayOfMonth: The day in the month or * for all days to execute the cron job. (1-31)
\item month: The month or * for every months to execute the cron job. (1-12)
\item dayOfWeek: The day in the week or * for every week days to execute the cron job. (0-7 (0 or 7 is Sun))
\item user: The user the cron job should be run under.
\item cmd: The command to exectute.
\item identifier: A string to identify the cron entry (for deletion)
\item runInScreen: Set to true if the command should be run in a screen.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The crontab line that can be inserted.
\end{itemize}

\subsection{CRON\_addJobMinutely}
\textbf{Description:} Runs a command every N minutes.\\
\textbf{Parameter:}
\begin{itemize}
\item intervall: Amount of minutes to wait between calls.
\item user: The user the cron job should be run under.
\item cmd: The command to exectute.
\item identifier: A string to identify the cron entry (for deletion)
\item runInScreen: Set to true if the command should be run in a screen.
\end{itemize}

\subsection{CRON\_addJobBasic}
\textbf{Description:} Adds a command to the crontab.\\
\textbf{Parameter:}
\begin{itemize}
\item min: Minute or * for every minute to execute the cron job. (0-59)
\item hour: Hour or * for every hour to execute the cron job. (0-23)
\item dayOfMonth: The day in the month or * for all days to execute the cron job. (1-31)
\item month: The month or * for every months to execute the cron job. (1-12)
\item dayOfWeek: The day in the week or * for every week days to execute the cron job. (0-7 (0 or 7 is Sun))
\item user: The user the cron job should be run under.
\item cmd: The command to exectute.
\item identifier: A string to identify the cron entry (for deletion)
\item runInScreen: Set to true if the command should be run in a screen.
\end{itemize}

\subsection{CRON\_rmJob}
\textbf{Description:} Removes an entry from the crontab.\\
\textbf{Parameter:}
\begin{itemize}
\item identifier: A string to identify the cron entry (for deletion)
\end{itemize}

\subsection{CRON\_reloadConfig}
\textbf{Description:} Reloads cron with new crontab.\\

\subsection{CRON\_addJobHourly}
\textbf{Description:} Runs a command every N hours.\\
\textbf{Parameter:}
\begin{itemize}
\item min: Minute or * for every minute to execute the cron job. (0-59)
\item user: The user the cron job should be run under.
\item cmd: The command to exectute.
\item identifier: A string to identify the cron entry (for deletion)
\item runInScreen: Set to true if the command should be run in a screen.
\end{itemize}

\subsection{CRON\_addJobDayly}
\textbf{Description:} Runs a command every day at a specified time.\\
\textbf{Parameter:}
\begin{itemize}
\item min: Minute or * for every minute to execute the cron job. (0-59)
\item hour: Hour or * for every hour to execute the cron job. (0-23)
\item user: The user the cron job should be run under.
\item cmd: The command to exectute.
\item identifier: A string to identify the cron entry (for deletion)
\item runInScreen: Set to true if the command should be run in a screen.
\end{itemize}

\subsection{CRON\_addJobWeekly}
\textbf{Description:} Runs a command every week on a specified week day at a specified time.\\
\textbf{Parameter:}
\begin{itemize}
\item min: Minute or * for every minute to execute the cron job. (0-59)
\item hour: Hour or * for every hour to execute the cron job. (0-23)
\item dayOfWeek: The day in the week or * for every week days to execute the cron job. (0-7 (0 or 7 is Sun))
\item user: The user the cron job should be run under.
\item cmd: The command to exectute.
\item identifier: A string to identify the cron entry (for deletion)
\item runInScreen: Set to true if the command should be run in a screen.
\end{itemize}

\subsection{CRON\_getTimeBaseArray}
\textbf{Description:} Returns an associative array that contains the timebases for cron that are supported by m23.\\
\textbf{Returns:}
\begin{itemize}
\item Associative array with the timebases for cron that are supported by m23 with one-character name as key and language specific human readable string as value.
\end{itemize}

\subsection{CRON\_getDayOfWeekArray}
\textbf{Description:} Returns an associative array that contains the week day names for cron.\\
\textbf{Returns:}
\begin{itemize}
\item Associative array with the week day names for cron with three letter cron name as key and language specific human readable week day as value.
\end{itemize}

\subsection{CRON\_checkMinute}
\textbf{Description:} Checks if a minute value is valid.\\
\textbf{Parameter:}
\begin{itemize}
\item min: Minute value to check.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item True if it is valid otherwise false.
\end{itemize}

\subsection{CRON\_checkHour}
\textbf{Description:} Checks if a hour value is valid.\\
\textbf{Parameter:}
\begin{itemize}
\item hour: Hour value to check.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item True if it is valid otherwise false.
\end{itemize}

\subsection{CRON\_isEntryPresent}
\textbf{Description:} Checks, if a crontab entry is present with a given identifier.\\
\textbf{Parameter:}
\begin{itemize}
\item identifier: A string to identify the cron entries
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if a crontab entry is present with a given identifier, otherwise false.
\end{itemize}

\subsection{CRON\_getEntriesByIdentifier}
\textbf{Description:} Parses the crontab for all lines matching the identifier.\\
\textbf{Parameter:}
\begin{itemize}
\item identifier: A string to identify the cron entries
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Associative array with the crontab lines that match the identifier and named by the parameters.
\end{itemize}

\subsection{CRON\_getNextIdentifierNr}
\textbf{Description:} Calculates the next higher identifier number from a given identifier.\\
\textbf{Parameter:}
\begin{itemize}
\item identifier: A string to identify the cron entries.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Identifier with next higher number attaced.
\end{itemize}

\subsection{CRON\_cronManagementDialog}
\textbf{Description:} Shows a dialog for viewing, adding and deleting crontab entries for a given user, command and identifier.\\
\textbf{Parameter:}
\begin{itemize}
\item user: The user the cron job should be run under.
\item cmd: The command to exectute.
\item identifier: A string to identify the cron entry (for deletion)
\item runInScreen: Set to true if the command should be run in a screen.
\end{itemize}

\subsection{CRON\_cronEntryDeletionDialog}
\textbf{Description:} Shows a a list of crontab entries matching the identifier with deletion option.\\
\textbf{Parameter:}
\begin{itemize}
\item identifier: A string to identify the cron entry (for deletion)
\end{itemize}

\subsection{CRON\_translateEveryIntervallValue}
\textbf{Description:} Translates a time value with possible intervall into a human readable string.\\
\textbf{Parameter:}
\begin{itemize}
\item val: Time value (e.g. 2/2)
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Human readable string for a given time value.
\end{itemize}

\newpage\section{./inc/CScredit.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: Functions for the embedded script editor.\\

\subsection{CScredit::\_\_construct}
\textbf{Description:} Constructor for new CScredit objects.\\

\subsection{CScredit::setCurrentScriptFilename}
\textbf{Description:} Corrects the given filename to have it a valid prefix and suffix and sets it as current file name.\\
\textbf{Parameter:}
\begin{itemize}
\item filename: The filename to check and correct.
\end{itemize}

\subsection{CScredit::getCurrentScriptFilename}
\textbf{Description:} Gets the current script filename.\\
\textbf{Returns:}
\begin{itemize}
\item Current script filename.
\end{itemize}

\subsection{CScredit::getCurrentScriptFilenameFullPath}
\textbf{Description:} Gets the current script filename with full path.\\
\textbf{Returns:}
\begin{itemize}
\item Current script filename full path.
\end{itemize}

\subsection{CScredit::getCurrentScriptFilenameWithoutInstallPhp}
\textbf{Description:} Gets the current script filename without "Install.php" at its end.\\
\textbf{Returns:}
\begin{itemize}
\item Current script filename without "Install.php" at its end.
\end{itemize}

\subsection{CScredit::getLocalScriptFilenames}
\textbf{Description:} Gets the filenames of local scripts.\\
\textbf{Returns:}
\begin{itemize}
\item Array with the filenames of local scripts.
\end{itemize}

\subsection{CScredit::updateOnlineScriptInfo}
\textbf{Description:} Downloads the information about online available scripts.\\
\textbf{Returns:}
\begin{itemize}
\item true, if the information could be fetched, otherwise false.
\end{itemize}

\subsection{CScredit::getNextOnlineScriptInfo}
\textbf{Description:} Gets an information about all scripts that are available online. Every call of the function fetches the information about one script.\\
\textbf{Parameter:}
\begin{itemize}
\item ts: Timestamp, when the script was uploaded.
\item scriptId: Id of the script (needed for download).
\item scriptName: Name of the script.
\item author: Name of the author.
\item description: Description for the script.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if an entry could be read otherwise (e.g. if all entries were read) false.
\end{itemize}

\subsection{CScredit::loadOnlineScript}
\textbf{Description:} Loads an online script into the editor.\\
\textbf{Parameter:}
\begin{itemize}
\item scriptIdToLoad: Id of the script to load.
\end{itemize}

\subsection{CScredit::getOnlineScriptDialog}
\textbf{Description:} Generates a dialog with JavaScript to get information about online scripts with download option.\\
\textbf{Returns:}
\begin{itemize}
\item Dialog (HTML) with JavaScript to get information about online scripts with download option.
\end{itemize}

\subsection{CScredit::isNotSaved}
\textbf{Description:} Returns if there is no script in the editor (after submitting).\\
\textbf{Returns:}
\begin{itemize}
\item true, if there is no script in the editor (after submitting), otherwise false.
\end{itemize}

\subsection{CScredit::getNewScriptTemplate}
\textbf{Description:} Returns a template for a basic script.\\
\textbf{Returns:}
\begin{itemize}
\item Text of the script template.
\end{itemize}

\subsection{CScredit::uploadScript}
\textbf{Description:} Checks, if all needed information are given before uploading the script.\\
\textbf{Parameter:}
\begin{itemize}
\item author: Name of the script author (or pseudonyme)
\item description: Description for the script.
\item text: The script code itself.
\end{itemize}

\subsection{CScredit::getCurrentScript}
\textbf{Description:} Get the text of the editor window.\\
\textbf{Returns:}
\begin{itemize}
\item Current text of the editor window.
\end{itemize}

\subsection{CScredit::setCurrentScript}
\textbf{Description:} Set the text of the editor window.\\
\textbf{Parameter:}
\begin{itemize}
\item text: Current text of the editor window to set.
\end{itemize}

\subsection{CScredit::deleteCurrentScript}
\textbf{Description:} Deletes the current script, if one is loaded.\\
\textbf{Returns:}
\begin{itemize}
\item true, if the script could be deleted, otherwise false.
\end{itemize}

\subsection{CScredit::getViewScriptOutputDialog}
\textbf{Description:} Generates a dialog with JavaScript to choose a client and to open the script output viewer for the currentry saved script.\\
\textbf{Returns:}
\begin{itemize}
\item Dialog (HTML) with JavaScript to choose a client and to open the script output viewer for the currentry saved script.
\end{itemize}

\subsection{CScredit::saveScript}
\textbf{Description:} Saves the script in the editor to the file.\\

\subsection{CScredit::show}
\textbf{Description:} Shows a script editor with syntax highlighting.\\

\newpage\section{./inc/CSystemProxy.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: Class for managing systemwide proxies.\\

\subsection{CSYSTEMPROXY\_getProxySettingsFromAPT}
\textbf{Description:} Parses the (maybe existing) proxy settings from the local APT config file.\\
\textbf{Returns:}
\begin{itemize}
\item Array with the proxy settings.
\end{itemize}

\subsection{CSYSTEMPROXY\_addCurlProxySettings}
\textbf{Description:} Sets proxy settings for curl, if a proxy is active.\\

\subsection{CSYSTEMPROXY\_getUserPasswordString}
\textbf{Description:} Creates a string with the user/password combination (\$user:\$pass@).\\
\textbf{Parameter:}
\begin{itemize}
\item connector: Character to connect the user/password combination with the following words.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item String with the user/password combination (\$user:\$pass@) or empty string, if no proxy authentifictaion is used.
\end{itemize}

\subsection{CSYSTEMPROXY\_getEnvironmentVariables}
\textbf{Description:} Generates BASH proxy variables.\\
\textbf{Parameter:}
\begin{itemize}
\item getAlways: If set to true, the variables will always be returned.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item BASH proxy variables.
\end{itemize}

\subsection{CSYSTEMPROXY\_getAptGetProxyParamter}
\textbf{Description:} Generates the apt-get proxy parameters.\\
\textbf{Returns:}
\begin{itemize}
\item : apt-get proxy parameters, if the system proxy is acive otherwise empty string.
\end{itemize}

\subsection{CSystemProxy::\_\_construct}
\textbf{Description:} Constructor for new CSystemProxy objects.\\

\subsection{CSystemProxy::writeEtcProfiles}
\textbf{Description:} Writes the proxy settings to the environment file.\\

\subsection{CSystemProxy::writeAPTProxyConf}
\textbf{Description:} Writes the proxy settings to the APT configuration file or comments them out.\\

\subsection{CSystemProxy::writeSquidConf}
\textbf{Description:} Writes the (parent) proxy settings to the Squid configuration or removed them.\\

\subsection{CSystemProxy::save}
\textbf{Description:} Saves the proxy settings in all configuration files.\\

\subsection{CSystemProxy::showProxyDialog}
\textbf{Description:} Shows a dialog for editing the the proxy settings.\\

\subsection{CSystemProxy::loadProxySettings}
\textbf{Description:} Loads the proxy settings (from APT config file).\\

\subsection{CSystemProxy::isProxyActive}
\textbf{Description:} Checks, if a proxy is actively used.\\
\textbf{Returns:}
\begin{itemize}
\item true, if a proxy is actively used, otherwise false.
\end{itemize}

\subsection{CSystemProxy::setProxyActive}
\textbf{Description:} Activated or deactivates a proxy.\\
\textbf{Parameter:}
\begin{itemize}
\item active: Set to true to activate or false to deactivate proxy usage.
\end{itemize}

\subsection{CSystemProxy::areProxySettingsAvailable}
\textbf{Description:} Checks, if proxy settings are available.\\
\textbf{Returns:}
\begin{itemize}
\item true, if proxy settings are available, otherwise false.
\end{itemize}

\subsection{CSystemProxy::setProxyHost}
\textbf{Description:} Sets the proxy host/servername.\\
\textbf{Parameter:}
\begin{itemize}
\item hos: Proxy host/servername.
\end{itemize}

\subsection{CSystemProxy::getProxyHost}
\textbf{Description:} Gets the proxy host/servername.\\
\textbf{Returns:}
\begin{itemize}
\item Proxy host/servername.
\end{itemize}

\subsection{CSystemProxy::getProxyHostIP}
\textbf{Description:} Gets the proxy IP.\\
\textbf{Returns:}
\begin{itemize}
\item Proxy IP or false, if the proxy IP could not be detected.
\end{itemize}

\subsection{CSystemProxy::usesUserPassword}
\textbf{Description:} Checks, if the proxy uses user/password authetification.\\
\textbf{Returns:}
\begin{itemize}
\item true, if the proxy uses user/password authetification, otherwise false.
\end{itemize}

\subsection{CSystemProxy::setProxyUser}
\textbf{Description:} Sets the proxy authentification username.\\
\textbf{Parameter:}
\begin{itemize}
\item user: The username for proxy authentification.
\end{itemize}

\subsection{CSystemProxy::getProxyUser}
\textbf{Description:} Gets the proxy authentification username.\\
\textbf{Returns:}
\begin{itemize}
\item Proxy authentification username.
\end{itemize}

\subsection{CSystemProxy::setProxyPassword}
\textbf{Description:} Sets the proxy authentification password.\\
\textbf{Parameter:}
\begin{itemize}
\item pass: Proxy authentification password.
\end{itemize}

\subsection{CSystemProxy::getProxyPassword}
\textbf{Description:} Gets the proxy authentification password.\\
\textbf{Returns:}
\begin{itemize}
\item Proxy authentification password.
\end{itemize}

\subsection{CSystemProxy::setProxyScheme}
\textbf{Description:} Sets the proxy scheme (http/ftp).\\
\textbf{Parameter:}
\begin{itemize}
\item scheme: Proxy scheme (http/ftp)
\end{itemize}

\subsection{CSystemProxy::getProxyScheme}
\textbf{Description:} Gets the proxy scheme (http/ftp).\\
\textbf{Returns:}
\begin{itemize}
\item Proxy scheme (http/ftp)
\end{itemize}

\subsection{CSystemProxy::setProxyPort}
\textbf{Description:} Sets the proxy port.\\
\textbf{Parameter:}
\begin{itemize}
\item port: Proxy port.
\end{itemize}

\subsection{CSystemProxy::getProxyPort}
\textbf{Description:} Gets the proxy port.\\
\textbf{Returns:}
\begin{itemize}
\item Proxy port.
\end{itemize}

\subsection{CSystemProxy::getUserPasswordString}
\textbf{Description:} Creates a string with the user/password combination (\$user:\$pass@).\\
\textbf{Parameter:}
\begin{itemize}
\item connector: Character to connect the user/password combination with the following words.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item String with the user/password combination (\$user:\$pass@) or empty string, if no proxy authentifictaion is used.
\end{itemize}

\newpage\section{./inc/db.php}
 Author: Daniel Kasten (DKasten@pc-kiel.de) ,Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: database functions, open, close the database, get ip of the calling client\\

\subsection{ip2longSafe}
\textbf{Description:} Special version of ip2long that is safe on 32 bit machines.\\
\textbf{Parameter:}
\begin{itemize}
\item in: Input v4 IP (e.g. 192.168.1.23) or number.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Unsigned long representation of the input IP or the input numer.
\end{itemize}

\subsection{getArchList}
\textbf{Description:} Returns an associative array with the supported CPU architectures as key and value.\\
\textbf{Returns:}
\begin{itemize}
\item Associative array with the supported CPU architectures as key and value.
\end{itemize}

\subsection{isMySQL3used}
\textbf{Description:} checks if MySQL 3 is installed and returnes true if v3 is found, otherwise false\\

\subsection{encryptShadow}
\textbf{Description:} encrypts a password for adding a user to the client\\
\textbf{Parameter:}
\begin{itemize}
\item userName: the username for the account
\item password: the unecrypted password to encrypt
\end{itemize}

\subsection{getClientLanguage}

\subsection{getInstDev}
\textbf{Description:} fetch the device for installation\\
\textbf{Parameter:}
\begin{itemize}
\item id: package ID
\end{itemize}

\subsection{DB\_getConnection}
\textbf{Description:} Gets the MySQLi connection.\\
\textbf{Returns:}
\begin{itemize}
\item MySQLi connection.
\end{itemize}

\subsection{DB\_setConnection}
\textbf{Description:} Sets the MySQLi connection to use globally.\\
\textbf{Parameter:}
\begin{itemize}
\item conn: MySQLi connection to use globally.
\end{itemize}

\subsection{DB\_isConnectionValid}
\textbf{Description:} Checks, if the MySQLi connection is valid.\\
\textbf{Returns:}
\begin{itemize}
\item true on valid MySQLi connection, otherwise false.
\end{itemize}

\subsection{dbConnect}
\textbf{Description:} connects to the m23 database\\

\subsection{dbClose}
\textbf{Description:} closes the connection to the m23 database\\

\subsection{DB\_getSuperUserName}
\textbf{Description:} Returns the name of the super MySQL/MariaDB user.\\
\textbf{Returns:}
\begin{itemize}
\item Name of the super MySQL/MariaDB user.
\end{itemize}

\subsection{DB\_getSuperUserPassword}
\textbf{Description:} Returns the password (or empty) of the super MySQL/MariaDB user.\\
\textbf{Returns:}
\begin{itemize}
\item Password (or empty) of the super MySQL/MariaDB user.
\end{itemize}

\subsection{getServerIP}
\textbf{Description:} returnes the IP of the m23 server\\
\textbf{Returns:}
\begin{itemize}
\item IP of the m23 server.
\end{itemize}

\subsection{getServerNetmask}
\textbf{Description:} returnes the netmask of the m23 server\\

\subsection{getServerNetwork}
\textbf{Description:} Get the network IP of the m23 server.\\
\textbf{Returns:}
\begin{itemize}
\item Network IP of the m23 server.
\end{itemize}

\subsection{getDNSServers}
\textbf{Description:} Returnes an array with the DNS servers of the m23 server.\\

\subsection{getServerGateway}
\textbf{Description:} Returnes the gateway of the m23 server\\

\subsection{sendClientStatus}
\textbf{Description:} generates a bash script to send a status to the server\\
\textbf{Parameter:}
\begin{itemize}
\item id: package ID
\item status: done, waiting; finished jobs should be set to done, waiting should not be used from this place
\end{itemize}

\subsection{sendClientStageStatus}
\textbf{Description:} generates a bash script to send a stage status to the server\\
\textbf{Parameter:}
\begin{itemize}
\item status: 0: client waiting for hardware detection, 1 hardware detection done, 2 partitionated and formated, base system is installed
\end{itemize}

\subsection{returnClientStageStatus}
\textbf{Description:} generates a bash script to send a stage status to the server\\
\textbf{Parameter:}
\begin{itemize}
\item status: 0: client waiting for hardware detection, 1 hardware detection done, 2 partitionated and formated, base system is installed
\end{itemize}

\subsection{sendClientLogStatus}
\textbf{Description:} generates a bash script to send log status to the server\\
\textbf{Parameter:}
\begin{itemize}
\item status: how the line should be named, that is logged to the server
\item ok: true: operation sucessful, false: failure
\item critical: if it is set to "true" the execution of the script is stopped and a local rescue console is opened
\end{itemize}

\subsection{deleteClientLogs}
\textbf{Description:} deletes the installation logs\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client to delete all logs
\end{itemize}

\subsection{workPhpName}
\textbf{Description:} Generates an unique name for storing the work.php file.\\
\textbf{Returns:}
\begin{itemize}
\item Unique name for storing the work.php file.
\end{itemize}

\subsection{executeNextWork}
\textbf{Description:} generates a bash script that fetches the next work.php from server\\

\subsection{DB\_query}
\textbf{Description:} makes a query and returns the default error message if an error occurs\\
\textbf{Parameter:}
\begin{itemize}
\item sql: sql query
\end{itemize}

\subsection{DB\_queryNoDie}
\textbf{Description:} Executes a SQL query and returns the resource id to access the result.\\
\textbf{Returns:}
\begin{itemize}
\item Ressource id of the query result and DOESN'T die on an error.
\end{itemize}

\subsection{DB\_genPassword}
\textbf{Description:} generates a random password with a specified length\\
\textbf{Parameter:}
\begin{itemize}
\item length: length of password
\end{itemize}

\subsection{getClientIP}
\textbf{Description:} returnes the IP of the calling client\\

\subsection{implodeAssoc}
\textbf{Description:} makes a string from an associative array\\
\textbf{Parameter:}
\begin{itemize}
\item glue: the string to glue the parts of the array with
\item arr: array to implode
\end{itemize}

\subsection{explodeAssoc}
\textbf{Description:} makes an associative array from a string\\
\textbf{Parameter:}
\begin{itemize}
\item glue: the string to glue the parts of the array with
\item arr: array to explode
\end{itemize}

\subsection{sedSearchReplace}
\textbf{Description:} generates BASH code to search and replace a string in a file using sed keeping the ownership an permissions\\
\textbf{Parameter:}
\begin{itemize}
\item pathFile: file with whole path, in that should be searched and replaced
\item search: search pattern
\item replace: replace string
\end{itemize}

\subsection{isProgrammInstalled}
\textbf{Description:} returnes true if a programm can be used\\
\textbf{Parameter:}
\begin{itemize}
\item progName: name of the programm
\end{itemize}

\subsection{pingIP}
\textbf{Description:} tests, if someone is answering the ping on a given IP address. returnes true, if someone answers (needs "iputils-ping" to be installed)\\
\textbf{Parameter:}
\begin{itemize}
\item ip
\end{itemize}

\subsection{delFromArray}
\textbf{Description:} deletes all entries in the array \$arr assigned by the keys stored in the array \$delKeys. the new array without the entries in \$delKeys is returned.\\
\textbf{Parameter:}
\begin{itemize}
\item arr: array with the entries to filter
\item delKeys: array with all keys to delete from \$arr
\end{itemize}

\subsection{delValuesFromArray}
\textbf{Description:} deletes all entries in the array \$arr with values stored in the array \$delVals.\\
\textbf{Parameter:}
\begin{itemize}
\item arr: array with the entries to filter
\item delVals: array with all values to delete from \$arr
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item array without the entries in \$delVals.
\end{itemize}

\subsection{DB\_getLikeableColumns}
\textbf{Description:} Returns an associative array that contains all fields of a table that can be searched by LIKE.\\
\textbf{Parameter:}
\begin{itemize}
\item table: Name of the table to search.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item associative array that contains all fields of a table that can be searched by LIKE.
\end{itemize}

\subsection{DB\_getArrayAssoc}
\textbf{Description:} Fetches all results from a query.\\
\textbf{Parameter:}
\begin{itemize}
\item result: MySQLi result.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Array with continuous numbers as keys and associative arrays with the result rows as value.
\end{itemize}

\subsection{DB\_getTableColumns}
\textbf{Description:} Creates an associative array with table and column names and their data types and codepages (collation).\\
\textbf{Parameter:}
\begin{itemize}
\item dbName: Name of the database.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Associative array with table and column names and their data types and codepages (collation).
\end{itemize}

\subsection{DB\_changeAllCollations}
\textbf{Description:} Changes the codepage for the collation of all text fields in all tables of a database.\\
\textbf{Parameter:}
\begin{itemize}
\item destCodepage: Wanted codepage.
\item dbName: Name of the database.
\end{itemize}

\newpage\section{./inc/dhcp.php}
 Author: Daniel Kasten (DKasten@pc-kiel.de), Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: functions to add and remove a client to/from the dhcp server list.\\

\subsection{DHCP\_exportDHCPSettingsForExternalDHCPServer}
\textbf{Description:} Exports the DHCP settings of m23 clients that are booting over the network and adds settings for external DHCP servers.\\

\subsection{DHCP\_lineNumberAffterLastClient}
\textbf{Description:} Gets the line number with the last client definition in the dhcpd.conf.\\
\textbf{Returns:}
\begin{itemize}
\item Line number with the last client definition in the dhcpd.conf.
\end{itemize}

\subsection{DHCP\_addSubnetDefinition}
\textbf{Description:} Adds the subnet definition to the dhcpd.conf to let the DHCP server give out network information to clients to other subnets.\\
\textbf{Parameter:}
\begin{itemize}
\item subnet: The subnet.
\item netmask: netmask for the ip
\end{itemize}

\subsection{DHCP\_delSubnetDefinition}
\textbf{Description:} Removes a subnet definition from the dhcpd.conf.\\
\textbf{Parameter:}
\begin{itemize}
\item subnet: The subnet.
\item netmask: netmask for the ip
\end{itemize}

\subsection{DHCP\_addDynamicRange}
\textbf{Description:} Adds a dynamic IP range to the dhcpd.conf and restarts the DHCP server.\\
\textbf{Parameter:}
\begin{itemize}
\item firstIP: The first IP marking the begin of the dynamic IP range.
\item lastIP: The last IP marking the end of the dynamic IP range.
\item netmask: Netmask for the IPs.
\item gateway: The gateway IP.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the DHCP server could be restarted with the new settings.
\end{itemize}

\subsection{DHCP\_getDynamicRanges}
\textbf{Description:} Gets all dynamic IP ranges from the dhcpd.conf.\\
\textbf{Returns:}
\begin{itemize}
\item Associative array with the found IP ranges (e.g. Array ( [0] =$>$ Array ( [netmask] =$>$ 255.255.255.0 [firstIP] =$>$ 192.168.1.10 [lastIP] =$>$ 192.168.1.200 [gateway] =$>$ 192.168.1.1 ) [1] =$>$ ...)) or empty array.
\end{itemize}

\subsection{DHCP\_getNetmaskOfDynamicRanges}
\textbf{Description:} Gets the netmask of a dynamic range identified by the first IP of the range.\\
\textbf{Parameter:}
\begin{itemize}
\item firstIP: The first IP marking the begin of the dynamic IP range.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Netmask or false in case of an error.
\end{itemize}

\subsection{DHCP\_delDynamicRange}
\textbf{Description:} Removes a dynamic IP range from the dhcpd.conf and restarts the DHCP server.\\
\textbf{Parameter:}
\begin{itemize}
\item firstIP: The first IP marking the begin of the dynamic IP range.
\item lastIP: The last IP marking the end of the dynamic IP range.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the DHCP server could be restarted with the new settings.
\end{itemize}

\subsection{DHCP\_bootTypeToNewFormat}
\textbf{Description:} Converts a boolean boot type to the new string format.\\
\textbf{Parameter:}
\begin{itemize}
\item bootType: Boolean or string format (e.g. "pxe") boot type.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item String format (e.g. "pxe") boot type.
\end{itemize}

\subsection{DHCP\_runScript}
\textbf{Description:} Runs the script for controlling an external DHCP server.\\
\textbf{Parameter:}
\begin{itemize}
\item command: 'add' for adding an entry to the DHCP server or 'remove' for removing.
\item clientName: name of the client
\item ip: ip address of the client
\item netmask: netmask for the ip
\item mac: mac addresse of the network card
\item bootType: Parameter can a string: pxe, etherboot, gpxe, none
\item gateway: The gateway for the client.
\end{itemize}

\subsection{DHCP\_addClient}
\textbf{Description:} adds a new client to the dhcpd.conf and restarts the dhcpd-server\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client
\item ip: ip address of the client
\item netmask: netmask for the ip
\item mac: mac addresse of the network card
\item bootType: Parameter can be boolean for backward compatibility: if true use PXE for the client, otherwise use Etherboot
\item bootType: Parameter can a string: pxe, etherboot, gpxe, none
\item gateway: The gateway for the client.
\item updateDB: If set to true, the boot type is set for the client in the DB.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the DHCP server could be restarted with the new settings.
\end{itemize}

\subsection{DHCP\_addLineToDHCPDConf}
\textbf{Description:} Adds a line to the dhcpd.conf file.\\
\textbf{Parameter:}
\begin{itemize}
\item line: Line to add.
\end{itemize}

\subsection{DHCP\_restartDHCPserver}
\textbf{Description:} Restarts the DHCP server.\\
\textbf{Returns:}
\begin{itemize}
\item true if it clould be (re)started otherwise false.
\end{itemize}

\subsection{DHCP\_rmClient}
\textbf{Description:} removes a client from dhcpd.conf and restarts the dhcpd-server\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client
\end{itemize}

\subsection{DHCP\_setBootimage}
\textbf{Description:} sets the bootimage of a client for EtherBoot\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client
\item bootImage: name of the bootimage (hdboot, ip address for name)
\end{itemize}

\subsection{DHCP\_activateBoot}
\textbf{Description:} switches the network boot on or off\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client
\item on: true activates the network boot, false deactivates
\item bootType: The boot type CAN be given here (e.g. pxe or etherboot)
\end{itemize}

\subsection{DHCP\_calcPXEIP}
\textbf{Description:} calculates the ip for the pxe config file\\
\textbf{Parameter:}
\begin{itemize}
\item ip: ip address to convert to the PXE file name
\end{itemize}

\subsection{DHCP\_writePXEcfg}
\textbf{Description:} writes the pxe config file for te client\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client
\item arch: computer architecture (i386 or amd64)
\end{itemize}

\subsection{DHCP\_removePXEcfg}
\textbf{Description:} removes the PXE start file for a special client\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client
\end{itemize}

\subsection{DHCP\_isNetworkBootingActive}
\textbf{Description:} Checks, if a client has network booting enabled.\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : True, if network booting is active, false otherwise.
\end{itemize}

\newpage\section{./inc/distr/debian/clientConfigCommon.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: Common management funtions shared by Linux distributions.\\

\subsection{CLCFG\_blacklistPackageInstallation}
\textbf{Description:} Blacklists a package for APT to make it uninstallable.\\
\textbf{Parameter:}
\begin{itemize}
\item package: Name of the package.
\end{itemize}

\subsection{CLCFG\_executeNextWorkEveryMinute}
\textbf{Description:} Runs executeNextWork in a loop every minute and shows a status message about elapsed waiting time.\\
\textbf{Parameter:}
\begin{itemize}
\item lang: language for the messages
\end{itemize}

\subsection{CLCFG\_setSystime}
\textbf{Description:} Sets the system time of the client to about the same time of the m23 server.\\

\subsection{CLCFG\_disableAptSystemdDaily}
\textbf{Description:} Deactivates systemd apt-daily.timer.\\

\subsection{CLCFG\_addPAMtoDM}
\textbf{Description:} Adds PAM modules (if present) to the pam.d configuration files.\\
\textbf{Parameter:}
\begin{itemize}
\item dmFile: Name of the login manager pam.d config file.
\end{itemize}

\subsection{CLCFG\_disableSudoRootLogin}
\textbf{Description:} Disables getting root rights of normal users via sudo.\\

\subsection{CLCFG\_installFirmware}
\textbf{Description:} Installs available firmware packages.\\

\subsection{CLCFG\_monoRemove}
\textbf{Description:} Removes mono packages and installs gnote when tomboy was installed before.\\

\subsection{CLCFG\_setDebConfDM}
\textbf{Description:} Sets the display manager in debconf.\\
\textbf{Parameter:}
\begin{itemize}
\item dm: Name of the display manager (kdm, lightdm, mdm, ...).
\end{itemize}

\subsection{CLCFG\_installXDM}
\textbf{Description:} Installs the XDM display manager.\\

\subsection{CLCFG\_installSDDM}
\textbf{Description:} Installs the SDDM display manager.\\

\subsection{CLCFG\_installMintDM}
\textbf{Description:} Installs the Linux Mint DM display manager.\\

\subsection{CLCFG\_copyMBRToAllDevices}
\textbf{Description:} Copies the MBR code from the boot device to all other devices.\\
\textbf{Parameter:}
\begin{itemize}
\item bootDevice: Device name of the device with the original MBR (e.g. /dev/sda).
\end{itemize}

\subsection{CLCFG\_activateBOOT\_DEGRADED}
\textbf{Description:} Activates BOOT\_DEGRADED on Ubuntu 12.04 to allow booting from degraded RAIDs.\\

\subsection{CLCFG\_installLightDM}
\textbf{Description:} Installs the light DM display manager.\\
\textbf{Parameter:}
\begin{itemize}
\item session: Name of the session to select by default.
\item addSessionWrapper: Set to true, if an additional line with "session-wrapper=/etc/X11/Xsession" should be added.
\end{itemize}

\subsection{CLCFG\_setDebConfDirect}
\textbf{Description:} Sets debconf settings.\\
\textbf{Parameter:}
\begin{itemize}
\item debconf: Debconf settings to add.
\end{itemize}

\subsection{TRINITY\_installLoginManager}
\textbf{Description:} Installs the Trinity login manager KDM.\\
\textbf{Parameter:}
\begin{itemize}
\item lang: short language
\end{itemize}

\subsection{TRINITY\_install}
\textbf{Description:} Installs a minimalistic Trinity desktop.\\
\textbf{Parameter:}
\begin{itemize}
\item lang: short language
\end{itemize}

\subsection{CLCFG\_makeDev}
\textbf{Description:} Creates the device nodes in /dev by downloading and extracting an archive containing the device nodes and if this fails running MAKEDEV.\\

\subsection{CLCFG\_disablePlymouth}
\textbf{Description:} Disables the plymouth.\\

\subsection{CLCFG\_disableAvahiDaemon}
\textbf{Description:} Disables the avahi-daemon.\\

\subsection{CLCFG\_configUpstartForNormalUsage}
\textbf{Description:} Configures upstart for normal running in an installed system.\\

\subsection{CLCFG\_configUpstartForChroot}
\textbf{Description:} Configures upstart to make it not fail installation.\\

\subsection{CLCFG\_createScreenRC}
\textbf{Description:} Creates the (under Ubuntu) needed settings for screen.\\

\subsection{CLCFG\_addGrubPassword}
\textbf{Description:} Adds a password line to the grub configuration to lock the edit line of bootmanager.\\

\subsection{CLCFG\_addLiloPassword}
\textbf{Description:} Adds a password line to the LiLo configuration to lock the edit line of bootmanager.\\

\subsection{GNOME\_prepare}
\textbf{Description:} Prepares the GNOME installation\\

\subsection{LXDE\_install}
\textbf{Description:} Installs the LXDE desktop.\\
\textbf{Parameter:}
\begin{itemize}
\item lang: short language
\item fullInstall: Set to true, if the full desktop with all applications should be installed. Otherwise a minimal desktop will be installed
\end{itemize}

\subsection{GNOME3\_install}
\textbf{Description:} Installs the GNOME 3 desktop.\\
\textbf{Parameter:}
\begin{itemize}
\item lang: short language
\item fullInstall: Set to true, if the full desktop with all applications should be installed. Otherwise a minimal desktop will be installed
\end{itemize}

\subsection{GNOME\_install}
\textbf{Description:} Installs a minimalistic GNOME desktop.\\
\textbf{Parameter:}
\begin{itemize}
\item lang: short language
\end{itemize}

\subsection{GNOME\_installLoginManager}
\textbf{Description:} Installs the GNOME login manager GDM.\\
\textbf{Parameter:}
\begin{itemize}
\item lang: short language
\end{itemize}

\subsection{KDE\_prepare}
\textbf{Description:} Prepares the KDE installation\\

\subsection{KDE\_install}
\textbf{Description:} Installs a minimalistic KDE desktop.\\
\textbf{Parameter:}
\begin{itemize}
\item lang: short language
\item ver: KDE version 3 or 4 (minor releases are depending in the on the used distribution)
\end{itemize}

\subsection{KDE\_installLoginManager}
\textbf{Description:} Installs the KDE/Trinity login manager KDM.\\
\textbf{Parameter:}
\begin{itemize}
\item lang: short language
\item ver: KDE version 3 or 4 (minor releases are depending in the on the used distribution)
\item trinity: Set to true, if the Trinity Desktop should be configured.
\end{itemize}

\subsection{CLCFG\_lilo2Grub}
\textbf{Description:} Installs and runs the lilo.conf to Grub's menu.lst converter\\

\subsection{CLCFG\_getMbrPart}
\textbf{Description:} Returns the device to install the MBR of the bootloader in.\\
\textbf{Parameter:}
\begin{itemize}
\item installPart: Partition to install the OS on.
\item clientOptions: Array with information about client options.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Device to install the MBR of the bootloader in.
\end{itemize}

\subsection{CLCFG\_setTimeZone}
\textbf{Description:} Sets the timezone a a client.\\
\textbf{Parameter:}
\begin{itemize}
\item timezone: POSIX timezone as defined at /usr/share/zoneinfo/posix/
\end{itemize}

\subsection{CLCFG\_writeHosts}
\textbf{Description:} writes the /etc/hosts file for the client\\

\subsection{CLCFG\_addUser}
\textbf{Description:} generates the commands to add a user on the client. it adds the user account, creates a home directory, copies the m23 skel files and sets the\\
\textbf{Parameter:}
\begin{itemize}
\item userName: the username for the account
\item password: the unecrypted password for the account
\item groups: the groups the user should be added to
\item skelDir: directory to the skeleton files
\item uid: Optional user ID of the new user.
\item gid: Optional group ID of the new user.
\end{itemize}

\subsection{CLCFG\_createBootDeviceNode}
\textbf{Description:} Makes sure the needed device nodes for the boot device are created.\\

\subsection{CLCFG\_efi}
\textbf{Description:} Configures the client for UEFI booting.\\
\textbf{Parameter:}
\begin{itemize}
\item CFDiskIOO: Object to with partition information for the calling client.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the client uses EFI, otherwise false.
\end{itemize}

\subsection{CLCFG\_genFstab}
\textbf{Description:} generates the commands to auto detect the partitions and generate the fstab file and installs a boot manager\\
\textbf{Parameter:}
\begin{itemize}
\item bootDevice: the device the bootloader should be installed on (e.g. /dev/hda)
\item rootDevice: the path to the installation partition (e.g. /dev/hda1)
\item bootloader: Name of the boot loader to install and configure (actually grub only)
\item ignoreErrors: Set to true, if some errors should be ignored instead of logging them.
\item isReconfiguredWithExtraDistr: Set to true, the function is called to reconfigure a distribution that was installed by imaging.
\end{itemize}

\subsection{CLCFG\_interfaces}
\textbf{Description:} generates a script that writes the /etc/network/interfaces file.\\
\textbf{Parameter:}
\begin{itemize}
\item clientParams: Associated array with the parameters of the client.
\end{itemize}

\subsection{CLCFG\_hostname}
\textbf{Description:} generates a script that writes the /etc/hostname file.\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: the name of the client
\end{itemize}

\subsection{CLCFG\_resolvConf}
\textbf{Description:} generates a script that writes the /etc/resolv.conf file.\\
\textbf{Parameter:}
\begin{itemize}
\item DNSServers: list of DNS servers
\end{itemize}

\subsection{CLCFG\_aptConf}
\textbf{Description:} generates a script that writes the /etc/apt/apt.conf.d/70debconf file.\\
\textbf{Parameter:}
\begin{itemize}
\item proxyServer: IP or name of the proxy server
\item proxyPort: port the proxy server listens on
\end{itemize}

\subsection{CLCFG\_sourceslist}
\textbf{Description:} generates a script that writes the /etc/apt/sources.list file.\\
\textbf{Parameter:}
\begin{itemize}
\item clientIP: IP of the client
\item clientName: name of the client
\item serverIP: IP of the server
\end{itemize}

\subsection{CLCFG\_sourceslistCreateConfigFiles}
\textbf{Description:} Creates config files for the package manager.\\
\textbf{Parameter:}
\begin{itemize}
\item sourceName: The name of the package source list
\end{itemize}

\subsection{CLCFG\_hwdetect}
\textbf{Description:} updates and runs the hardware detection\\

\subsection{CLCFG\_language}
\textbf{Description:} sets the language for keyboard in console and X11 and console language\\
\textbf{Parameter:}
\begin{itemize}
\item lang: 2 letter language code (de,fr,it,en)
\item release: The release name of the distribution (for special handling).
\end{itemize}

\subsection{CLCFG\_setRootPassword}
\textbf{Description:} sets the root password of the client\\
\textbf{Parameter:}
\begin{itemize}
\item cryptedPassword: sets an allready crypted root password
\end{itemize}

\subsection{CLCFG\_setAuthorized\_keys}
\textbf{Description:} sets the ssh authorized\_file for remote login into the clients\\
\textbf{Parameter:}
\begin{itemize}
\item serverIP: IP of the server
\item pathToKeyFile: path on the server where to get the key file from
\item acceptyDSSKeys: Set to true, if SSH-DSS keys should be re-enabled
\end{itemize}

\subsection{CLCFG\_copyClientPackageStatus}
\textbf{Description:} copies the package installation status file from the lient to the cache directory of the server\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: the name of the client
\end{itemize}

\subsection{CLCFG\_aptGet}
\textbf{Description:} Executes an APT command with parameters and tries to install/remove as many packages as possible. If the packages could not get installed in a bunch try to install the packges one by one.\\
\textbf{Parameter:}
\begin{itemize}
\item command: install or remove
\item packages: white space seperated list of packages to install or remove
\end{itemize}

\subsection{CLCFG\_importLocalPoolKey}
\textbf{Description:} Generates BASH code to import the local package pool key (if it exists) on the client's APT system.\\
\textbf{Returns:}
\begin{itemize}
\item BASH code to import the local package pool key or empty string, if there is no package pool sign key.
\end{itemize}

\subsection{CLCFG\_installBasePackages}
\textbf{Description:} installs needed base packages\\
\textbf{Parameter:}
\begin{itemize}
\item packagelist: the list of the packages to install
\item keyring: name of the keyring package
\end{itemize}

\subsection{CLCFG\_setDebconf}
\textbf{Description:} installs the debconf packages and sets debconf configuration\\
\textbf{Parameter:}
\begin{itemize}
\item serverIP: IP of the server, where to download the config file
\item debconfFile: path and filename of the debconf file
\end{itemize}

\subsection{CLCFG\_debootstrap}
\textbf{Description:} bootstraps a Debian system\\
\textbf{Parameter:}
\begin{itemize}
\item suite: select the Debian suite (sarge, sid, woody, potato)
\item DNSServers: DNS server for resolving the names of the installation server
\item gateway: gateway for fetching the packages
\item packageProxy: the ip of the proxy the packages should be fetched from
\item packagePort: the proxy port
\item mirror: the Debian mirror the packages should be fetched from
\item arch: the computer architecture of the client
\item exclude: packages to exclude (as comma-seperated list)
\item include: additional packages to include
\item isCritical: selects if debootstrap errors should be critical
\item additionalPackages: space seperated list of additional packages that should be installed during bootstrapping
\end{itemize}

\subsection{CLCFG\_downgradeExt}
\textbf{Description:} downgrades all ext* partitions so the fsck.ext* of woody can understand it\\

\subsection{CLCFG\_mountRootDir}
\textbf{Description:} create a new directory for mounting the root partition of the client, mount the installation directory to this mount point and create a temp directory\\
\textbf{Parameter:}
\begin{itemize}
\item rootDev: the root device (e.g. /dev/hda1)
\item mountPoint: directory under /mnt to mount the device in
\item CFDiskIOO: Client object (used for mounting the EFI boot partition).
\end{itemize}

\subsection{CLCFG\_activateDMA}
\textbf{Description:} try to activate DMA to speed up installation. this short script tries to detect\\

\subsection{CLCFG\_fetchm23BasicTools}
\textbf{Description:} fetches the basic m23 tools and fsize\\

\subsection{CLCFG\_dialogGaugeProcPos}
\textbf{Description:} Generates the BASH code for showing a dialog with status bar that uses /proc/pid/fdinfo for current file position\\
\textbf{Parameter:}
\begin{itemize}
\item backtitle: title on top of the screen
\item title: message title
\item message: message to show over the status bar
\item infofilecmd: BASH code to figure out the needed status file in the proc filesystem
\item fullsize: The full size of the file that should be written.
\item force: Forces showing of the dialog box
\end{itemize}

\subsection{CLCFG\_dialogInfoBox}
\textbf{Description:} generates the BASH code for showing an dialog infobox\\
\textbf{Parameter:}
\begin{itemize}
\item backtitle: title on top of the screen
\item title: message title
\item message: the message itself
\item force forces showing of the dialog box
\end{itemize}

\subsection{CLCFG\_dialogMsgBox}
\textbf{Description:} generates the BASH code for showing an dialog message box\\
\textbf{Parameter:}
\begin{itemize}
\item backtitle: title on top of the screen
\item title: message title
\item message: the message itself
\item force forces showing of the dialog box
\end{itemize}

\subsection{CLCFG\_dialogAllBox}
\textbf{Description:} generates the BASH code for showing different types of dialog boxes\\
\textbf{Parameter:}
\begin{itemize}
\item backtitle: title on top of the screen
\item title: message title
\item message: the message itself
\item type: type of the dialog box
\end{itemize}

\subsection{CLCFG\_executeAfterChroot}
\textbf{Description:} prepares for pivot\_root and does it and executes afterChroot\\

\subsection{CLCFG\_writeCrontabm23fetchjobEvery5Minutes}
\textbf{Description:} Adds entries to crontab to check every 5 minutes for new jobs.\\

\subsection{CLCFG\_writeM23fetchjob}
\textbf{Description:} generates the m23fetchjob script\\
\textbf{Parameter:}
\begin{itemize}
\item release: Name of the distribution release for special handling of some releases.
\end{itemize}

\subsection{CLCFG\_hideKernelWarnings}
\textbf{Description:} hides the kernel warnungs\\

\subsection{CLCFG\_getRootDeviceFS}
\textbf{Description:} Gets the filesystem of the root device.\\
\textbf{Parameter:}
\begin{itemize}
\item rootDevice: the device, the kernel should be installed on
\item clientName: the name of the client
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Filesystem of the root device.
\end{itemize}

\subsection{CLCFG\_genFakeFstab}
\textbf{Description:} generates a fake /etc/fstab that only contains the lines for proc and the root partition (this is used to make the kernel install correctly)\\
\textbf{Parameter:}
\begin{itemize}
\item rootDevice: the device, the kernel should be installed on
\item clientName: the name of the client
\end{itemize}

\subsection{CLCFG\_copySSLCert}
\textbf{Description:} fetches the SSL certificate from the server and copies it to the client\\
\textbf{Parameter:}
\begin{itemize}
\item rootPath: the path to where the root directory is mounted
\item disableSSLCertCheck: Disables the SSL certificate check of wget.
\end{itemize}

\subsection{CLCFG\_changeUser}
\textbf{Description:} changes the settings of an useraccount on a client\\
\textbf{Parameter:}
\begin{itemize}
\item userName: the (old) username for the account
\item password: the new unecrypted password for the account
\item newUserName: the new username
\end{itemize}

\subsection{CLCFG\_patchNsswitchForLDAP}
\textbf{Description:} Patches /etc/nsswitch.conf for usage with LDAP.\\

\subsection{CLCFG\_enableNFSHome}
\textbf{Description:} enables storing of home directories on a NFS server\\
\textbf{Parameter:}
\begin{itemize}
\item nfsURL: URL to the NFS storage (e.g. 192.168.1.23:/nfs-homes)
\end{itemize}

\subsection{CLCFG\_disableNFSHome}
\textbf{Description:} Disables storing of home directories on a NFS server\\

\subsection{CLCFG\_installDesktopLanguagePackage}
\textbf{Description:} Installs some additional language packages for (KDE / Gnome) desktops.\\
\textbf{Parameter:}
\begin{itemize}
\item lang: short language
\item kde: Install KDE language packages too.
\item gnome: Install Gnome language packages too.
\end{itemize}

\subsection{CLCFG\_installApplicationLanguagePackages}
\textbf{Description:} Installs some additional language packages for installed applications with seperate language packs.\\
\textbf{Parameter:}
\begin{itemize}
\item lang: short language
\end{itemize}

\subsection{CLCFG\_updateDebootstrapScripts}
\textbf{Description:} Updates the debootstrap scripts for Debian or Ubuntu and returns the www path to the files\\

\subsection{CLCFG\_updateDebootstrapScriptsDebian}
\textbf{Description:} Updates the debootstrap scripts for Debian and returns the www path to the files\\

\newpage\section{./inc/distr/debian/clientConfig.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: Debian specific management functions.\\

\subsection{DEBIAN\_desktopInstall}
\textbf{Description:} Installs a Debian desktop.\\
\textbf{Parameter:}
\begin{itemize}
\item desktop: Desktop constant.
\end{itemize}

\subsection{CLCFG\_listDebianReleasesGeneric}
\textbf{Description:} Generates an array of the different releases (e.g. sarge, sid, woody, potato) of a distribution.\\
\textbf{Parameter:}
\begin{itemize}
\item selName: the name of the selection
\item first: the release to show first
\item distr: distribution directory
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : Array with release names.
\end{itemize}

\subsection{CLCFG\_listDebianReleasesGeneric}
\textbf{Description:} generates a selection of the different releases (e.g. sarge, sid, woody, potato) of a distribution.\\
\textbf{Parameter:}
\begin{itemize}
\item selName: the name of the selection
\item first: the release to show first
\item distr: distribution directory
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : Selection with release names.
\end{itemize}

\subsection{CLCFG\_listDebianReleases}
\textbf{Description:} generates a selection of the different Debian releases (sarge, sid, woody, potato)\\
\textbf{Parameter:}
\begin{itemize}
\item selName: the name of the selection
\item first: the release to show first
\end{itemize}

\subsection{CLCFG\_addDistributionSpecificOptions}
\textbf{Description:} adds distribution specific settings to an option array and returns the new array\\
\textbf{Parameter:}
\begin{itemize}
\item \$options: the options array with some values
\end{itemize}

\subsection{CLCFG\_showDistributionSpecificOptions}
\textbf{Description:} shows distribution specific options and returns false, if there was an error\\
\textbf{Parameter:}
\begin{itemize}
\item options: options array
\item distr: The name the distribution to use.
\end{itemize}

\subsection{CLIENT\_enableLDAP}
\textbf{Description:} enables LDAP login for a client.\\
\textbf{Parameter:}
\begin{itemize}
\item clientOptions: the client's options array
\end{itemize}

\newpage\section{./inc/distr/debian/packages.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: Debian/Ubuntu specific package handling functions.\\

\subsection{PKG\_updatePackageSearchCacheFile}
\textbf{Description:} Updates the compressed package search file.\\
\textbf{Parameter:}
\begin{itemize}
\item packagesource: Name of the package sources list.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Full path to the log file.
\end{itemize}

\subsection{PKG\_getSearchCacheFileName}
\textbf{Description:} Returns the full path to the compressed package search file.\\
\textbf{Parameter:}
\begin{itemize}
\item dir: Directory where the package information is stored.
\item arch: Architecture for the packages in the search file.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Full path to the compressed package search file.
\end{itemize}

\subsection{PKG\_genPackageSearchCacheFileCMD}
\textbf{Description:} Generates commands to create a compressed package search file.\\
\textbf{Parameter:}
\begin{itemize}
\item dir: Directory where the package information is stored.
\item arch: Architecture for the packages in the search file.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item BASH commands for creating a compressed package search file.
\end{itemize}

\subsection{PKG\_searchPackageSearchCacheFileCMD}
\textbf{Description:} Generates BASH commands to search a compressed package search file.\\
\textbf{Parameter:}
\begin{itemize}
\item dir: Directory where the package information is stored.
\item arch: Architecture for the packages in the search file.
\item search: Search terms.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item BASH commands to search a compressed package search file.
\end{itemize}

\subsection{PKG\_ncTarDebsFromClientToServer\_Client}
\textbf{Description:} Client to send the Debian packages to the m23 client.\\

\subsection{PKG\_ncTarDebsFromClientToServer\_Server}
\textbf{Description:} Starts a server to receive the Debian packages from an m23 client.\\
\textbf{Parameter:}
\begin{itemize}
\item poolDir: The directory on the server to store the Debian packages.
\end{itemize}

\subsection{PKG\_rsyncDebsFromClientToServer}
\textbf{Description:} Copies all the Debian packages from a client to a given directory on the server via rsync.\\
\textbf{Parameter:}
\begin{itemize}
\item clientIP: The IP of the client.
\item poolDir: The directory on the server to store the Debian packages.
\end{itemize}

\subsection{PKG\_preparePool}
\textbf{Description:} Generates the needed configuration file for reprepro.\\
\textbf{Parameter:}
\begin{itemize}
\item release: Release of the pool.
\item distr: Distribution of the pool.
\item arch: Architecture of the pool (POOL\_ARCH\_I386 or CPoolLister::POOL\_ARCH\_AMD64).
\item poolName: Name of the pool (if a pool with the given name exists =$>$ load)
\item poolDir: Directory of the pool with full path.
\end{itemize}

\subsection{PKG\_convertPackagesToRepository}
\textbf{Description:} Generates commands for creating a package source from packages stored in one directory.\\
\textbf{Parameter:}
\begin{itemize}
\item poolDir: Complete path to the directory that stores the pool.
\item logFile: File (with full path) to store the pool generation log in.
\item poolName: Name of the pool.
\item sourceslist: Variable to store the sources list in.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Commands for creating a package source from packages stored in one directory.
\end{itemize}

\subsection{PKG\_fastGetInstalledPackages}
\textbf{Description:} Gets a list of all installed packages (faster than dpkg --get-selections).\\
\textbf{Parameter:}
\begin{itemize}
\item storeFile: File name to store the list of installed on the client or empty if the list should be outputted to stdout.
\end{itemize}

\subsection{PKG\_fastGetNewInstalledPackages}
\textbf{Description:} Gets new installed packages by comparing status files (before and after the installation).\\
\textbf{Parameter:}
\begin{itemize}
\item oldStatusFile: File with the list of all installed packages before the installation of the new packages
\item newStatusFile: File with the list of all installed packages after the installation of the new packages
\item storeFile: File name to store the list of new installed on the client.
\end{itemize}

\subsection{PKG\_searchFor}
\textbf{Description:} searches for a package and returnes a file descriptor\\
\textbf{Parameter:}
\begin{itemize}
\item key: search key
\item distr: the distribution name
\item packagesource: name of the package source
\item arch: Array of architectures to get package infos for.
\end{itemize}

\subsection{PKG\_getDescription}
\textbf{Description:} gets the description of a package\\
\textbf{Parameter:}
\begin{itemize}
\item line: line containing package name and description
\end{itemize}

\subsection{PKG\_getPackageName}
\textbf{Description:} gets the name of a package\\
\textbf{Parameter:}
\begin{itemize}
\item line: line containing package name and description
\end{itemize}

\subsection{PKG\_getLongPackageDescription}
\textbf{Description:} Gets the description of a package.\\
\textbf{Parameter:}
\begin{itemize}
\item package: Name of the package.
\item distr: the distribution name
\item packagesource: name of the package source
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Description of the package.
\end{itemize}

\subsection{PKG\_getPackageDescriptionSize}
\textbf{Description:} Returnes the description and size of a package\\
\textbf{Parameter:}
\begin{itemize}
\item distr: the name of the distribution
\item packagesource: the name of the package source list
\item package: name if the package
\end{itemize}

\subsection{PKG\_printStatus}
\textbf{Description:} prints the package status, e.g. amount of packages,...\\
\textbf{Parameter:}
\begin{itemize}
\item distr: the name of the distribution
\item packagesource: the name of the package source list
\end{itemize}

\subsection{PKG\_listPackages}
\textbf{Description:} list packages matching the key\\
\textbf{Parameter:}
\begin{itemize}
\item key: search key
\item distr: the distribution name
\item packagesource: name of the package source
\item client: Name of the client the packages are searched for. (Not used here and only for halfSister)
\item completeDescription: If set to true, the full package description and sizes are fetched (time consuming)
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : Amount of found packages.
\end{itemize}

\subsection{PKG\_getAptArchOptions}
\textbf{Description:} Generates options to specify the architecture of a client that can be appended to an apt-get line.\\
\textbf{Parameter:}
\begin{itemize}
\item arch: Architecture to get package infos for.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : Parameter for architecture specific apt-get commands, if architecture is not i386.
\end{itemize}

\subsection{PKG\_addAPTConfigFiles}
\textbf{Description:} Creates the config files for the package manager on the m23 server.\\
\textbf{Parameter:}
\begin{itemize}
\item sourceName: The name of the package source list
\item dir: The directory on the m23 server where the config files should be created.
\end{itemize}

\subsection{PKG\_preparePackageDir}
\textbf{Description:} creates the needed files + sources list in a directory to use it for "local apt".\\
\textbf{Parameter:}
\begin{itemize}
\item dir: the directory to prepare
\item packagesource: sources list
\item logFile: Name of the file the messages from apt-get should be written to.
\item returnCmd: Set to true, if the apt command should be returned or to false to execute it in this function.
\item arch: Architecture to get package infos for.
\item sourceName: The name of the package source list
\item hardTryUpdate: Set to true, if the apt-get update should be run until it succeeds
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : Error text on error or empty string on success.
\end{itemize}

\subsection{PKG\_updatePackageInfo}
\textbf{Description:} Updates the package information to make it searchable.\\
\textbf{Parameter:}
\begin{itemize}
\item distr: the distribution name
\item packagesource: name of the package source
\item force: set to true if you want to update the package info and the time is not over
\item arch: Architecture to get package infos for.
\item changeTime: Writes the time when the status file was last modified to.
\end{itemize}

\subsection{PKG\_previewInstall}
\textbf{Description:} shows what happens if packages get installed\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client
\item distr: the distribution name
\item packagesource: name of the package source
\item packages: the packages to be installed
\item aptCommand: sets the apt-get command: install, remove
\end{itemize}

\subsection{PKG\_getKernels}
\textbf{Description:} Generates an associative array with the available kernels for an architecture and distribution as keys and values, where kernels containing the term 'generic' are at the front.\\
\textbf{Parameter:}
\begin{itemize}
\item distr: the distribution name
\item packagesource: name of the package source
\item arch: Architecture to get package infos for.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Associative array with the available kernels for an architecture and distribution as keys and values with kernels containing the term 'generic' at the front, sorted by length and then by alphabet.
\end{itemize}

\subsection{PKG\_downloadPool}
\textbf{Description:} Generates commands to download packages from a sources list to a directory.\\
\textbf{Parameter:}
\begin{itemize}
\item destDir: the directory the packages should be downloaded to
\item sourceslist: package source list
\item packagesArr: array of the lists that contain packages to download (seperated by blanks)
\item arch: CPU architecture to download the packages for.
\item release: Select the Debian/Ubuntu suite (squeeze, sarge, sid, precise).
\end{itemize}

\subsection{PKG\_getDebootStrapBasePackages}
\textbf{Description:} Returns the list of base packages that are downloaded by debootstrap for a special release.\\
\textbf{Parameter:}
\begin{itemize}
\item release: release name of the distribution version (e.g. sarge)
\end{itemize}

\newpage\section{./inc/distr/halfSister/clientConfig.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: halfSister specific management functions.\\

\subsection{CLCFG\_copyClientPackageStatus}
\textbf{Description:} Not used, but needs to be defined here.\\

\subsection{CLCFG\_listHSReleasesGeneric}
\textbf{Description:} Generates an array of the different releases (e.g. sarge, sid, woody, potato) of a distribution.\\
\textbf{Parameter:}
\begin{itemize}
\item selName: the name of the selection
\item first: the release to show first
\item distr: distribution directory
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : Array with release names.
\end{itemize}

\subsection{CLCFG\_listHSReleasesGeneric}
\textbf{Description:} generates a selection of the different releases (e.g. sarge, sid, woody, potato) of a distribution.\\
\textbf{Parameter:}
\begin{itemize}
\item selName: the name of the selection
\item first: the release to show first
\item distr: distribution directory
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : Selection with release names.
\end{itemize}

\subsection{CLCFG\_listHSReleases}
\textbf{Description:} generates a selection of the different HS releases (sarge, sid, woody, potato)\\
\textbf{Parameter:}
\begin{itemize}
\item selName: the name of the selection
\item first: the release to show first
\end{itemize}

\subsection{CLCFG\_addDistributionSpecificOptions}
\textbf{Description:} adds distribution specific settings to an option array and returns the new array\\
\textbf{Parameter:}
\begin{itemize}
\item \$options: the options array with some values
\end{itemize}

\subsection{CLCFG\_showDistributionSpecificOptions}
\textbf{Description:} shows distribution specific options and returns false, if there was an error\\
\textbf{Parameter:}
\begin{itemize}
\item options: options array
\end{itemize}

\newpage\section{./inc/distr/halfSister/packages.php}
Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
Description: Basic package operations (search, add,...) for halfSister distributions\\

\subsection{PKG\_updatePackageSearchCacheFile}
\textbf{Description:} Updates the compressed package search file.\\
\textbf{Parameter:}
\begin{itemize}
\item packagesource: Name of the package sources list.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The name of the package cache.
\end{itemize}

\subsection{PKG\_fastGetInstalledPackages}
\textbf{Description:} Gets a list of all installed packages (faster than dpkg --get-selections).\\
\textbf{Parameter:}
\begin{itemize}
\item storeFile: File name to store the list of installed on the client or empty if the list should be outputted to stdout.
\end{itemize}

\subsection{pkgUpdateCacheOnServer}
\textbf{Parameter:}
\begin{itemize}
\item \$1 (packagesourcename): Name der Paketquellenliste
\item \$2 (packagesource): Inhalt der Paketquellenliste
\item \$3 (force): set to true (1) if you want to update the package info and the time is not over
\item \$4 (arch): Architecture (amd64/i386) to get package infos for.
\end{itemize}

\subsection{PKG\_listPackages}
\textbf{Description:} list packages matching the key\\
\textbf{Parameter:}
\begin{itemize}
\item key: search key
\item distr: the distribution name
\item packagesource: name of the package source
\item client: Name of the client the packages are searched for. (Not used here and only for halfSister)
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : Amount of found packages.
\end{itemize}

\subsection{PKG\_previewInstall}
\textbf{Description:} shows what happens if packages get (de)installed\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client
\item distr: the distribution name
\item packagesource: name of the package source
\item packages: the packages to be installed
\item aptCommand: sets the apt-get command: install, remove
\end{itemize}

\subsection{PKG\_getKernels}
\textbf{Description:} Generates an associative array with the available kernels for an architecture and distribution as keys and values.\\
\textbf{Parameter:}
\begin{itemize}
\item distr: the distribution name
\item packagesource: name of the package source
\item arch: Architecture to get package infos for.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Asssociative array with the available kernels for an architecture and distribution as keys and values.
\end{itemize}

\subsection{PKG\_translateClientPackageStatus}
\textbf{Description:} translates the package status to human language ;)\\
\textbf{Parameter:}
\begin{itemize}
\item status: status code you want to translate
\end{itemize}

\newpage\section{./inc/distr/imaging/clientConfigCommon.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: Common management funtions shared by Linux distributions.\\

\subsection{CLCFG\_blacklistPackageInstallation}
\textbf{Description:} Blacklists a package for APT to make it uninstallable.\\
\textbf{Parameter:}
\begin{itemize}
\item package: Name of the package.
\end{itemize}

\subsection{CLCFG\_executeNextWorkEveryMinute}
\textbf{Description:} Runs executeNextWork in a loop every minute and shows a status message about elapsed waiting time.\\
\textbf{Parameter:}
\begin{itemize}
\item lang: language for the messages
\end{itemize}

\subsection{CLCFG\_setSystime}
\textbf{Description:} Sets the system time of the client to about the same time of the m23 server.\\

\subsection{CLCFG\_disableAptSystemdDaily}
\textbf{Description:} Deactivates systemd apt-daily.timer.\\

\subsection{CLCFG\_addPAMtoDM}
\textbf{Description:} Adds PAM modules (if present) to the pam.d configuration files.\\
\textbf{Parameter:}
\begin{itemize}
\item dmFile: Name of the login manager pam.d config file.
\end{itemize}

\subsection{CLCFG\_disableSudoRootLogin}
\textbf{Description:} Disables getting root rights of normal users via sudo.\\

\subsection{CLCFG\_installFirmware}
\textbf{Description:} Installs available firmware packages.\\

\subsection{CLCFG\_monoRemove}
\textbf{Description:} Removes mono packages and installs gnote when tomboy was installed before.\\

\subsection{CLCFG\_setDebConfDM}
\textbf{Description:} Sets the display manager in debconf.\\
\textbf{Parameter:}
\begin{itemize}
\item dm: Name of the display manager (kdm, lightdm, mdm, ...).
\end{itemize}

\subsection{CLCFG\_installXDM}
\textbf{Description:} Installs the XDM display manager.\\

\subsection{CLCFG\_installSDDM}
\textbf{Description:} Installs the SDDM display manager.\\

\subsection{CLCFG\_installMintDM}
\textbf{Description:} Installs the Linux Mint DM display manager.\\

\subsection{CLCFG\_copyMBRToAllDevices}
\textbf{Description:} Copies the MBR code from the boot device to all other devices.\\
\textbf{Parameter:}
\begin{itemize}
\item bootDevice: Device name of the device with the original MBR (e.g. /dev/sda).
\end{itemize}

\subsection{CLCFG\_activateBOOT\_DEGRADED}
\textbf{Description:} Activates BOOT\_DEGRADED on Ubuntu 12.04 to allow booting from degraded RAIDs.\\

\subsection{CLCFG\_installLightDM}
\textbf{Description:} Installs the light DM display manager.\\
\textbf{Parameter:}
\begin{itemize}
\item session: Name of the session to select by default.
\item addSessionWrapper: Set to true, if an additional line with "session-wrapper=/etc/X11/Xsession" should be added.
\end{itemize}

\subsection{CLCFG\_setDebConfDirect}
\textbf{Description:} Sets debconf settings.\\
\textbf{Parameter:}
\begin{itemize}
\item debconf: Debconf settings to add.
\end{itemize}

\subsection{TRINITY\_installLoginManager}
\textbf{Description:} Installs the Trinity login manager KDM.\\
\textbf{Parameter:}
\begin{itemize}
\item lang: short language
\end{itemize}

\subsection{TRINITY\_install}
\textbf{Description:} Installs a minimalistic Trinity desktop.\\
\textbf{Parameter:}
\begin{itemize}
\item lang: short language
\end{itemize}

\subsection{CLCFG\_makeDev}
\textbf{Description:} Creates the device nodes in /dev by downloading and extracting an archive containing the device nodes and if this fails running MAKEDEV.\\

\subsection{CLCFG\_disablePlymouth}
\textbf{Description:} Disables the plymouth.\\

\subsection{CLCFG\_disableAvahiDaemon}
\textbf{Description:} Disables the avahi-daemon.\\

\subsection{CLCFG\_configUpstartForNormalUsage}
\textbf{Description:} Configures upstart for normal running in an installed system.\\

\subsection{CLCFG\_configUpstartForChroot}
\textbf{Description:} Configures upstart to make it not fail installation.\\

\subsection{CLCFG\_createScreenRC}
\textbf{Description:} Creates the (under Ubuntu) needed settings for screen.\\

\subsection{CLCFG\_addGrubPassword}
\textbf{Description:} Adds a password line to the grub configuration to lock the edit line of bootmanager.\\

\subsection{CLCFG\_addLiloPassword}
\textbf{Description:} Adds a password line to the LiLo configuration to lock the edit line of bootmanager.\\

\subsection{GNOME\_prepare}
\textbf{Description:} Prepares the GNOME installation\\

\subsection{LXDE\_install}
\textbf{Description:} Installs the LXDE desktop.\\
\textbf{Parameter:}
\begin{itemize}
\item lang: short language
\item fullInstall: Set to true, if the full desktop with all applications should be installed. Otherwise a minimal desktop will be installed
\end{itemize}

\subsection{GNOME3\_install}
\textbf{Description:} Installs the GNOME 3 desktop.\\
\textbf{Parameter:}
\begin{itemize}
\item lang: short language
\item fullInstall: Set to true, if the full desktop with all applications should be installed. Otherwise a minimal desktop will be installed
\end{itemize}

\subsection{GNOME\_install}
\textbf{Description:} Installs a minimalistic GNOME desktop.\\
\textbf{Parameter:}
\begin{itemize}
\item lang: short language
\end{itemize}

\subsection{GNOME\_installLoginManager}
\textbf{Description:} Installs the GNOME login manager GDM.\\
\textbf{Parameter:}
\begin{itemize}
\item lang: short language
\end{itemize}

\subsection{KDE\_prepare}
\textbf{Description:} Prepares the KDE installation\\

\subsection{KDE\_install}
\textbf{Description:} Installs a minimalistic KDE desktop.\\
\textbf{Parameter:}
\begin{itemize}
\item lang: short language
\item ver: KDE version 3 or 4 (minor releases are depending in the on the used distribution)
\end{itemize}

\subsection{KDE\_installLoginManager}
\textbf{Description:} Installs the KDE/Trinity login manager KDM.\\
\textbf{Parameter:}
\begin{itemize}
\item lang: short language
\item ver: KDE version 3 or 4 (minor releases are depending in the on the used distribution)
\item trinity: Set to true, if the Trinity Desktop should be configured.
\end{itemize}

\subsection{CLCFG\_lilo2Grub}
\textbf{Description:} Installs and runs the lilo.conf to Grub's menu.lst converter\\

\subsection{CLCFG\_getMbrPart}
\textbf{Description:} Returns the device to install the MBR of the bootloader in.\\
\textbf{Parameter:}
\begin{itemize}
\item installPart: Partition to install the OS on.
\item clientOptions: Array with information about client options.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Device to install the MBR of the bootloader in.
\end{itemize}

\subsection{CLCFG\_setTimeZone}
\textbf{Description:} Sets the timezone a a client.\\
\textbf{Parameter:}
\begin{itemize}
\item timezone: POSIX timezone as defined at /usr/share/zoneinfo/posix/
\end{itemize}

\subsection{CLCFG\_writeHosts}
\textbf{Description:} writes the /etc/hosts file for the client\\

\subsection{CLCFG\_addUser}
\textbf{Description:} generates the commands to add a user on the client. it adds the user account, creates a home directory, copies the m23 skel files and sets the\\
\textbf{Parameter:}
\begin{itemize}
\item userName: the username for the account
\item password: the unecrypted password for the account
\item groups: the groups the user should be added to
\item skelDir: directory to the skeleton files
\item uid: Optional user ID of the new user.
\item gid: Optional group ID of the new user.
\end{itemize}

\subsection{CLCFG\_createBootDeviceNode}
\textbf{Description:} Makes sure the needed device nodes for the boot device are created.\\

\subsection{CLCFG\_efi}
\textbf{Description:} Configures the client for UEFI booting.\\
\textbf{Parameter:}
\begin{itemize}
\item CFDiskIOO: Object to with partition information for the calling client.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the client uses EFI, otherwise false.
\end{itemize}

\subsection{CLCFG\_genFstab}
\textbf{Description:} generates the commands to auto detect the partitions and generate the fstab file and installs a boot manager\\
\textbf{Parameter:}
\begin{itemize}
\item bootDevice: the device the bootloader should be installed on (e.g. /dev/hda)
\item rootDevice: the path to the installation partition (e.g. /dev/hda1)
\item bootloader: Name of the boot loader to install and configure (actually grub only)
\item ignoreErrors: Set to true, if some errors should be ignored instead of logging them.
\item isReconfiguredWithExtraDistr: Set to true, the function is called to reconfigure a distribution that was installed by imaging.
\end{itemize}

\subsection{CLCFG\_interfaces}
\textbf{Description:} generates a script that writes the /etc/network/interfaces file.\\
\textbf{Parameter:}
\begin{itemize}
\item clientParams: Associated array with the parameters of the client.
\end{itemize}

\subsection{CLCFG\_hostname}
\textbf{Description:} generates a script that writes the /etc/hostname file.\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: the name of the client
\end{itemize}

\subsection{CLCFG\_resolvConf}
\textbf{Description:} generates a script that writes the /etc/resolv.conf file.\\
\textbf{Parameter:}
\begin{itemize}
\item DNSServers: list of DNS servers
\end{itemize}

\subsection{CLCFG\_aptConf}
\textbf{Description:} generates a script that writes the /etc/apt/apt.conf.d/70debconf file.\\
\textbf{Parameter:}
\begin{itemize}
\item proxyServer: IP or name of the proxy server
\item proxyPort: port the proxy server listens on
\end{itemize}

\subsection{CLCFG\_sourceslist}
\textbf{Description:} generates a script that writes the /etc/apt/sources.list file.\\
\textbf{Parameter:}
\begin{itemize}
\item clientIP: IP of the client
\item clientName: name of the client
\item serverIP: IP of the server
\end{itemize}

\subsection{CLCFG\_sourceslistCreateConfigFiles}
\textbf{Description:} Creates config files for the package manager.\\
\textbf{Parameter:}
\begin{itemize}
\item sourceName: The name of the package source list
\end{itemize}

\subsection{CLCFG\_hwdetect}
\textbf{Description:} updates and runs the hardware detection\\

\subsection{CLCFG\_language}
\textbf{Description:} sets the language for keyboard in console and X11 and console language\\
\textbf{Parameter:}
\begin{itemize}
\item lang: 2 letter language code (de,fr,it,en)
\item release: The release name of the distribution (for special handling).
\end{itemize}

\subsection{CLCFG\_setRootPassword}
\textbf{Description:} sets the root password of the client\\
\textbf{Parameter:}
\begin{itemize}
\item cryptedPassword: sets an allready crypted root password
\end{itemize}

\subsection{CLCFG\_setAuthorized\_keys}
\textbf{Description:} sets the ssh authorized\_file for remote login into the clients\\
\textbf{Parameter:}
\begin{itemize}
\item serverIP: IP of the server
\item pathToKeyFile: path on the server where to get the key file from
\item acceptyDSSKeys: Set to true, if SSH-DSS keys should be re-enabled
\end{itemize}

\subsection{CLCFG\_copyClientPackageStatus}
\textbf{Description:} copies the package installation status file from the lient to the cache directory of the server\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: the name of the client
\end{itemize}

\subsection{CLCFG\_aptGet}
\textbf{Description:} Executes an APT command with parameters and tries to install/remove as many packages as possible. If the packages could not get installed in a bunch try to install the packges one by one.\\
\textbf{Parameter:}
\begin{itemize}
\item command: install or remove
\item packages: white space seperated list of packages to install or remove
\end{itemize}

\subsection{CLCFG\_importLocalPoolKey}
\textbf{Description:} Generates BASH code to import the local package pool key (if it exists) on the client's APT system.\\
\textbf{Returns:}
\begin{itemize}
\item BASH code to import the local package pool key or empty string, if there is no package pool sign key.
\end{itemize}

\subsection{CLCFG\_installBasePackages}
\textbf{Description:} installs needed base packages\\
\textbf{Parameter:}
\begin{itemize}
\item packagelist: the list of the packages to install
\item keyring: name of the keyring package
\end{itemize}

\subsection{CLCFG\_setDebconf}
\textbf{Description:} installs the debconf packages and sets debconf configuration\\
\textbf{Parameter:}
\begin{itemize}
\item serverIP: IP of the server, where to download the config file
\item debconfFile: path and filename of the debconf file
\end{itemize}

\subsection{CLCFG\_debootstrap}
\textbf{Description:} bootstraps a Debian system\\
\textbf{Parameter:}
\begin{itemize}
\item suite: select the Debian suite (sarge, sid, woody, potato)
\item DNSServers: DNS server for resolving the names of the installation server
\item gateway: gateway for fetching the packages
\item packageProxy: the ip of the proxy the packages should be fetched from
\item packagePort: the proxy port
\item mirror: the Debian mirror the packages should be fetched from
\item arch: the computer architecture of the client
\item exclude: packages to exclude (as comma-seperated list)
\item include: additional packages to include
\item isCritical: selects if debootstrap errors should be critical
\item additionalPackages: space seperated list of additional packages that should be installed during bootstrapping
\end{itemize}

\subsection{CLCFG\_downgradeExt}
\textbf{Description:} downgrades all ext* partitions so the fsck.ext* of woody can understand it\\

\subsection{CLCFG\_mountRootDir}
\textbf{Description:} create a new directory for mounting the root partition of the client, mount the installation directory to this mount point and create a temp directory\\
\textbf{Parameter:}
\begin{itemize}
\item rootDev: the root device (e.g. /dev/hda1)
\item mountPoint: directory under /mnt to mount the device in
\item CFDiskIOO: Client object (used for mounting the EFI boot partition).
\end{itemize}

\subsection{CLCFG\_activateDMA}
\textbf{Description:} try to activate DMA to speed up installation. this short script tries to detect\\

\subsection{CLCFG\_fetchm23BasicTools}
\textbf{Description:} fetches the basic m23 tools and fsize\\

\subsection{CLCFG\_dialogGaugeProcPos}
\textbf{Description:} Generates the BASH code for showing a dialog with status bar that uses /proc/pid/fdinfo for current file position\\
\textbf{Parameter:}
\begin{itemize}
\item backtitle: title on top of the screen
\item title: message title
\item message: message to show over the status bar
\item infofilecmd: BASH code to figure out the needed status file in the proc filesystem
\item fullsize: The full size of the file that should be written.
\item force: Forces showing of the dialog box
\end{itemize}

\subsection{CLCFG\_dialogInfoBox}
\textbf{Description:} generates the BASH code for showing an dialog infobox\\
\textbf{Parameter:}
\begin{itemize}
\item backtitle: title on top of the screen
\item title: message title
\item message: the message itself
\item force forces showing of the dialog box
\end{itemize}

\subsection{CLCFG\_dialogMsgBox}
\textbf{Description:} generates the BASH code for showing an dialog message box\\
\textbf{Parameter:}
\begin{itemize}
\item backtitle: title on top of the screen
\item title: message title
\item message: the message itself
\item force forces showing of the dialog box
\end{itemize}

\subsection{CLCFG\_dialogAllBox}
\textbf{Description:} generates the BASH code for showing different types of dialog boxes\\
\textbf{Parameter:}
\begin{itemize}
\item backtitle: title on top of the screen
\item title: message title
\item message: the message itself
\item type: type of the dialog box
\end{itemize}

\subsection{CLCFG\_executeAfterChroot}
\textbf{Description:} prepares for pivot\_root and does it and executes afterChroot\\

\subsection{CLCFG\_writeCrontabm23fetchjobEvery5Minutes}
\textbf{Description:} Adds entries to crontab to check every 5 minutes for new jobs.\\

\subsection{CLCFG\_writeM23fetchjob}
\textbf{Description:} generates the m23fetchjob script\\
\textbf{Parameter:}
\begin{itemize}
\item release: Name of the distribution release for special handling of some releases.
\end{itemize}

\subsection{CLCFG\_hideKernelWarnings}
\textbf{Description:} hides the kernel warnungs\\

\subsection{CLCFG\_getRootDeviceFS}
\textbf{Description:} Gets the filesystem of the root device.\\
\textbf{Parameter:}
\begin{itemize}
\item rootDevice: the device, the kernel should be installed on
\item clientName: the name of the client
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Filesystem of the root device.
\end{itemize}

\subsection{CLCFG\_genFakeFstab}
\textbf{Description:} generates a fake /etc/fstab that only contains the lines for proc and the root partition (this is used to make the kernel install correctly)\\
\textbf{Parameter:}
\begin{itemize}
\item rootDevice: the device, the kernel should be installed on
\item clientName: the name of the client
\end{itemize}

\subsection{CLCFG\_copySSLCert}
\textbf{Description:} fetches the SSL certificate from the server and copies it to the client\\
\textbf{Parameter:}
\begin{itemize}
\item rootPath: the path to where the root directory is mounted
\item disableSSLCertCheck: Disables the SSL certificate check of wget.
\end{itemize}

\subsection{CLCFG\_changeUser}
\textbf{Description:} changes the settings of an useraccount on a client\\
\textbf{Parameter:}
\begin{itemize}
\item userName: the (old) username for the account
\item password: the new unecrypted password for the account
\item newUserName: the new username
\end{itemize}

\subsection{CLCFG\_patchNsswitchForLDAP}
\textbf{Description:} Patches /etc/nsswitch.conf for usage with LDAP.\\

\subsection{CLCFG\_enableNFSHome}
\textbf{Description:} enables storing of home directories on a NFS server\\
\textbf{Parameter:}
\begin{itemize}
\item nfsURL: URL to the NFS storage (e.g. 192.168.1.23:/nfs-homes)
\end{itemize}

\subsection{CLCFG\_disableNFSHome}
\textbf{Description:} Disables storing of home directories on a NFS server\\

\subsection{CLCFG\_installDesktopLanguagePackage}
\textbf{Description:} Installs some additional language packages for (KDE / Gnome) desktops.\\
\textbf{Parameter:}
\begin{itemize}
\item lang: short language
\item kde: Install KDE language packages too.
\item gnome: Install Gnome language packages too.
\end{itemize}

\subsection{CLCFG\_installApplicationLanguagePackages}
\textbf{Description:} Installs some additional language packages for installed applications with seperate language packs.\\
\textbf{Parameter:}
\begin{itemize}
\item lang: short language
\end{itemize}

\subsection{CLCFG\_updateDebootstrapScripts}
\textbf{Description:} Updates the debootstrap scripts for Debian or Ubuntu and returns the www path to the files\\

\subsection{CLCFG\_updateDebootstrapScriptsDebian}
\textbf{Description:} Updates the debootstrap scripts for Debian and returns the www path to the files\\

\newpage\section{./inc/distr/imaging/clientConfig.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: Imaging specific management functions.\\

\subsection{CLCFG\_addDistributionSpecificOptions}
\textbf{Description:} adds distribution specific settings to an option array and returns the new array\\
\textbf{Parameter:}
\begin{itemize}
\item \$options: the options array with some values
\end{itemize}

\subsection{CLCFG\_showDistributionSpecificOptions}
\textbf{Description:} shows distribution specific options and returns false, if there was an error\\
\textbf{Parameter:}
\begin{itemize}
\item options: options array
\item client: Name of the client.
\end{itemize}

\newpage\section{./inc/distr/imaging/packages.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: Debian/Ubuntu specific package handling functions.\\

\subsection{PKG\_updatePackageSearchCacheFile}
\textbf{Description:} Updates the compressed package search file.\\
\textbf{Parameter:}
\begin{itemize}
\item packagesource: Name of the package sources list.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Full path to the log file.
\end{itemize}

\subsection{PKG\_getSearchCacheFileName}
\textbf{Description:} Returns the full path to the compressed package search file.\\
\textbf{Parameter:}
\begin{itemize}
\item dir: Directory where the package information is stored.
\item arch: Architecture for the packages in the search file.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Full path to the compressed package search file.
\end{itemize}

\subsection{PKG\_genPackageSearchCacheFileCMD}
\textbf{Description:} Generates commands to create a compressed package search file.\\
\textbf{Parameter:}
\begin{itemize}
\item dir: Directory where the package information is stored.
\item arch: Architecture for the packages in the search file.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item BASH commands for creating a compressed package search file.
\end{itemize}

\subsection{PKG\_searchPackageSearchCacheFileCMD}
\textbf{Description:} Generates BASH commands to search a compressed package search file.\\
\textbf{Parameter:}
\begin{itemize}
\item dir: Directory where the package information is stored.
\item arch: Architecture for the packages in the search file.
\item search: Search terms.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item BASH commands to search a compressed package search file.
\end{itemize}

\subsection{PKG\_ncTarDebsFromClientToServer\_Client}
\textbf{Description:} Client to send the Debian packages to the m23 client.\\

\subsection{PKG\_ncTarDebsFromClientToServer\_Server}
\textbf{Description:} Starts a server to receive the Debian packages from an m23 client.\\
\textbf{Parameter:}
\begin{itemize}
\item poolDir: The directory on the server to store the Debian packages.
\end{itemize}

\subsection{PKG\_rsyncDebsFromClientToServer}
\textbf{Description:} Copies all the Debian packages from a client to a given directory on the server via rsync.\\
\textbf{Parameter:}
\begin{itemize}
\item clientIP: The IP of the client.
\item poolDir: The directory on the server to store the Debian packages.
\end{itemize}

\subsection{PKG\_preparePool}
\textbf{Description:} Generates the needed configuration file for reprepro.\\
\textbf{Parameter:}
\begin{itemize}
\item release: Release of the pool.
\item distr: Distribution of the pool.
\item arch: Architecture of the pool (POOL\_ARCH\_I386 or CPoolLister::POOL\_ARCH\_AMD64).
\item poolName: Name of the pool (if a pool with the given name exists =$>$ load)
\item poolDir: Directory of the pool with full path.
\end{itemize}

\subsection{PKG\_convertPackagesToRepository}
\textbf{Description:} Generates commands for creating a package source from packages stored in one directory.\\
\textbf{Parameter:}
\begin{itemize}
\item poolDir: Complete path to the directory that stores the pool.
\item logFile: File (with full path) to store the pool generation log in.
\item poolName: Name of the pool.
\item sourceslist: Variable to store the sources list in.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Commands for creating a package source from packages stored in one directory.
\end{itemize}

\subsection{PKG\_fastGetInstalledPackages}
\textbf{Description:} Gets a list of all installed packages (faster than dpkg --get-selections).\\
\textbf{Parameter:}
\begin{itemize}
\item storeFile: File name to store the list of installed on the client or empty if the list should be outputted to stdout.
\end{itemize}

\subsection{PKG\_fastGetNewInstalledPackages}
\textbf{Description:} Gets new installed packages by comparing status files (before and after the installation).\\
\textbf{Parameter:}
\begin{itemize}
\item oldStatusFile: File with the list of all installed packages before the installation of the new packages
\item newStatusFile: File with the list of all installed packages after the installation of the new packages
\item storeFile: File name to store the list of new installed on the client.
\end{itemize}

\subsection{PKG\_searchFor}
\textbf{Description:} searches for a package and returnes a file descriptor\\
\textbf{Parameter:}
\begin{itemize}
\item key: search key
\item distr: the distribution name
\item packagesource: name of the package source
\item arch: Array of architectures to get package infos for.
\end{itemize}

\subsection{PKG\_getDescription}
\textbf{Description:} gets the description of a package\\
\textbf{Parameter:}
\begin{itemize}
\item line: line containing package name and description
\end{itemize}

\subsection{PKG\_getPackageName}
\textbf{Description:} gets the name of a package\\
\textbf{Parameter:}
\begin{itemize}
\item line: line containing package name and description
\end{itemize}

\subsection{PKG\_getLongPackageDescription}
\textbf{Description:} Gets the description of a package.\\
\textbf{Parameter:}
\begin{itemize}
\item package: Name of the package.
\item distr: the distribution name
\item packagesource: name of the package source
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Description of the package.
\end{itemize}

\subsection{PKG\_getPackageDescriptionSize}
\textbf{Description:} Returnes the description and size of a package\\
\textbf{Parameter:}
\begin{itemize}
\item distr: the name of the distribution
\item packagesource: the name of the package source list
\item package: name if the package
\end{itemize}

\subsection{PKG\_printStatus}
\textbf{Description:} prints the package status, e.g. amount of packages,...\\
\textbf{Parameter:}
\begin{itemize}
\item distr: the name of the distribution
\item packagesource: the name of the package source list
\end{itemize}

\subsection{PKG\_listPackages}
\textbf{Description:} list packages matching the key\\
\textbf{Parameter:}
\begin{itemize}
\item key: search key
\item distr: the distribution name
\item packagesource: name of the package source
\item client: Name of the client the packages are searched for. (Not used here and only for halfSister)
\item completeDescription: If set to true, the full package description and sizes are fetched (time consuming)
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : Amount of found packages.
\end{itemize}

\subsection{PKG\_getAptArchOptions}
\textbf{Description:} Generates options to specify the architecture of a client that can be appended to an apt-get line.\\
\textbf{Parameter:}
\begin{itemize}
\item arch: Architecture to get package infos for.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : Parameter for architecture specific apt-get commands, if architecture is not i386.
\end{itemize}

\subsection{PKG\_addAPTConfigFiles}
\textbf{Description:} Creates the config files for the package manager on the m23 server.\\
\textbf{Parameter:}
\begin{itemize}
\item sourceName: The name of the package source list
\item dir: The directory on the m23 server where the config files should be created.
\end{itemize}

\subsection{PKG\_preparePackageDir}
\textbf{Description:} creates the needed files + sources list in a directory to use it for "local apt".\\
\textbf{Parameter:}
\begin{itemize}
\item dir: the directory to prepare
\item packagesource: sources list
\item logFile: Name of the file the messages from apt-get should be written to.
\item returnCmd: Set to true, if the apt command should be returned or to false to execute it in this function.
\item arch: Architecture to get package infos for.
\item sourceName: The name of the package source list
\item hardTryUpdate: Set to true, if the apt-get update should be run until it succeeds
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : Error text on error or empty string on success.
\end{itemize}

\subsection{PKG\_updatePackageInfo}
\textbf{Description:} Updates the package information to make it searchable.\\
\textbf{Parameter:}
\begin{itemize}
\item distr: the distribution name
\item packagesource: name of the package source
\item force: set to true if you want to update the package info and the time is not over
\item arch: Architecture to get package infos for.
\item changeTime: Writes the time when the status file was last modified to.
\end{itemize}

\subsection{PKG\_previewInstall}
\textbf{Description:} shows what happens if packages get installed\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client
\item distr: the distribution name
\item packagesource: name of the package source
\item packages: the packages to be installed
\item aptCommand: sets the apt-get command: install, remove
\end{itemize}

\subsection{PKG\_getKernels}
\textbf{Description:} Generates an associative array with the available kernels for an architecture and distribution as keys and values, where kernels containing the term 'generic' are at the front.\\
\textbf{Parameter:}
\begin{itemize}
\item distr: the distribution name
\item packagesource: name of the package source
\item arch: Architecture to get package infos for.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Associative array with the available kernels for an architecture and distribution as keys and values with kernels containing the term 'generic' at the front, sorted by length and then by alphabet.
\end{itemize}

\subsection{PKG\_downloadPool}
\textbf{Description:} Generates commands to download packages from a sources list to a directory.\\
\textbf{Parameter:}
\begin{itemize}
\item destDir: the directory the packages should be downloaded to
\item sourceslist: package source list
\item packagesArr: array of the lists that contain packages to download (seperated by blanks)
\item arch: CPU architecture to download the packages for.
\item release: Select the Debian/Ubuntu suite (squeeze, sarge, sid, precise).
\end{itemize}

\subsection{PKG\_getDebootStrapBasePackages}
\textbf{Description:} Returns the list of base packages that are downloaded by debootstrap for a special release.\\
\textbf{Parameter:}
\begin{itemize}
\item release: release name of the distribution version (e.g. sarge)
\end{itemize}

\newpage\section{./inc/distr.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: Functions for handling distributions.\\

\subsection{DISTR\_getUbuntuUserGroups}
\textbf{Description:} Returns the default groups an user of a Ubuntu system should be in.\\
\textbf{Parameter:}
\begin{itemize}
\item arrayOrSeparator: If set to true, the groups are returned as array, otherwise the value is used as separator character.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Default groups as array or as string, where the groups are separates by a separator character.
\end{itemize}

\subsection{DISTR\_getDebianUserGroups}
\textbf{Description:} Returns the default groups an user of a Debian system should be in.\\
\textbf{Parameter:}
\begin{itemize}
\item arrayOrSeparator: If set to true, the groups are returned as array, otherwise the value is used as separator character.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Default groups as array or as string, where the groups are separates by a separator character.
\end{itemize}

\subsection{DISTR\_releaseVersionTranslator}
\textbf{Description:} Adds the version number to a Debian or Ubuntu release.\\
\textbf{Parameter:}
\begin{itemize}
\item release: Release name (e.g. etch)
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Combination of release code name and version number.
\end{itemize}

\subsection{DISTR\_listDistributions}
\textbf{Description:} returns a list of the directory names of the distributions\\
\textbf{Parameter:}
\begin{itemize}
\item addEmpty: set to true if an empty fake distribution shoul be put on top of the list
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item An array that contains the system names of all distributions.
\end{itemize}

\subsection{DISTR\_getDescriptionValues}
\textbf{Description:} gets the valuest stored in the info.txt file of the distributions and returns a associative array\\
\textbf{Parameter:}
\begin{itemize}
\item shortName: the short name of the distribution
\end{itemize}

\subsection{DISTR\_DistributionsSelections}
\textbf{Description:} generates a selection/option form of the available distributions\\
\textbf{Parameter:}
\begin{itemize}
\item selName: name of the selection
\item first: shortName of the distribution to show first
\end{itemize}

\subsection{DISTR\_geti18nValue}
\textbf{Description:} returns a value of the info file and tries to get it in the selected language. if it doesn't exist it is returned in the default language\\
\textbf{Parameter:}
\begin{itemize}
\item lang: language as 2 letter code (e.g. de)
\item variable: the name of the variable you want to get (e.g. Description)
\item values: the associate array of the info.txt values
\end{itemize}

\subsection{DISTR\_listCommaSeperated}
\textbf{Description:} returns a normal array with the values of the specified variable (e.g. var: GUIs =$>$ result: [0] =$>$ Textmode [1] =$>$ KDE3 [2] =$>$ KDEwoody ...)\\
\textbf{Parameter:}
\begin{itemize}
\item variable: the variable to search for
\item values: the values of the distribution text file (info.txt) read with DISTR\_getDescriptionValues
\end{itemize}

\subsection{DISTR\_commaSeperatedSelections}
\textbf{Description:} returns a selection with certain values (specified thru \$variable) from the distribution text file\\
\textbf{Parameter:}
\begin{itemize}
\item selName: name of the selection
\item first: item to show first
\item variable: the variable to search for
\item values: the values of the distribution text file (info.txt) read with DISTR\_getDescriptionValues
\end{itemize}

\subsection{DISTR\_getDesktopsCBList}
\textbf{Description:} returns a checkbox list with desktops for a certain distribution. Desktops included in the array \$selectedDesktops are checked.\\
\textbf{Parameter:}
\begin{itemize}
\item distr: distribution of the desktops should be shown
\item selectedDesktops: array with the desktops that should be checked
\end{itemize}

\subsection{DISTR\_getDesktopDescription}
\textbf{Description:} Returns the description for the given desktop in the given distribution preferedly in the language of the m23 webinterface.\\
\textbf{Parameter:}
\begin{itemize}
\item distr: Name of the distribution.
\item desktop: Name of the desktop.
\end{itemize}

\subsection{DISTR\_getSelectedDesktopsArr}
\textbf{Description:} returns an array with selected desktops from the list generated by DISTR\_getDesktopsCBList\\

\subsection{DISTR\_getSelectedDesktopsStr}
\textbf{Description:} returns a string with selected desktops (seperated by "\#\#\#") from the list generated by DISTR\_getDesktopsCBList\\

\newpage\section{./inc/distr/ubuntu/clientConfigCommon.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: Common management funtions shared by Linux distributions.\\

\subsection{CLCFG\_blacklistPackageInstallation}
\textbf{Description:} Blacklists a package for APT to make it uninstallable.\\
\textbf{Parameter:}
\begin{itemize}
\item package: Name of the package.
\end{itemize}

\subsection{CLCFG\_executeNextWorkEveryMinute}
\textbf{Description:} Runs executeNextWork in a loop every minute and shows a status message about elapsed waiting time.\\
\textbf{Parameter:}
\begin{itemize}
\item lang: language for the messages
\end{itemize}

\subsection{CLCFG\_setSystime}
\textbf{Description:} Sets the system time of the client to about the same time of the m23 server.\\

\subsection{CLCFG\_disableAptSystemdDaily}
\textbf{Description:} Deactivates systemd apt-daily.timer.\\

\subsection{CLCFG\_addPAMtoDM}
\textbf{Description:} Adds PAM modules (if present) to the pam.d configuration files.\\
\textbf{Parameter:}
\begin{itemize}
\item dmFile: Name of the login manager pam.d config file.
\end{itemize}

\subsection{CLCFG\_disableSudoRootLogin}
\textbf{Description:} Disables getting root rights of normal users via sudo.\\

\subsection{CLCFG\_installFirmware}
\textbf{Description:} Installs available firmware packages.\\

\subsection{CLCFG\_monoRemove}
\textbf{Description:} Removes mono packages and installs gnote when tomboy was installed before.\\

\subsection{CLCFG\_setDebConfDM}
\textbf{Description:} Sets the display manager in debconf.\\
\textbf{Parameter:}
\begin{itemize}
\item dm: Name of the display manager (kdm, lightdm, mdm, ...).
\end{itemize}

\subsection{CLCFG\_installXDM}
\textbf{Description:} Installs the XDM display manager.\\

\subsection{CLCFG\_installSDDM}
\textbf{Description:} Installs the SDDM display manager.\\

\subsection{CLCFG\_installMintDM}
\textbf{Description:} Installs the Linux Mint DM display manager.\\

\subsection{CLCFG\_copyMBRToAllDevices}
\textbf{Description:} Copies the MBR code from the boot device to all other devices.\\
\textbf{Parameter:}
\begin{itemize}
\item bootDevice: Device name of the device with the original MBR (e.g. /dev/sda).
\end{itemize}

\subsection{CLCFG\_activateBOOT\_DEGRADED}
\textbf{Description:} Activates BOOT\_DEGRADED on Ubuntu 12.04 to allow booting from degraded RAIDs.\\

\subsection{CLCFG\_installLightDM}
\textbf{Description:} Installs the light DM display manager.\\
\textbf{Parameter:}
\begin{itemize}
\item session: Name of the session to select by default.
\item addSessionWrapper: Set to true, if an additional line with "session-wrapper=/etc/X11/Xsession" should be added.
\end{itemize}

\subsection{CLCFG\_setDebConfDirect}
\textbf{Description:} Sets debconf settings.\\
\textbf{Parameter:}
\begin{itemize}
\item debconf: Debconf settings to add.
\end{itemize}

\subsection{TRINITY\_installLoginManager}
\textbf{Description:} Installs the Trinity login manager KDM.\\
\textbf{Parameter:}
\begin{itemize}
\item lang: short language
\end{itemize}

\subsection{TRINITY\_install}
\textbf{Description:} Installs a minimalistic Trinity desktop.\\
\textbf{Parameter:}
\begin{itemize}
\item lang: short language
\end{itemize}

\subsection{CLCFG\_makeDev}
\textbf{Description:} Creates the device nodes in /dev by downloading and extracting an archive containing the device nodes and if this fails running MAKEDEV.\\

\subsection{CLCFG\_disablePlymouth}
\textbf{Description:} Disables the plymouth.\\

\subsection{CLCFG\_disableAvahiDaemon}
\textbf{Description:} Disables the avahi-daemon.\\

\subsection{CLCFG\_configUpstartForNormalUsage}
\textbf{Description:} Configures upstart for normal running in an installed system.\\

\subsection{CLCFG\_configUpstartForChroot}
\textbf{Description:} Configures upstart to make it not fail installation.\\

\subsection{CLCFG\_createScreenRC}
\textbf{Description:} Creates the (under Ubuntu) needed settings for screen.\\

\subsection{CLCFG\_addGrubPassword}
\textbf{Description:} Adds a password line to the grub configuration to lock the edit line of bootmanager.\\

\subsection{CLCFG\_addLiloPassword}
\textbf{Description:} Adds a password line to the LiLo configuration to lock the edit line of bootmanager.\\

\subsection{GNOME\_prepare}
\textbf{Description:} Prepares the GNOME installation\\

\subsection{LXDE\_install}
\textbf{Description:} Installs the LXDE desktop.\\
\textbf{Parameter:}
\begin{itemize}
\item lang: short language
\item fullInstall: Set to true, if the full desktop with all applications should be installed. Otherwise a minimal desktop will be installed
\end{itemize}

\subsection{GNOME3\_install}
\textbf{Description:} Installs the GNOME 3 desktop.\\
\textbf{Parameter:}
\begin{itemize}
\item lang: short language
\item fullInstall: Set to true, if the full desktop with all applications should be installed. Otherwise a minimal desktop will be installed
\end{itemize}

\subsection{GNOME\_install}
\textbf{Description:} Installs a minimalistic GNOME desktop.\\
\textbf{Parameter:}
\begin{itemize}
\item lang: short language
\end{itemize}

\subsection{GNOME\_installLoginManager}
\textbf{Description:} Installs the GNOME login manager GDM.\\
\textbf{Parameter:}
\begin{itemize}
\item lang: short language
\end{itemize}

\subsection{KDE\_prepare}
\textbf{Description:} Prepares the KDE installation\\

\subsection{KDE\_install}
\textbf{Description:} Installs a minimalistic KDE desktop.\\
\textbf{Parameter:}
\begin{itemize}
\item lang: short language
\item ver: KDE version 3 or 4 (minor releases are depending in the on the used distribution)
\end{itemize}

\subsection{KDE\_installLoginManager}
\textbf{Description:} Installs the KDE/Trinity login manager KDM.\\
\textbf{Parameter:}
\begin{itemize}
\item lang: short language
\item ver: KDE version 3 or 4 (minor releases are depending in the on the used distribution)
\item trinity: Set to true, if the Trinity Desktop should be configured.
\end{itemize}

\subsection{CLCFG\_lilo2Grub}
\textbf{Description:} Installs and runs the lilo.conf to Grub's menu.lst converter\\

\subsection{CLCFG\_getMbrPart}
\textbf{Description:} Returns the device to install the MBR of the bootloader in.\\
\textbf{Parameter:}
\begin{itemize}
\item installPart: Partition to install the OS on.
\item clientOptions: Array with information about client options.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Device to install the MBR of the bootloader in.
\end{itemize}

\subsection{CLCFG\_setTimeZone}
\textbf{Description:} Sets the timezone a a client.\\
\textbf{Parameter:}
\begin{itemize}
\item timezone: POSIX timezone as defined at /usr/share/zoneinfo/posix/
\end{itemize}

\subsection{CLCFG\_writeHosts}
\textbf{Description:} writes the /etc/hosts file for the client\\

\subsection{CLCFG\_addUser}
\textbf{Description:} generates the commands to add a user on the client. it adds the user account, creates a home directory, copies the m23 skel files and sets the\\
\textbf{Parameter:}
\begin{itemize}
\item userName: the username for the account
\item password: the unecrypted password for the account
\item groups: the groups the user should be added to
\item skelDir: directory to the skeleton files
\item uid: Optional user ID of the new user.
\item gid: Optional group ID of the new user.
\end{itemize}

\subsection{CLCFG\_createBootDeviceNode}
\textbf{Description:} Makes sure the needed device nodes for the boot device are created.\\

\subsection{CLCFG\_efi}
\textbf{Description:} Configures the client for UEFI booting.\\
\textbf{Parameter:}
\begin{itemize}
\item CFDiskIOO: Object to with partition information for the calling client.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the client uses EFI, otherwise false.
\end{itemize}

\subsection{CLCFG\_genFstab}
\textbf{Description:} generates the commands to auto detect the partitions and generate the fstab file and installs a boot manager\\
\textbf{Parameter:}
\begin{itemize}
\item bootDevice: the device the bootloader should be installed on (e.g. /dev/hda)
\item rootDevice: the path to the installation partition (e.g. /dev/hda1)
\item bootloader: Name of the boot loader to install and configure (actually grub only)
\item ignoreErrors: Set to true, if some errors should be ignored instead of logging them.
\item isReconfiguredWithExtraDistr: Set to true, the function is called to reconfigure a distribution that was installed by imaging.
\end{itemize}

\subsection{CLCFG\_interfaces}
\textbf{Description:} generates a script that writes the /etc/network/interfaces file.\\
\textbf{Parameter:}
\begin{itemize}
\item clientParams: Associated array with the parameters of the client.
\end{itemize}

\subsection{CLCFG\_hostname}
\textbf{Description:} generates a script that writes the /etc/hostname file.\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: the name of the client
\end{itemize}

\subsection{CLCFG\_resolvConf}
\textbf{Description:} generates a script that writes the /etc/resolv.conf file.\\
\textbf{Parameter:}
\begin{itemize}
\item DNSServers: list of DNS servers
\end{itemize}

\subsection{CLCFG\_aptConf}
\textbf{Description:} generates a script that writes the /etc/apt/apt.conf.d/70debconf file.\\
\textbf{Parameter:}
\begin{itemize}
\item proxyServer: IP or name of the proxy server
\item proxyPort: port the proxy server listens on
\end{itemize}

\subsection{CLCFG\_sourceslist}
\textbf{Description:} generates a script that writes the /etc/apt/sources.list file.\\
\textbf{Parameter:}
\begin{itemize}
\item clientIP: IP of the client
\item clientName: name of the client
\item serverIP: IP of the server
\end{itemize}

\subsection{CLCFG\_sourceslistCreateConfigFiles}
\textbf{Description:} Creates config files for the package manager.\\
\textbf{Parameter:}
\begin{itemize}
\item sourceName: The name of the package source list
\end{itemize}

\subsection{CLCFG\_hwdetect}
\textbf{Description:} updates and runs the hardware detection\\

\subsection{CLCFG\_language}
\textbf{Description:} sets the language for keyboard in console and X11 and console language\\
\textbf{Parameter:}
\begin{itemize}
\item lang: 2 letter language code (de,fr,it,en)
\item release: The release name of the distribution (for special handling).
\end{itemize}

\subsection{CLCFG\_setRootPassword}
\textbf{Description:} sets the root password of the client\\
\textbf{Parameter:}
\begin{itemize}
\item cryptedPassword: sets an allready crypted root password
\end{itemize}

\subsection{CLCFG\_setAuthorized\_keys}
\textbf{Description:} sets the ssh authorized\_file for remote login into the clients\\
\textbf{Parameter:}
\begin{itemize}
\item serverIP: IP of the server
\item pathToKeyFile: path on the server where to get the key file from
\item acceptyDSSKeys: Set to true, if SSH-DSS keys should be re-enabled
\end{itemize}

\subsection{CLCFG\_copyClientPackageStatus}
\textbf{Description:} copies the package installation status file from the lient to the cache directory of the server\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: the name of the client
\end{itemize}

\subsection{CLCFG\_aptGet}
\textbf{Description:} Executes an APT command with parameters and tries to install/remove as many packages as possible. If the packages could not get installed in a bunch try to install the packges one by one.\\
\textbf{Parameter:}
\begin{itemize}
\item command: install or remove
\item packages: white space seperated list of packages to install or remove
\end{itemize}

\subsection{CLCFG\_importLocalPoolKey}
\textbf{Description:} Generates BASH code to import the local package pool key (if it exists) on the client's APT system.\\
\textbf{Returns:}
\begin{itemize}
\item BASH code to import the local package pool key or empty string, if there is no package pool sign key.
\end{itemize}

\subsection{CLCFG\_installBasePackages}
\textbf{Description:} installs needed base packages\\
\textbf{Parameter:}
\begin{itemize}
\item packagelist: the list of the packages to install
\item keyring: name of the keyring package
\end{itemize}

\subsection{CLCFG\_setDebconf}
\textbf{Description:} installs the debconf packages and sets debconf configuration\\
\textbf{Parameter:}
\begin{itemize}
\item serverIP: IP of the server, where to download the config file
\item debconfFile: path and filename of the debconf file
\end{itemize}

\subsection{CLCFG\_debootstrap}
\textbf{Description:} bootstraps a Debian system\\
\textbf{Parameter:}
\begin{itemize}
\item suite: select the Debian suite (sarge, sid, woody, potato)
\item DNSServers: DNS server for resolving the names of the installation server
\item gateway: gateway for fetching the packages
\item packageProxy: the ip of the proxy the packages should be fetched from
\item packagePort: the proxy port
\item mirror: the Debian mirror the packages should be fetched from
\item arch: the computer architecture of the client
\item exclude: packages to exclude (as comma-seperated list)
\item include: additional packages to include
\item isCritical: selects if debootstrap errors should be critical
\item additionalPackages: space seperated list of additional packages that should be installed during bootstrapping
\end{itemize}

\subsection{CLCFG\_downgradeExt}
\textbf{Description:} downgrades all ext* partitions so the fsck.ext* of woody can understand it\\

\subsection{CLCFG\_mountRootDir}
\textbf{Description:} create a new directory for mounting the root partition of the client, mount the installation directory to this mount point and create a temp directory\\
\textbf{Parameter:}
\begin{itemize}
\item rootDev: the root device (e.g. /dev/hda1)
\item mountPoint: directory under /mnt to mount the device in
\item CFDiskIOO: Client object (used for mounting the EFI boot partition).
\end{itemize}

\subsection{CLCFG\_activateDMA}
\textbf{Description:} try to activate DMA to speed up installation. this short script tries to detect\\

\subsection{CLCFG\_fetchm23BasicTools}
\textbf{Description:} fetches the basic m23 tools and fsize\\

\subsection{CLCFG\_dialogGaugeProcPos}
\textbf{Description:} Generates the BASH code for showing a dialog with status bar that uses /proc/pid/fdinfo for current file position\\
\textbf{Parameter:}
\begin{itemize}
\item backtitle: title on top of the screen
\item title: message title
\item message: message to show over the status bar
\item infofilecmd: BASH code to figure out the needed status file in the proc filesystem
\item fullsize: The full size of the file that should be written.
\item force: Forces showing of the dialog box
\end{itemize}

\subsection{CLCFG\_dialogInfoBox}
\textbf{Description:} generates the BASH code for showing an dialog infobox\\
\textbf{Parameter:}
\begin{itemize}
\item backtitle: title on top of the screen
\item title: message title
\item message: the message itself
\item force forces showing of the dialog box
\end{itemize}

\subsection{CLCFG\_dialogMsgBox}
\textbf{Description:} generates the BASH code for showing an dialog message box\\
\textbf{Parameter:}
\begin{itemize}
\item backtitle: title on top of the screen
\item title: message title
\item message: the message itself
\item force forces showing of the dialog box
\end{itemize}

\subsection{CLCFG\_dialogAllBox}
\textbf{Description:} generates the BASH code for showing different types of dialog boxes\\
\textbf{Parameter:}
\begin{itemize}
\item backtitle: title on top of the screen
\item title: message title
\item message: the message itself
\item type: type of the dialog box
\end{itemize}

\subsection{CLCFG\_executeAfterChroot}
\textbf{Description:} prepares for pivot\_root and does it and executes afterChroot\\

\subsection{CLCFG\_writeCrontabm23fetchjobEvery5Minutes}
\textbf{Description:} Adds entries to crontab to check every 5 minutes for new jobs.\\

\subsection{CLCFG\_writeM23fetchjob}
\textbf{Description:} generates the m23fetchjob script\\
\textbf{Parameter:}
\begin{itemize}
\item release: Name of the distribution release for special handling of some releases.
\end{itemize}

\subsection{CLCFG\_hideKernelWarnings}
\textbf{Description:} hides the kernel warnungs\\

\subsection{CLCFG\_getRootDeviceFS}
\textbf{Description:} Gets the filesystem of the root device.\\
\textbf{Parameter:}
\begin{itemize}
\item rootDevice: the device, the kernel should be installed on
\item clientName: the name of the client
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Filesystem of the root device.
\end{itemize}

\subsection{CLCFG\_genFakeFstab}
\textbf{Description:} generates a fake /etc/fstab that only contains the lines for proc and the root partition (this is used to make the kernel install correctly)\\
\textbf{Parameter:}
\begin{itemize}
\item rootDevice: the device, the kernel should be installed on
\item clientName: the name of the client
\end{itemize}

\subsection{CLCFG\_copySSLCert}
\textbf{Description:} fetches the SSL certificate from the server and copies it to the client\\
\textbf{Parameter:}
\begin{itemize}
\item rootPath: the path to where the root directory is mounted
\item disableSSLCertCheck: Disables the SSL certificate check of wget.
\end{itemize}

\subsection{CLCFG\_changeUser}
\textbf{Description:} changes the settings of an useraccount on a client\\
\textbf{Parameter:}
\begin{itemize}
\item userName: the (old) username for the account
\item password: the new unecrypted password for the account
\item newUserName: the new username
\end{itemize}

\subsection{CLCFG\_patchNsswitchForLDAP}
\textbf{Description:} Patches /etc/nsswitch.conf for usage with LDAP.\\

\subsection{CLCFG\_enableNFSHome}
\textbf{Description:} enables storing of home directories on a NFS server\\
\textbf{Parameter:}
\begin{itemize}
\item nfsURL: URL to the NFS storage (e.g. 192.168.1.23:/nfs-homes)
\end{itemize}

\subsection{CLCFG\_disableNFSHome}
\textbf{Description:} Disables storing of home directories on a NFS server\\

\subsection{CLCFG\_installDesktopLanguagePackage}
\textbf{Description:} Installs some additional language packages for (KDE / Gnome) desktops.\\
\textbf{Parameter:}
\begin{itemize}
\item lang: short language
\item kde: Install KDE language packages too.
\item gnome: Install Gnome language packages too.
\end{itemize}

\subsection{CLCFG\_installApplicationLanguagePackages}
\textbf{Description:} Installs some additional language packages for installed applications with seperate language packs.\\
\textbf{Parameter:}
\begin{itemize}
\item lang: short language
\end{itemize}

\subsection{CLCFG\_updateDebootstrapScripts}
\textbf{Description:} Updates the debootstrap scripts for Debian or Ubuntu and returns the www path to the files\\

\subsection{CLCFG\_updateDebootstrapScriptsDebian}
\textbf{Description:} Updates the debootstrap scripts for Debian and returns the www path to the files\\

\newpage\section{./inc/distr/ubuntu/clientConfig.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: Ubuntu specific management functions.\\

\subsection{CLCFG\_showDistributionSpecificOptionsUbuntu}
\textbf{Description:} Shows additional distribution specific options for Ubuntu.\\
\textbf{Parameter:}
\begin{itemize}
\item options: options array
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Options array or false, if there was an error
\end{itemize}

\subsection{UBUNTU\_installLanguagePacks}
\textbf{Description:} Installs the language packs on Ubuntu.\\
\textbf{Parameter:}
\begin{itemize}
\item lang: short language
\end{itemize}

\subsection{UBUNTU\_desktopInstall}
\textbf{Description:} Installs a desktop environment.\\
\textbf{Parameter:}
\begin{itemize}
\item desktop: Desktop constant.
\item globalMenu: If set to true Unity's global menus are activated otherwise deactivated.
\item normalButtonPosition: If set to true the window buttons are shown on the top right instead of top left.
\item normalScrollBars: If set to true the normal scroll bars are usesed instead of the Unity bars.
\item addDesktopIcons: If set to true the home, network, volumes and trash icons are shown on the desktop.
\item removeUbuntuOne: If set to true Ubuntu One is removed.
\item removeMono: If set to true Mono is removed.
\item installLangPacks: If set to true language packs will be installed.
\end{itemize}

\subsection{UBUNTU\_fixBeforeBaseInstall}
\textbf{Description:} Corrects the settings for Ubuntu before the base packages are installed.\\
\textbf{Parameter:}
\begin{itemize}
\item release: Name of the Ubuntu release.
\end{itemize}

\subsection{UBUNTU\_fixAfterBaseInstall}
\textbf{Description:} Corrects the settings for Ubuntu after the base packages are installed.\\
\textbf{Parameter:}
\begin{itemize}
\item release: Name of the Ubuntu release.
\end{itemize}

\subsection{CLCFG\_listUbuntuReleases}
\textbf{Description:} generates a selection of the different Ubuntu releases (breezy, hoary, warty)\\
\textbf{Parameter:}
\begin{itemize}
\item selName: the name of the selection
\item first: the release to show first
\end{itemize}

\subsection{CLCFG\_updateDebootstrapScriptsUbuntu}
\textbf{Description:} Updates the debootstrap scripts for Ubuntu and returns the www path to the files\\

\subsection{CLIENT\_enableLDAP}
\textbf{Description:} enables LDAP login for a client.\\
\textbf{Parameter:}
\begin{itemize}
\item clientOptions: the client's options array
\end{itemize}

\newpage\section{./inc/distr/ubuntu/packages.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: Debian/Ubuntu specific package handling functions.\\

\subsection{PKG\_updatePackageSearchCacheFile}
\textbf{Description:} Updates the compressed package search file.\\
\textbf{Parameter:}
\begin{itemize}
\item packagesource: Name of the package sources list.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Full path to the log file.
\end{itemize}

\subsection{PKG\_getSearchCacheFileName}
\textbf{Description:} Returns the full path to the compressed package search file.\\
\textbf{Parameter:}
\begin{itemize}
\item dir: Directory where the package information is stored.
\item arch: Architecture for the packages in the search file.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Full path to the compressed package search file.
\end{itemize}

\subsection{PKG\_genPackageSearchCacheFileCMD}
\textbf{Description:} Generates commands to create a compressed package search file.\\
\textbf{Parameter:}
\begin{itemize}
\item dir: Directory where the package information is stored.
\item arch: Architecture for the packages in the search file.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item BASH commands for creating a compressed package search file.
\end{itemize}

\subsection{PKG\_searchPackageSearchCacheFileCMD}
\textbf{Description:} Generates BASH commands to search a compressed package search file.\\
\textbf{Parameter:}
\begin{itemize}
\item dir: Directory where the package information is stored.
\item arch: Architecture for the packages in the search file.
\item search: Search terms.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item BASH commands to search a compressed package search file.
\end{itemize}

\subsection{PKG\_ncTarDebsFromClientToServer\_Client}
\textbf{Description:} Client to send the Debian packages to the m23 client.\\

\subsection{PKG\_ncTarDebsFromClientToServer\_Server}
\textbf{Description:} Starts a server to receive the Debian packages from an m23 client.\\
\textbf{Parameter:}
\begin{itemize}
\item poolDir: The directory on the server to store the Debian packages.
\end{itemize}

\subsection{PKG\_rsyncDebsFromClientToServer}
\textbf{Description:} Copies all the Debian packages from a client to a given directory on the server via rsync.\\
\textbf{Parameter:}
\begin{itemize}
\item clientIP: The IP of the client.
\item poolDir: The directory on the server to store the Debian packages.
\end{itemize}

\subsection{PKG\_preparePool}
\textbf{Description:} Generates the needed configuration file for reprepro.\\
\textbf{Parameter:}
\begin{itemize}
\item release: Release of the pool.
\item distr: Distribution of the pool.
\item arch: Architecture of the pool (POOL\_ARCH\_I386 or CPoolLister::POOL\_ARCH\_AMD64).
\item poolName: Name of the pool (if a pool with the given name exists =$>$ load)
\item poolDir: Directory of the pool with full path.
\end{itemize}

\subsection{PKG\_convertPackagesToRepository}
\textbf{Description:} Generates commands for creating a package source from packages stored in one directory.\\
\textbf{Parameter:}
\begin{itemize}
\item poolDir: Complete path to the directory that stores the pool.
\item logFile: File (with full path) to store the pool generation log in.
\item poolName: Name of the pool.
\item sourceslist: Variable to store the sources list in.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Commands for creating a package source from packages stored in one directory.
\end{itemize}

\subsection{PKG\_fastGetInstalledPackages}
\textbf{Description:} Gets a list of all installed packages (faster than dpkg --get-selections).\\
\textbf{Parameter:}
\begin{itemize}
\item storeFile: File name to store the list of installed on the client or empty if the list should be outputted to stdout.
\end{itemize}

\subsection{PKG\_fastGetNewInstalledPackages}
\textbf{Description:} Gets new installed packages by comparing status files (before and after the installation).\\
\textbf{Parameter:}
\begin{itemize}
\item oldStatusFile: File with the list of all installed packages before the installation of the new packages
\item newStatusFile: File with the list of all installed packages after the installation of the new packages
\item storeFile: File name to store the list of new installed on the client.
\end{itemize}

\subsection{PKG\_searchFor}
\textbf{Description:} searches for a package and returnes a file descriptor\\
\textbf{Parameter:}
\begin{itemize}
\item key: search key
\item distr: the distribution name
\item packagesource: name of the package source
\item arch: Array of architectures to get package infos for.
\end{itemize}

\subsection{PKG\_getDescription}
\textbf{Description:} gets the description of a package\\
\textbf{Parameter:}
\begin{itemize}
\item line: line containing package name and description
\end{itemize}

\subsection{PKG\_getPackageName}
\textbf{Description:} gets the name of a package\\
\textbf{Parameter:}
\begin{itemize}
\item line: line containing package name and description
\end{itemize}

\subsection{PKG\_getLongPackageDescription}
\textbf{Description:} Gets the description of a package.\\
\textbf{Parameter:}
\begin{itemize}
\item package: Name of the package.
\item distr: the distribution name
\item packagesource: name of the package source
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Description of the package.
\end{itemize}

\subsection{PKG\_getPackageDescriptionSize}
\textbf{Description:} Returnes the description and size of a package\\
\textbf{Parameter:}
\begin{itemize}
\item distr: the name of the distribution
\item packagesource: the name of the package source list
\item package: name if the package
\end{itemize}

\subsection{PKG\_printStatus}
\textbf{Description:} prints the package status, e.g. amount of packages,...\\
\textbf{Parameter:}
\begin{itemize}
\item distr: the name of the distribution
\item packagesource: the name of the package source list
\end{itemize}

\subsection{PKG\_listPackages}
\textbf{Description:} list packages matching the key\\
\textbf{Parameter:}
\begin{itemize}
\item key: search key
\item distr: the distribution name
\item packagesource: name of the package source
\item client: Name of the client the packages are searched for. (Not used here and only for halfSister)
\item completeDescription: If set to true, the full package description and sizes are fetched (time consuming)
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : Amount of found packages.
\end{itemize}

\subsection{PKG\_getAptArchOptions}
\textbf{Description:} Generates options to specify the architecture of a client that can be appended to an apt-get line.\\
\textbf{Parameter:}
\begin{itemize}
\item arch: Architecture to get package infos for.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : Parameter for architecture specific apt-get commands, if architecture is not i386.
\end{itemize}

\subsection{PKG\_addAPTConfigFiles}
\textbf{Description:} Creates the config files for the package manager on the m23 server.\\
\textbf{Parameter:}
\begin{itemize}
\item sourceName: The name of the package source list
\item dir: The directory on the m23 server where the config files should be created.
\end{itemize}

\subsection{PKG\_preparePackageDir}
\textbf{Description:} creates the needed files + sources list in a directory to use it for "local apt".\\
\textbf{Parameter:}
\begin{itemize}
\item dir: the directory to prepare
\item packagesource: sources list
\item logFile: Name of the file the messages from apt-get should be written to.
\item returnCmd: Set to true, if the apt command should be returned or to false to execute it in this function.
\item arch: Architecture to get package infos for.
\item sourceName: The name of the package source list
\item hardTryUpdate: Set to true, if the apt-get update should be run until it succeeds
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : Error text on error or empty string on success.
\end{itemize}

\subsection{PKG\_updatePackageInfo}
\textbf{Description:} Updates the package information to make it searchable.\\
\textbf{Parameter:}
\begin{itemize}
\item distr: the distribution name
\item packagesource: name of the package source
\item force: set to true if you want to update the package info and the time is not over
\item arch: Architecture to get package infos for.
\item changeTime: Writes the time when the status file was last modified to.
\end{itemize}

\subsection{PKG\_previewInstall}
\textbf{Description:} shows what happens if packages get installed\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client
\item distr: the distribution name
\item packagesource: name of the package source
\item packages: the packages to be installed
\item aptCommand: sets the apt-get command: install, remove
\end{itemize}

\subsection{PKG\_getKernels}
\textbf{Description:} Generates an associative array with the available kernels for an architecture and distribution as keys and values, where kernels containing the term 'generic' are at the front.\\
\textbf{Parameter:}
\begin{itemize}
\item distr: the distribution name
\item packagesource: name of the package source
\item arch: Architecture to get package infos for.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Associative array with the available kernels for an architecture and distribution as keys and values with kernels containing the term 'generic' at the front, sorted by length and then by alphabet.
\end{itemize}

\subsection{PKG\_downloadPool}
\textbf{Description:} Generates commands to download packages from a sources list to a directory.\\
\textbf{Parameter:}
\begin{itemize}
\item destDir: the directory the packages should be downloaded to
\item sourceslist: package source list
\item packagesArr: array of the lists that contain packages to download (seperated by blanks)
\item arch: CPU architecture to download the packages for.
\item release: Select the Debian/Ubuntu suite (squeeze, sarge, sid, precise).
\end{itemize}

\subsection{PKG\_getDebootStrapBasePackages}
\textbf{Description:} Returns the list of base packages that are downloaded by debootstrap for a special release.\\
\textbf{Parameter:}
\begin{itemize}
\item release: release name of the distribution version (e.g. sarge)
\end{itemize}

\newpage\section{./inc/edit.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: routines for editing files with sed\\

\subsection{EDIT\_sedSearchAddInsert}
\textbf{Description:} Generates a sed command line to insert text before (SED\_insertBefore) or after (SED\_insertAfter) a searched line.\\
\textbf{Parameter:}
\begin{itemize}
\item file: Name of the file to edit.
\item search: Search pattern to find the line for inserting before or after.
\item text: The text to insert.
\item insertBeforeOrAfter: Parameter to select, if the new text should inserted before (SED\_insertBefore) or after (SED\_insertAfter) the found line
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item sed code for inserting text before (SED\_insertBefore) or after (SED\_insertAfter) a searched line.
\end{itemize}

\subsection{EDIT\_writeToFile}
\textbf{Description:} Writes a text to a file on a client.\\
\textbf{Parameter:}
\begin{itemize}
\item file: Name of the file.
\item text: The text to insert.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Code for writing a text to a file on a client.
\end{itemize}

\subsection{EDIT\_setOption}
\textbf{Description:} Changes an option in a configuration file to a given value.\\
\textbf{Parameter:}
\begin{itemize}
\item file: Name of the file to change.
\item option: Name of the option to change.
\item value: Value to set.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item sed code to change the option in the file to the value.
\end{itemize}

\subsection{EDIT\_genClientm23Random}
\textbf{Description:} Generates BASH code to calculate a client-side random MD5 hash that is stored in the variable \$m23Random.\\
\textbf{Returns:}
\begin{itemize}
\item BASH code to generate a random MD5 hash on client-side that is store
\end{itemize}

\subsection{EDIT\_commentoutInsert}
\textbf{Description:} Comments out a matched line and inserts a new line after it.\\
\textbf{Parameter:}
\begin{itemize}
\item file: the name of the file
\item search: Search string to match the line to comment out.
\item lineToInsert: The text of the line to insert.
\item commentStr: string to comment out (e.g. "\#" for BASH or "//" for C/C++ style)
\end{itemize}

\subsection{EDIT\_commentoutAll}
\textbf{Description:} Comments out all matching lines.\\
\textbf{Parameter:}
\begin{itemize}
\item file: the name of the file
\item search: Search string to match the line to comment out.
\item commentStr: string to comment out (e.g. "\#" for BASH or "//" for C/C++ style)
\end{itemize}

\subsection{EDIT\_countMatches}
\textbf{Description:} Generates BASH code that counts how many times the search string can be found in the file. This can be used in ` `.\\
\textbf{Parameter:}
\begin{itemize}
\item file: file name
\item search: search text
\end{itemize}

\subsection{EDIT\_calc}
\textbf{Description:} calculates changes of the variable\\
\textbf{Parameter:}
\begin{itemize}
\item var: name of the BASH variable (e.g. \$nr)
\item calc: calculation that should be done with the var (e.g. incrementation: "+ 1")
\end{itemize}

\subsection{EDIT\_uncomment}
\textbf{Description:} uncomments all with m23 commented lines of a file\\
\textbf{Parameter:}
\begin{itemize}
\item file: the name of the file
\end{itemize}

\subsection{EDIT\_commentout}
\textbf{Description:} comments out lines in range or matching lines\\
\textbf{Parameter:}
\begin{itemize}
\item file: the name of the file
\item from: start commenting out from this line
\item to: stop commenting out at this line
\item commentStr: string to comment out (e.g. "\#" for BASH or "//" for C/C++ style)
\item match: 
\end{itemize}

\subsection{EDIT\_insertAfterLineNumber}
\textbf{Description:} inserts a text AFTER a line number\\
\textbf{Parameter:}
\begin{itemize}
\item file: the name of the file
\item lineNumber: reference line number for inserting
\item insertText: text to insert
\item addIfNotExists: set to true, if the the line should be added only if the line doesn't exist. false, if the line should be added on every execution.
\end{itemize}

\subsection{EDIT\_insertAtLineNumber}
\textbf{Description:} inserts a text AT a line number\\
\textbf{Parameter:}
\begin{itemize}
\item file: the name of the file
\item lineNumber: reference line number for inserting
\item insertText: text to insert
\item addIfNotExists: set to true, if the the line should be added only if the line doesn't exist. false, if the line should be added on every execution.
\end{itemize}

\subsection{EDIT\_insertLineNumber}
\textbf{Description:} inserts a text AT or AFTER a line number\\
\textbf{Parameter:}
\begin{itemize}
\item file: the name of the file
\item lineNumber: reference line number for inserting
\item insertText: text to insert
\item insertMode: "0" insert AT, "1" insert AFTER line number
\item addIfNotExists: set to true, if the the line should be added only if the line doesn't exist. false, if the line should be added on every execution.
\end{itemize}

\subsection{EDIT\_searchLineNumber}
\textbf{Description:} searches for the first line that contains "searchLine" and stores the line number in the BASH variable "m23searchLine"\\
\textbf{Parameter:}
\begin{itemize}
\item file: the name of the file
\item searchLine: line to search
\item startFrom: the line number to start searching from
\end{itemize}

\subsection{EDIT\_searchLastLineNumber}
\textbf{Description:} searches for the last line that contains "searchLine" and stores the line number in the BASH variable "m23searchLine"\\
\textbf{Parameter:}
\begin{itemize}
\item file: the name of the file
\item searchLine: line to search
\end{itemize}

\subsection{EDIT\_searchNextLineNumber}
\textbf{Description:} searches for the next line number that contains "searchLine"\\
\textbf{Parameter:}
\begin{itemize}
\item file: the name of the file
\item searchLine: line to search
\end{itemize}

\subsection{EDIT\_replace}
\textbf{Description:} replaces \$searchLine with \$replaceText\\
\textbf{Parameter:}
\begin{itemize}
\item file: the name of the file
\item searchLine: line to search
\item repaceText: text to replace with
\item mode: can be "g" to replace all matching lines. Any other value will only replace the first occurrence.
\end{itemize}

\subsection{EDIT\_prepareStr}
\textbf{Description:} changes the string to make it compatible with sed\\
\textbf{Parameter:}
\begin{itemize}
\item str: string that should be changed. the string is read and written from/to this variable
\item forSearch: set to true, if the string should be used as a search string
\end{itemize}

\subsection{EDIT\_savePerms}
\textbf{Description:} saves the permissions and owner of a file\\
\textbf{Parameter:}
\begin{itemize}
\item file: the name to the file
\end{itemize}

\subsection{EDIT\_restorePerms}
\textbf{Description:} restores previously saved file permissions and owner\\

\subsection{EDIT\_deleteLines}
\textbf{Description:} Deletes lines from a given line number to a given line number\\
\textbf{Parameter:}
\begin{itemize}
\item file: the name to the file
\item from: start deleting at this line number
\item to: end deleting at this line number
\end{itemize}

\subsection{EDIT\_deleteLinesAmount}
\textbf{Description:} Deletes N lines from a given line number\\
\textbf{Parameter:}
\begin{itemize}
\item file: the name to the file
\item from: start deleting at this line number
\item amount: the amount of lines to delete
\end{itemize}

\subsection{EDIT\_addIfNotExists}
\textbf{Description:} Adds a new line if the search pattern cannot be found.\\
\textbf{Parameter:}
\begin{itemize}
\item file: the name to the file
\item search: regular expression to search
\item add: line to add
\end{itemize}

\subsection{EDIT\_deleteMatching}
\textbf{Description:} Deletes all lines matching the regular expression\\
\textbf{Parameter:}
\begin{itemize}
\item file: the name to the file
\item search: regular expression to search
\end{itemize}

\subsection{EDIT\_replaceLineElseAdd}
\textbf{Description:} Deletes all lines, that match regular expression, afterwards adds a given line\\
\textbf{Parameter:}
\begin{itemize}
\item file: the name to the file
\item search: regular expression to search
\item replace: line to add
\end{itemize}

\subsection{EDIT\_appendToFile}
\textbf{Description:} Appends a text to a file on a client.\\
\textbf{Parameter:}
\begin{itemize}
\item file: Name of the file.
\item text: The text to append.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Code for appending a text to a file on a client.
\end{itemize}

\newpage\section{./inc/fdisk.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: functions for partition and format of the client. print partition information and do the format itself.\\

\subsection{FDISK\_showFdiskCombinedGUIFunctions}
\textbf{Description:} Shows the menu bar with integrated logic for FDISK\_showCombinedFdiskGUIDialog.\\

\subsection{FDISK\_showCombinedFdiskGUIDialog}
\textbf{Description:} Shows the new partition and formating screen.\\

\subsection{FDISK\_mdToEndOfArray}
\textbf{Description:} Orders all MD devices from the input array to the end of the output array.\\
\textbf{Parameter:}
\begin{itemize}
\item in: Associative array with devices as keys and values (e.g Array ( [/dev/md0] =$>$ /dev/md0 [/dev/sda1] =$>$ /dev/sda1 [/dev/sdb2] =$>$ /dev/sdb2 )).
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Associative array with devices as keys and values where the MDs are at the end (e.g. Array ( [/dev/sda1] =$>$ /dev/sda1 [/dev/sdb2] =$>$ /dev/sdb2 [/dev/md0] =$>$ /dev/md0 )).
\end{itemize}

\subsection{FDISK\_getFstabArray}
\textbf{Description:} Gets the fstab of a client as array.\\
\textbf{Parameter:}
\begin{itemize}
\item client: Name of the client.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Array with the fstab (each line of the fstab as item).
\end{itemize}

\subsection{FDISK\_findFstabMountPointByDev}
\textbf{Description:} Searches a client's fstab for a device and figures out the according mount point.\\
\textbf{Parameter:}
\begin{itemize}
\item fstabA: The fstab as array.
\item dev: The device.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Mount point for the device.
\end{itemize}

\subsection{FDISK\_swapFilesystems}
\textbf{Description:} Returns an array with the filesystems usable for swapping.\\

\subsection{FDISK\_formatInstallAndSwappart}
\textbf{Description:} Adds jobs to format the installation and swap partitions and set the boot flag on the installation partition\\

\subsection{FDISK\_finalChecksAndRealPartitionAndFormatStart}
\textbf{Description:} Does some final checks, starts the partitioning and formating and switches to the distribution selection page.\\

\subsection{FDISK\_installFilesystems}
\textbf{Description:} Returns an array with the filesystems usable for installation.\\

\subsection{FDISK\_getUnusedMDs}
\textbf{Description:} Returns an associative array with the unused MDs (e.g. /dev/md0, /dev/md1, ...) as key and value.\\
\textbf{Parameter:}
\begin{itemize}
\item param: parameter string containing status informations about the harddisks
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Associative array with the unused MDs (e.g. /dev/md0, /dev/md1, ...) as key and value.
\end{itemize}

\subsection{FDISK\_listDrivesAndPartitions2}
\textbf{Description:} Generates and defines a selection that contains all drives and partitions of a given client.\\
\textbf{Parameter:}
\begin{itemize}
\item param: parameter string containing status informations about the harddisks
\item default: the drive to show first
\item selName: the name the selection is called in PHP and HTML
\item pathFilter: Set this to another value than false if you want only devices with a given string in it.
\item filterOutSetRaidLvmLock: If set to true, drives and partitions with set raidLvmLock will not be listed.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item String with the HTML selection.
\end{itemize}

\subsection{FDISK\_printAllBars2}
\textbf{Description:} Shows the partition bars of all drives specified for the current client, that is stored in the session.\\

\subsection{FDISK\_showAllPartTables}
\textbf{Description:} Shows the partition tables of all drives specified for the current client, that is stored in the session.\\

\subsection{FDISK\_fdiskSessionPartJobs}
\textbf{Description:} Stores the partition jobs in the session.\\
\textbf{Parameter:}
\begin{itemize}
\item newJobs: The new partition jobs to set or false for not changing.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The current partition jobs.
\end{itemize}

\subsection{FDISK\_fdiskSessionInstPart}
\textbf{Description:} Stores the installation partition in the session.\\
\textbf{Parameter:}
\begin{itemize}
\item newInstPart: The new installation partition to set or false for not changing.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The current installation partition.
\end{itemize}

\subsection{FDISK\_fdiskSessionSwapPart}
\textbf{Description:} Stores the swap partition in the session.\\
\textbf{Parameter:}
\begin{itemize}
\item newSwapPart: The new swap partition to set or false for not changing.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The current swap partition.
\end{itemize}

\subsection{FDISK\_fdiskSessionSetter}
\textbf{Description:} Generic function to store values in the client partition and format session.\\
\textbf{Parameter:}
\begin{itemize}
\item newVal: The value to set or false for not changing.
\item varName: The name the value should be stored under in the client partition and format session.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The current value.
\end{itemize}

\subsection{FDISK\_fdiskSessionClient}
\textbf{Description:} Returns the client name to partition and format.\\
\textbf{Returns:}
\begin{itemize}
\item The client name to partition and format.
\end{itemize}

\subsection{FDISK\_fdiskSessionParam}
\textbf{Description:} Stores the partition parameters in the session.\\
\textbf{Parameter:}
\begin{itemize}
\item newParam: The new partition parameters to set or false for not changing.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The current partition parameters.
\end{itemize}

\subsection{FDISK\_fdiskSessionInstallDrive}
\textbf{Description:} Stores the installation drive in the session.\\
\textbf{Parameter:}
\begin{itemize}
\item newDrive: The new installation drive to set or false for not changing.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The current installation drive.
\end{itemize}

\subsection{FDISK\_fdiskSessionvDevInstall}
\textbf{Description:} Stores the internal virtual installation drive number in the session.\\
\textbf{Parameter:}
\begin{itemize}
\item newDrive: The new internal virtual installation drive number to set or false for not changing.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The current internal virtual installation drive number.
\end{itemize}

\subsection{FDISK\_fdiskSessionFreeSpaces}
\textbf{Description:} Stores the free space parts of the installation drive in the session or recalculates them for the current installation drive.\\
\textbf{Parameter:}
\begin{itemize}
\item newSpaces: The new free spaces to set or false for not changing.
\item reset: Re-calculate the free spaces, if set to true.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The current free spaces.
\end{itemize}

\subsection{FDISK\_fdiskSessionReset}
\textbf{Description:} Sets back all session variables (client name optionally) for partitioning and formating a client.\\
\textbf{Parameter:}
\begin{itemize}
\item resetClientName: If set to true, the name of the client will be deleted too (and re-set by FDISK\_fdiskSessionClient).
\end{itemize}

\subsection{FDISK\_fdiskSessionPartMethod}
\textbf{Description:} Stores the partitioning method in the session.\\
\textbf{Parameter:}
\begin{itemize}
\item newMethod: The new method to set or false for not changing.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The current partitioning method.
\end{itemize}

\subsection{FDISK\_fdiskSessionPage}
\textbf{Description:} Stores the page in the session.\\
\textbf{Parameter:}
\begin{itemize}
\item newPage: The new page to set or false for not changing.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The current page.
\end{itemize}

\subsection{FDISK\_fdiskSessionHelpPage}
\textbf{Description:} Stores the help page in the session.\\
\textbf{Parameter:}
\begin{itemize}
\item newPage: The new help page to set or false for not changing.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The current help page.
\end{itemize}

\subsection{FDISK\_fdiskSessionTitle}
\textbf{Description:} Stores the partitioning title in the session.\\
\textbf{Parameter:}
\begin{itemize}
\item newTitle: The new title to set or false for not changing.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The current partitioning title.
\end{itemize}

\subsection{FDISK\_fdiskSessionFstab}
\textbf{Description:} Stores the fstab in the session.\\
\textbf{Parameter:}
\begin{itemize}
\item newFstab: The new fstab to set or false for not changing.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The current fstab.
\end{itemize}

\subsection{FDISK\_getPartitionByType}
\textbf{Description:} Gets the FIRST partition matching a partition type.\\
\textbf{Parameter:}
\begin{itemize}
\item param: parameter string containing status informations about the harddisks
\item vDev: Virtual (internally used) device number.
\item type: type of the partition (primary, extended, logical)
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Virtual partition number of the FIRST partition matching a partition type or false, if no partition was found.
\end{itemize}

\subsection{FDISK\_getDrivesAndPartitions}
\textbf{Description:} Generates an array that contains all drives and partitions of a given client.\\
\textbf{Parameter:}
\begin{itemize}
\item param: parameter string containing status informations about the harddisks
\item pathFilter: Set this to another value than false if you want only devices with a given string in it. If you add an "!" the beginning all is given out that doesn't contains the filter string (without the "!").
\item addSizesAndTypes: If set to true, the array will contain the sizes, filesystems and types of the partitions and drives.
\item filterOutSetRaidLvmLock: If set to true, drives and partitions with set raidLvmLock will not be listed.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Array with drives and partitions and (optionally) their sizes, filesystems and types.
\end{itemize}

\subsection{FDISK\_listDrivesAndPartitions}
\textbf{Description:} Generates a selection that contains all drives and partitions of a given client.\\
\textbf{Parameter:}
\begin{itemize}
\item param: parameter string containing status informations about the harddisks
\item default: the drive to show first
\item selName: the name the selection is called in PHP and HTML
\item pathFilter: Set this to another value than false if you want only devices with a given string in it.
\item partitionsOnly: Set to true, if only partitions should be listed.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item String with the HTML selection.
\end{itemize}

\subsection{FDISK\_selectDrives}
\textbf{Description:} creates a selection list of all drives\\
\textbf{Parameter:}
\begin{itemize}
\item param: parameter string containing status informations about the harddisks
\item selName: the name the selection is called in PHP and HTML
\item first: the drive to show first
\end{itemize}

\subsection{FDISK\_printAllBars}
\textbf{Description:} showes the partitions bars of all available drives\\
\textbf{Parameter:}
\begin{itemize}
\item param: parameter string containing status informations about the harddisks
\item fstabA: Associative array with fstab information
\end{itemize}

\subsection{FDISK\_getFirstDrive}
\textbf{Description:} return the first drive as installation drive\\
\textbf{Parameter:}
\begin{itemize}
\item param: parameter string containing status informations about the harddisks
\end{itemize}

\subsection{FDISK\_formatPart}
\textbf{Description:} formats a partition\\
\textbf{Parameter:}
\begin{itemize}
\item param: parameter string containing status informations about the harddisks
\item dev: partition to format (e.g. /dev/hda1)
\item type: type of filesystem
\item partJobs: parted commands
\end{itemize}

\subsection{FDISK\_getBiggestValueOf}
\textbf{Description:} gets the biggest value from a special type of partition\\
\textbf{Parameter:}
\begin{itemize}
\item param: parameter string containing status informations about the harddisks
\item dev: selected device (e.g. hda)
\item partType: type of the partition (logical, primary, extended)
\item varType: define part of the key for the associative array (e.g. "type" means \$param["dev\$vDev"."part\$vPart"."\_type"])
\end{itemize}

\subsection{FDISK\_devNrExists}
\textbf{Description:} checks if a certain device number exists\\
\textbf{Parameter:}
\begin{itemize}
\item param: parameter string containing status informations about the harddisks
\item vDev: Virtual (internally used) device number.
\item devNr: device numer you want to check
\end{itemize}

\subsection{FDISK\_nextLogicalDevNr}
\textbf{Description:} gets the next free logical device number\\
\textbf{Parameter:}
\begin{itemize}
\item param: parameter string containing status informations about the harddisks
\item vDev: Virtual (internally used) device number.
\end{itemize}

\subsection{FDISK\_nextPrimaryDevNr}
\textbf{Description:} gets the next free primary device number\\
\textbf{Parameter:}
\begin{itemize}
\item param: parameter string containing status informations about the harddisks
\item vDev: Virtual (internally used) device number.
\end{itemize}

\subsection{FDISK\_correctLogical}
\textbf{Description:} corrects the order of the logical partitions after deleting \$devNr.\\
\textbf{Parameter:}
\begin{itemize}
\item param: parameter string containing status informations about the harddisks
\item vDev: Virtual (internally used) device number.
\item devNr: the real device number to delete
\end{itemize}

\subsection{FDISK\_findDevNrPosition}
\textbf{Description:} returns the device position for the new device\\
\textbf{Parameter:}
\begin{itemize}
\item start: start position for the search
\item end: end position for the search
\item param: parameter string containing status informations about the harddisks
\item vDev: Virtual (internally used) device number.
\item newPartNr: stores the new device number
\item type: type of the new partition
\end{itemize}

\subsection{FDISK\_partCreationSelect}
\textbf{Description:} retunes a selection for selecting a partition type to create.\\
\textbf{Parameter:}
\begin{itemize}
\item param: parameter string containing status informations about the harddisks
\item vDev: Virtual (internally used) device number.
\end{itemize}

\subsection{FDISK\_canPartTypeBeCreated}
\textbf{Description:} checks if a partition from a certain type can be created\\
\textbf{Parameter:}
\begin{itemize}
\item param: parameter string containing status informations about the harddisks
\item vDev: Virtual (internally used) device number.
\item type: type of the partition (primary, extended, logical)
\end{itemize}

\subsection{FDISK\_checkFreeSpace}
\textbf{Description:} checks if there is a free space between \$start and \$end\\
\textbf{Parameter:}
\begin{itemize}
\item param: parameter string containing status informations about the harddisks
\item vDev: Virtual (internally used) device number.
\item type: type of the partition (primary, extended, logical)
\item start: start position for the search
\item end: end position for the search
\item freeSpaces: array of the free space information
\end{itemize}

\subsection{FDISK\_installExistingDialog}
\textbf{Description:} showes the dialog for installation on existing partitions\\
\textbf{Parameter:}
\begin{itemize}
\item param: parameter string containing status informations about the harddisks
\end{itemize}

\subsection{FDISK\_addFstab}
\textbf{Description:} Adds a new entry to the fstab that is stored in the param array.\\
\textbf{Parameter:}
\begin{itemize}
\item fstab: Array that contains the fstab information. The changed fstab will be written to this parameter too.
\item dev: Device to mount (e.g. /dev/hda1)
\item mountpoint: Location where to mount the device (e.g. /mnt/hda1)
\end{itemize}

\subsection{FDISK\_delFstab}
\textbf{Description:} Removes an entry from the fstab array.\\
\textbf{Parameter:}
\begin{itemize}
\item fstab: Array that contains the fstab information. The changed fstab will be written to this parameter too.
\item fstabNr: Number of the fstab entry to delete.
\end{itemize}

\subsection{FDISK\_listFstab}
\textbf{Description:} Generates a HTML table with all defined mountpoints.\\
\textbf{Parameter:}
\begin{itemize}
\item param: parameter string containing status informations about the harddisks
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item HTML table with the fstab.
\end{itemize}

\subsection{FDISK\_fstabAddDialog2}
\textbf{Description:} Dialog for adding fstab entries. This version uses the param and fstab parameters from the session.\\

\subsection{FDISK\_fstabAddDialog}
\textbf{Description:} Dialog for adding fstab entries.\\
\textbf{Parameter:}
\begin{itemize}
\item param: parameter string containing status informations about the harddisks
\item fstab: Array that contains the fstab information. The changed fstab will be written to this parameter too.
\end{itemize}

\subsection{FDISK\_adjustFstabParam}
\textbf{Description:} Adjust the parameter block of a fstab line to make it use an supported FS.\\
\textbf{Parameter:}
\begin{itemize}
\item param: The parameter block of a fstab line
\item sourceName: The name of the package source list
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Adjust the parameter block of a fstab line
\end{itemize}

\subsection{FDISK\_genManualFstab}
\textbf{Description:} Generates commands to edit a given fstab, add new entries and remove old ones before.\\
\textbf{Parameter:}
\begin{itemize}
\item param: parameter string containing status informations about the harddisks
\item mntPrefix: Prefix to set before the mountpoint (e.g. /mnt/m23root/)
\end{itemize}

\subsection{FDISK\_getBelongingRaidDev}
\textbf{Description:} Searches for the RAID device, a physical partition belongs to, if it is part of a RAID.\\
\textbf{Parameter:}
\begin{itemize}
\item dev: The physical partition (e.g. /dev/hda4) that belongs to a RAID.
\item param: parameter string containing status informations about the harddisks
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The RAID device (e.g. /dev/md0) the physical partition belongs to or false, if no belonging RAID was found.
\end{itemize}

\subsection{FDISK\_delPart}
\textbf{Description:} deletes a partition from the param string and generates the parted commands\\
\textbf{Parameter:}
\begin{itemize}
\item dev: the partition to delete (e.g. /dev/hda4)
\item param: parameter string containing status informations about the harddisks
\item partJobs: parted commands
\item deleteBelongingRaid: If set to true, the RAID, the partition belongs to will be destroyed.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Changed param string.
\end{itemize}

\subsection{FDISK\_addPart}
\textbf{Description:} adds a partition to the param string and generates the parted commands\\
\textbf{Parameter:}
\begin{itemize}
\item param: parameter string containing status informations about the harddisks
\item partJobs: parted commands
\item vDev: virtuell internal used device number.
\item start: start position for the search
\item end: end position for the search
\item type: type of the partition (primary, extended, logical)
\item freeSpaces: array of the free space information
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : Changed param string.
\end{itemize}

\subsection{FDISK\_listPartitions}
\textbf{Description:} lists the partitions (/dev/hda1, /dev/hda2, ...) of a device and generates a selection\\
\textbf{Parameter:}
\begin{itemize}
\item param: parameter string containing status informations about the harddisks
\item vDev: Virtual (internally used) device number or -1, if all partitions on all devices should be listed.
\item selName: name of the selection
\item excludeType: type of partitions, not to show in the selection
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item HTML code for the selection.
\end{itemize}

\subsection{FDISK\_definePartitionSelection}
\textbf{Description:} Defines a HTML selection with the partitions (/dev/hda1, /dev/hda2, ...) of a device\\
\textbf{Parameter:}
\begin{itemize}
\item param: parameter string containing status informations about the harddisks
\item vDev: Virtual (internally used) device number or -1, if all partitions on all devices should be listed.
\item selName: name of the selection
\item excludeType: type of partitions, not to show in the selection
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The selected partition.
\end{itemize}

\subsection{FDISK\_getPartitionsFromParam}
\textbf{Description:} Returns an array with the partitions (/dev/hda1, /dev/hda2, ...) of a device\\
\textbf{Parameter:}
\begin{itemize}
\item param: parameter string containing status informations about the harddisks
\item vDev: Virtual (internally used) device number or -1, if all partitions on all devices should be listed.
\item selName: name of the selection
\item excludeType: type of partitions, not to show in the selection
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Selected partition.
\end{itemize}

\subsection{FDISK\_getAllDrives}
\textbf{Description:} gets all drives of the client\\
\textbf{Parameter:}
\begin{itemize}
\item partitions: associative array containing status information about the harddisks
\end{itemize}

\subsection{FDISK\_colorFS}
\textbf{Description:} get color for a selected filesystem\\
\textbf{Parameter:}
\begin{itemize}
\item fsName: name of the file system: ext3, ext2, linux-swap,...
\end{itemize}

\subsection{FDISK\_getPartitionPercent}
\textbf{Description:} calculates the percent of a selected partition\\
\textbf{Parameter:}
\begin{itemize}
\item param: parameter string containing status informations about the harddisks
\item vDev: Virtual (internally used) device number.
\item vPart: Virtual (internally used) partition number. This is normally another number than the physical number (e.g. 1 on /dev/hda1)
\end{itemize}

\subsection{FDISK\_getAfterPartition}
\textbf{Description:} calculates ??? of free size after a selected partition\\
\textbf{Parameter:}
\begin{itemize}
\item param: parameter string containing status informations about the harddisks
\item vDev: Virtual (internally used) device number.
\item vPart: Virtual (internally used) partition number. This is normally another number than the physical number (e.g. 1 on /dev/hda1)
\item factor: the factor to multiplay percent amount of free space
\end{itemize}

\subsection{FDISK\_getBeforeFristPartition}
\textbf{Description:} gets the free space before the first partition\\
\textbf{Parameter:}
\begin{itemize}
\item param: parameter string containing status informations about the harddisks
\item vDev: virtual device number to access the drive
\item factor: the factor to multiplay percent amount of free space
\end{itemize}

\subsection{FDISK\_getPartitions}
\textbf{Description:} get the partition info for the client from db\\
\textbf{Parameter:}
\begin{itemize}
\item client: name of the client
\end{itemize}

\subsection{FDISK\_getPartInfoString}
\textbf{Description:} Generates an info string, that shows information about the device name of the partition, its filesystem and bolonging to a RAID.\\
\textbf{Parameter:}
\begin{itemize}
\item vDev: Virtual (internally used) device number.
\item vPart: Virtual (internally used) partition number. This is normally another number than the physical number (e.g. 1 on /dev/hda1)
\item param: parameter string containing status informations about the harddisks
\item fstabA: Associative array with fstab information.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Info string.
\end{itemize}

\subsection{FDISK\_getDriveInfoString}
\textbf{Description:} Generates an info string, that shows information about the device name of the drive and bolonging to a RAID.\\
\textbf{Parameter:}
\begin{itemize}
\item vDev: Virtual (internally used) device number.
\item param: parameter string containing status informations about the harddisks
\item fstabA: Associative array with fstab information.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Info string.
\end{itemize}

\subsection{FDISK\_getDriveInfoIcon}
\textbf{Description:} Generates HTML code for showing an icon with status information about a drive.\\
\textbf{Parameter:}
\begin{itemize}
\item vDev: Virtual (internally used) device number.
\item param: parameter string containing status informations about the harddisks
\item fstabA: Associative array with fstab information.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item HTML code for showing an icon with status information about the drive.
\end{itemize}

\subsection{FDISK\_getPartInfoIcon}
\textbf{Description:} Generates HTML code for showing an icon with status information about a drive or partition.\\
\textbf{Parameter:}
\begin{itemize}
\item vDev: Virtual (internally used) device number.
\item vPart: Virtual (internally used) partition number. This is normally another number than the physical number (e.g. 1 on /dev/hda1) and if set to false, the icon and the status information will be generated for a drive and not for a partition.
\item param: parameter string containing status informations about the harddisks
\item fstabA: Associative array with fstab information.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item HTML code for showing an icon with status information about the drive or partition.
\end{itemize}

\subsection{FDISK\_printBars}
\textbf{Description:} prints the partitions as colored table\\
\textbf{Parameter:}
\begin{itemize}
\item param: parameter string containing status informations about the harddisks
\item dev: selected device (e.g. /dev/hda)
\item addJavaScript: Set to true to add JavaScript code that calls the JS function emptySpace(), if empty parts of the drive are clicked, selectPartition(), if a partition is clicked and showPartTable(), if the mouse is over the bar.
\item fstabA: Associative array with fstab information.
\end{itemize}

\subsection{FDISK\_getSupportedFS}
\textbf{Description:} Generates and returns an array with the list of supported file systems.\\
\textbf{Returns:}
\begin{itemize}
\item Array with the list of supported file systems.
\end{itemize}

\subsection{FDISK\_listSupportedFS}
\textbf{Description:} lists all supported fileSystems for the menu.\\
\textbf{Parameter:}
\begin{itemize}
\item selName: name the selection list, used for the html form
\item showFirst: name of file system shown first
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The currently choosen file system.
\end{itemize}

\subsection{FDISK\_deletePartitionFromParam}
\textbf{Description:} Deletes all partition parameters of a partition from param without correcting the other partitions.\\
\textbf{Parameter:}
\begin{itemize}
\item vDev: Virtual (internally used) device number.
\item vPart: Virtual (internally used) partition number. This is normally another number than the physical number (e.g. 1 on /dev/hda1)
\item param: parameter string containing status informations about the harddisks.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Changed param without the partition.
\end{itemize}

\subsection{FDISK\_virtualDeletePartition}
\textbf{Description:} deletes partition from param assigned thru \$vDev and \$vPart.\\
\textbf{Parameter:}
\begin{itemize}
\item vDev: Virtual (internally used) device number.
\item devNr: device number of the real device
\item param: parameter string containing status informations about the harddisks
\end{itemize}

\subsection{FDISK\_virtualAddPartition}
\textbf{Description:} adds a partition to the param param\\
\textbf{Parameter:}
\begin{itemize}
\item vDev: virtuell internal used device number.
\item param: parameter string containing status informations about the harddisks
\item start: start MB of the new partition
\item end: end MB of the new partition
\item type: type of the partition (primary, extended, logical)
\item devNr: returnes the device number
\end{itemize}

\subsection{FDISK\_listPartTable}
\textbf{Description:} lists the partition information as table\\
\textbf{Parameter:}
\begin{itemize}
\item vDev: Virtual (internally used) device number.
\item param: parameter string containing status informations about the harddisks
\end{itemize}

\subsection{FDISK\_listInstPartSelector}
\textbf{Description:} lists all partitions to select for swap and install partition\\
\textbf{Parameter:}
\begin{itemize}
\item param: parameter string containing status informations about the harddisks
\item default: partition that should be shown as selected
\item type: array with filesystems that are possible for installation or swap
\item selName: name of the selection
\end{itemize}

\subsection{FDISK\_formatExisting}
\textbf{Parameter:}
\begin{itemize}
\item instPart: partition to put the operation system on (e.g. /dev/hda1)
\item swapPart: partition to put the swap file system on (e.g. /dev/hdb2)
\item command: parted commands to do the installation
\item param: parameter string containing status informations about the harddisks
\end{itemize}

\subsection{FDISK\_getvPart}
\textbf{Description:} returns vPart with the real device number.\\
\textbf{Parameter:}
\begin{itemize}
\item param: parameter string containing status informations about the harddisks
\item dev: selected device (e.g. hda)
\item devNr: number of partition
\end{itemize}

\subsection{FDISK\_rmJob}
\textbf{Description:} generates a partition remove job\\
\textbf{Parameter:}
\begin{itemize}
\item dev: selected device (e.g. hda)
\item devNr: number of partition, minor number in parted
\item partJobs: associative array with partition jobs
\end{itemize}

\subsection{FDISK\_addJob}
\textbf{Description:} generates a partition add job\\
\textbf{Parameter:}
\begin{itemize}
\item path: selected device (e.g. /dev/hda)
\item start: start point fo the partition
\item end: end point fo the partition
\item type: type of the partition (primary, logical)
\item partJobs: associative array with partition jobs
\item fullPath: full path for the partition
\item devNr: number of the device (e.g. 1 with /dev/hda1)
\end{itemize}

\subsection{FDISK\_bootflagJob}
\textbf{Description:} enables the booting flag on a partition\\
\textbf{Parameter:}
\begin{itemize}
\item path: device to activate booting on (e.g. /dev/hda1)
\item devNr: number of partition, minor number in parted
\item partJobs: associative array with partition jobs
\end{itemize}

\subsection{FDISK\_formatJob}
\textbf{Description:} generates a partition format job\\
\textbf{Parameter:}
\begin{itemize}
\item path: device to format (e.g. /dev/hda1)
\item fileSys: file system of the partition: ext3, ext2, linux-swap
\item partJobs: associative array with partition jobs
\end{itemize}

\subsection{FDISK\_countPartitions}
\textbf{Description:} count all partitions of a selected type\\
\textbf{Parameter:}
\begin{itemize}
\item param: parameter string containing status informations about the harddisks
\item vDev: Virtual (internally used) device number.
\item type: type of the partition (primary, extended, logical)
\end{itemize}

\subsection{FDISK\_getFreeSpaces}
\textbf{Description:} get free spaces as array\\
\textbf{Parameter:}
\begin{itemize}
\item param: parameter string containing status informations about the harddisks
\item dev: selected device (e.g. hda)
\end{itemize}

\subsection{FDISK\_autoPart}
\textbf{Description:} generation of param string and command list for automatic partition\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client
\item command: parted commands are written to \$command
\item dev: selected device (e.g. /dev/hda)
\item param: parameter string containing status informations about the harddisks
\item instPart: the variable the installation device name is written to
\item swapPart: the variable the swap device name is written to
\item minSwap: Minimal size of the swap partition in MB.
\item maxSwap: Maximal size of the swap partition in MB.
\end{itemize}

\subsection{FDISK\_printColorDefinitions}
\textbf{Description:} prints the color definitions for the filesystems\\

\subsection{FDISK\_showDiskDefine}
\textbf{Description:} shows a dialog for defining the type and size of the fake drive for the clientBuilder\\
\textbf{Parameter:}
\begin{itemize}
\item client: client name
\end{itemize}

\subsection{FDISK\_defineDrive}
\textbf{Description:} defines drive information for the clientBuilder\\
\textbf{Parameter:}
\begin{itemize}
\item client: client name
\item path: path to the drive (/dev/hda, /dev/hdb, ...)
\item size: size of the drive in MB
\item upperI: upper tolerance border for disks with identical type
\item lowerI: lower tolerance border for disks with identical type
\item upperO: upper tolerance border for disks with other type
\item lowerO: lower tolerance border for disks with other type
\item asSpeciefied: use the speciefied disk, if it exists (is set to "yes" or empty)
\item sizeAdjustmentType: defines how the partitions should be adjusted, if there is more or less space on the client that the defined one. "system" increases or tries to keep the size of the system partition. "percentage" makes a percentage adjustment of all partitions.
\end{itemize}

\subsection{FDISK\_dev2LDevLPart}
\textbf{Description:} searches a special device (e.g. /dev/hda2) and writes the virtual device and partition numbers to the variables. These values can be used to access the file system via \$param["dev\$vDev"."part\$vPart"."\_fs"]\\
\textbf{Parameter:}
\begin{itemize}
\item param: the associative array containing all values describing the drives of the client
\item dev: the device (e.g. /dev/hda2)
\item vDev: the virtual device number, that is used to build the variable name to access the associative array.
\item vPart: the virtual partition number, that is used to build the variable name to access the associative array. This number has not to be qual to the partition number of the real drive (e.g. /dev/hda5 can be \$vPart == 3). If it is set to "empty", only vDev is calculated.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true if the search worked otherwise false.
\end{itemize}

\subsection{FDISK\_rereadPartTable}
\textbf{Description:} Let the OS re-read the partition table.\\
\textbf{Parameter:}
\begin{itemize}
\item path: The device that was changed/created (e.g. /dev/sda5).
\end{itemize}

\subsection{FDISK\_genPartedCommands}
\textbf{Description:} returnes the partition and formation commands that are generated from partJobs.\\
\textbf{Parameter:}
\begin{itemize}
\item partJobs: string with information about all created partition jobs
\item mkfsextOptions: Extra parameter for mkfs.extX .
\end{itemize}

\subsection{FDISK\_listPartJobs}
\textbf{Description:} print all part jobs in the table\\
\textbf{Parameter:}
\begin{itemize}
\item partJobs: string with information about all created partition jobs
\end{itemize}

\subsection{FDISK\_getDiskType}
\textbf{Description:} returnes the type of the drive (DISK\_TYPE\_IDE, DISK\_TYPE\_SCSI)\\
\textbf{Parameter:}
\begin{itemize}
\item path: the path to the device (e.g. /dev/hde)
\end{itemize}

\subsection{FDISK\_getDriveAndNr}
\textbf{Description:} splits a path (e.g. /dev/hda1) in the device (/dev/hda) and the device number (1). The device is returned as element 0 and the number as element 1 in an array.\\
\textbf{Parameter:}
\begin{itemize}
\item path: the path to partition (e.g. /dev/hde1)
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Array with two parts. \$out[0]=drive (e.g. /dev/hda), \$out[1]=the device number
\end{itemize}

\subsection{FDISK\_getNextFdiskFormatJobNr}
\textbf{Description:} returnes the next free job number for the parameters of a m23fdiskFormat job. (e.g. there are used the following parameters: command0 = rm, command1= add. Then the next command number to use will be command2 =$>$ return value is 2)\\
\textbf{Parameter:}
\begin{itemize}
\item fdiskParams: the parameters of the m23fdiskFormat job
\end{itemize}

\subsection{FDISK\_AFPselectDrive}
\textbf{Description:} selects a drive from the settings in "options" and from available drives.\\
\textbf{Parameter:}
\begin{itemize}
\item drives: all drives available on the client
\item options: options array of the client
\end{itemize}

\subsection{FDISK\_AFPlinearScale}
\textbf{Description:} scales all partitions sizes to match the full disk size.\\
\textbf{Parameter:}
\begin{itemize}
\item driveToUse: device to use (e.g. /dev/hda)
\item driveToUseSize: Size of the real drive to use.
\item options: options array of the client
\item command: array that stores the modificated format parameters
\item formatarr: array that contains the original format parameters
\end{itemize}

\subsection{FDISK\_AFPgetPartSizes}
\textbf{Description:} writes the sizes of the installation, swap and other partitions to the variables.\\
\textbf{Parameter:}
\begin{itemize}
\item formatArr: array that contains the oformat parameters
\item options: options array of the client
\item instPartSize: stores the size of the installation partition
\item instSwapSize: stores the size of the swap partition
\item otherSize: stores the size of the other partition(s)
\end{itemize}

\subsection{FDISK\_adjustFdiskParams}
\textbf{Description:} adjusts the installation and swap drive for a derived client, based on the defined client settings\\
\textbf{Parameter:}
\begin{itemize}
\item path: the path to the device (e.g. /dev/hde)
\end{itemize}

\subsection{FDISK\_virtualAddDrive}
\textbf{Description:} Adds a new drive to the param array.\\
\textbf{Parameter:}
\begin{itemize}
\item param: parameter string containing status informations about the harddisks
\item path: Device name of the new drive (e.g. /dev/md0)
\item size: Size in MB of the new drive.
\end{itemize}

\subsection{FDISK\_getDrivePartitionSize}
\textbf{Description:} Calculates the size of a drive or partition.\\
\textbf{Parameter:}
\begin{itemize}
\item vDev: Virtual (internally used) device number.
\item vPart: Virtual (internally used) partition number. This is normally another number than the physical number (e.g. 0 on /dev/hda1)
\item param: parameter string containing status information about the harddisks
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Size of the drive or partition in MB.
\end{itemize}

\subsection{FDISK\_listRaidTable}
\textbf{Description:} Get informations about the assigned real drives/partitions of a RAID.\\
\textbf{Parameter:}
\begin{itemize}
\item raidDev: Device name of the new drive (e.g. /dev/md0)
\item param: parameter string containing status information about the harddisks
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item HTML table with informations about the assigned real drives/partitions.
\end{itemize}

\subsection{FDISK\_addDrivePartitionToRaid}
\textbf{Description:} Adds a drive or partition to a RAID.\\
\textbf{Parameter:}
\begin{itemize}
\item raidDev: Device name of the new drive (e.g. /dev/md0)
\item raidType: RAID level (this can be 0,1,4,5,6,10)
\item partitionDrive: Partition or drive to add (e.g. /dev/hdc)
\item param: parameter string containing status information about the harddisks
\item raidMode: Raid mode (e.g. 1 for RAID-1, 5 for RAID-5)
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true if the RAID has the minimum amount of assigned drives/partitions and otherwise false.
\end{itemize}

\subsection{FDISK\_buildRaidDialog}
\textbf{Description:} Shows a dialog for creating RAIDs of different types and assign real drives or partitions.\\
\textbf{Parameter:}
\begin{itemize}
\item param: parameter string containing status information about the harddisks
\item partJobs: associative array with partition jobs
\item currentDrive: the current drive to work on (e.g. hda)
\item helpPage: Name of the help page to show.
\item partitionDrive: Partition or drive to add (e.g. /dev/hdc)
\item partMethod: partition method (used for the partition/format dialog). The next step will depend on this value.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true if the RAID has the minimum amount of assigned drives/partitions and otherwise false.
\end{itemize}

\subsection{FDISK\_addRaidJobs}
\textbf{Description:} Generates jobs to create all RAIDs\\
\textbf{Parameter:}
\begin{itemize}
\item partJobs: associative array with partition jobs
\item param: parameter string containing status information about the harddisks
\end{itemize}

\subsection{FDISK\_addRaidBeforeFormat}
\textbf{Description:} Generates and places a job to create a RAID on given drives/partitions before the formating of the RAID device.\\
\textbf{Parameter:}
\begin{itemize}
\item raidDev: RAID device (e.g. /dev/md0)
\item devList: Space separated list of devices to create the RAID on top (e.g. /dev/sda1 /dev/hda /dev/sbd5).
\item partJobs: associative array with partition jobs.
\item raidMode: The type of the RAID (0,1,5, ...)
\end{itemize}

\subsection{FDISK\_raidJob}
\textbf{Description:} Generates a job to create a RAID on given drives/partitions.\\
\textbf{Parameter:}
\begin{itemize}
\item raidDev: RAID device (e.g. /dev/md0)
\item devList: Space separated list of devices to create the RAID on top (e.g. /dev/sda1 /dev/hda /dev/sbd5).
\item partJobs: associative array with partition jobs
\end{itemize}

\subsection{FDISK\_virtualDeleteDrive}
\textbf{Description:} Deletes a (RAID) drive from param assigned thru \$vDev.\\
\textbf{Parameter:}
\begin{itemize}
\item vDev: Virtual (internally used) device number.
\item param: parameter string containing status informations about the harddisks
\end{itemize}

\subsection{FDISK\_deleteDriveFromParam}
\textbf{Description:} Deletes all drive and partition parameters of a drive from param without correcting any order.\\
\textbf{Parameter:}
\begin{itemize}
\item vDev: Virtual (internally used) device number of the drive to delete.
\item param: parameter string containing status informations about the harddisks.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Changed param without the drive.
\end{itemize}

\newpage\section{./inc/groups.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: group management funtions\\

\subsection{GRP\_exists}
\textbf{Description:} checks, if a group exists\\
\textbf{Parameter:}
\begin{itemize}
\item groupName: name of the group to check
\end{itemize}

\subsection{GRP\_add}
\textbf{Description:} Adds a group with description.\\
\textbf{Parameter:}
\begin{itemize}
\item groupName: name of the group to add
\item groupDescription: description of the group to add
\end{itemize}

\subsection{GRP\_getIdByName}
\textbf{Description:} gets the Id of a groupname\\
\textbf{Parameter:}
\begin{itemize}
\item groupName: name of the group
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Group number or false, if no matching group is found.
\end{itemize}

\subsection{GRP\_getNameById}
\textbf{Description:} gets the groupname of an Id\\
\textbf{Parameter:}
\begin{itemize}
\item groupId: Index of the group
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Group name or false, if no matching group is found.
\end{itemize}

\subsection{GRP\_del}
\textbf{Description:} deletes all clients from the group and the group itself\\
\textbf{Parameter:}
\begin{itemize}
\item groupName: name of the group
\end{itemize}

\subsection{GRP\_isClientInGroup}
\textbf{Description:} returnes true, if a client is in the selected group, otherwise false\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client 
\item groupName: name of the group
\end{itemize}

\subsection{GRP\_addClientToGroup}
\textbf{Description:} adds a client to a group\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client 
\item groupName: name of the group
\end{itemize}

\subsection{GRP\_delClientFromGroup}
\textbf{Description:} removes a client from a group\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client 
\item groupName: name of the group
\end{itemize}

\subsection{GRP\_setDescrGroup}
\textbf{Description:} Sets the description of a client group.\\
\textbf{Parameter:}
\begin{itemize}
\item groupName: Name of the group
\item groupDescription: New description of the group
\end{itemize}

\subsection{GRP\_getDescrGroup}
\textbf{Description:} Gets the description of a client group.\\
\textbf{Returns:}
\begin{itemize}
\item Description of the group.
\end{itemize}

\subsection{GRP\_listGroupsAndCount}
\textbf{Description:} returnes a associative array with all groupnames and the amount of clients in each group\\

\subsection{GRP\_showGroupsAndCount}
\textbf{Description:} generates a table with all groupnames and the amount of clients in each group\\

\subsection{GRP\_ren}
\textbf{Description:} renames a group\\
\textbf{Parameter:}
\begin{itemize}
\item groupName: name of the group
\item newGroupName: name of the new group
\end{itemize}

\subsection{GRP\_HTMLBackToDetails}
\textbf{Description:} generates HTML code to return to the group details page\\
\textbf{Parameter:}
\begin{itemize}
\item groupName: name of the group
\item section: name of the section to jump to
\end{itemize}

\subsection{GRP\_countClients}
\textbf{Description:} returns the amount of client of a certain group\\
\textbf{Parameter:}
\begin{itemize}
\item groupName: name of the group
\end{itemize}

\subsection{GRP\_showGeneralInfo}
\textbf{Description:} shows a table with general information about the group\\
\textbf{Parameter:}
\begin{itemize}
\item groupName: name of the group
\end{itemize}

\subsection{GRP\_showRenDialog}
\textbf{Description:} shows a dialog to rename a group\\
\textbf{Parameter:}
\begin{itemize}
\item groupName: name of the group
\end{itemize}

\subsection{GRP\_showChangeDescriptionDialog}
\textbf{Description:} shows a dialog to change the group description\\
\textbf{Parameter:}
\begin{itemize}
\item groupName: name of the group
\end{itemize}

\subsection{GRP\_moveClientToGroup}
\textbf{Description:} moves a client from one group to another\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: client to move
\item oldGroup: name of the old group
\item newGroup: name of the new group
\end{itemize}

\subsection{GRP\_listGroups}
\textbf{Description:} returnes all groups in an array\\

\subsection{GRP\_groupSelection}
\textbf{Description:} generates a HTML selection with all groups as options\\
\textbf{Parameter:}
\begin{itemize}
\item selName: name of the selection
\item first: the group that should be shown first
\end{itemize}

\subsection{GRP\_showDelDialog}
\textbf{Description:} shows a dialog for deleting a group\\
\textbf{Parameter:}
\begin{itemize}
\item groupName: name of the group
\end{itemize}

\subsection{GRP\_doClientMoreGroups}
\textbf{Description:} dialog and logic for adding and removing the client to and from multiple groups\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client
\item type: type of the action ("add" for adding,"del" for removing)
\end{itemize}

\subsection{GRP\_listClientGroups}
\textbf{Description:} returnes an array containing all groups a client is in\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client
\end{itemize}

\subsection{GRP\_showClientGroups}
\textbf{Description:} Shows a list containing all groups a client is in\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client
\item link: if there should be links to the group page
\item output: If set to true, the list will be shown, if set to false returned instead.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Nothing or the list containing all groups a client is in.
\end{itemize}

\subsection{GRP\_listAllClientsInGroup}
\textbf{Description:} returns an array that consists of all client names that are in a group\\
\textbf{Parameter:}
\begin{itemize}
\item groupName: name of the group to check
\end{itemize}

\subsection{GRP\_getDistrsAndSourcesLists}
\textbf{Description:} writes the differnt distributions and package sources of the clients in a group as array to the both variables\\
\textbf{Parameter:}
\begin{itemize}
\item distrs: variable that should store the distributions
\item sourceslists: variable that should store the sourceslist names
\end{itemize}

\subsection{GRP\_showSelDistrSources}
\textbf{Description:} shows a dialog for selection of distribution and package source name. The choices are taken form distr and packagesource values of the clients in the group. If there is only one entry for one or both of the values, the value is written back to the input variable otherwise a HTML selection is shown.\\
\textbf{Parameter:}
\begin{itemize}
\item groupNames: group names stored in an array or NULL, if groups should be ignored and all distributions and sources lists should be shown.
\item distr: distribution to show first and variable to write the distribution name back
\item sourceslist: sources list to show first and variable to write the sources list name back
\end{itemize}

\subsection{GRP\_listAllClientsInGroups}
\textbf{Description:} returns an array with all client names contained in the groups\\
\textbf{Parameter:}
\begin{itemize}
\item groupNames: the names of the groups stored in an array
\item withAutoUpdateJob: If set to true, only clients with auto update job will be listed.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Array with the found client names.
\end{itemize}

\subsection{GRP\_HTMLBackToOverview}
\textbf{Description:} generates HTML code to return to the group overview page\\

\subsection{GRP\_getAllPackages}
\textbf{Description:} shows a list of all packages on all clients in the selected groups. the packages can be selected by checkboxes\\
\textbf{Parameter:}
\begin{itemize}
\item groupNames: group names stores in an array
\item key: keyword for searching for packages
\item withActions: you can select to draw te action 
\end{itemize}

\subsection{GRP\_desasterRecovery}
\textbf{Description:} recovers all selected clients and shows a message afterwards\\
\textbf{Parameter:}
\begin{itemize}
\item clients: an array containing all clients that should be recovered
\end{itemize}

\newpage\section{./inc/halfSister.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: Functions for halfSister.\\

\subsection{HS\_ASSI\_getClientSettingsCommand}
\textbf{Description:} Generates the commands to send the client infos to the server (This has the same functionality as MSR\_getClientSettingsCommand) if this is an halfSister client to be assimilated.\\

\subsection{HS\_getClientSettingsCommand}
\textbf{Description:} Generates the commands to send the client infos to the server (This has the same functionality as MSR\_getClientSettingsCommand).\\

\subsection{HS\_ASSI\_statusFileCommand}
\textbf{Description:} Generates the commands to send the package infos to the server (This has the same functionality as MSR\_statusFileCommand) if this is an halfSister client to be assimilated.\\

\subsection{HS\_ASSI\_prepareClient}
\textbf{Description:} Prepares a halfSister client for assimilisation.\\

\subsection{HS\_getm23HSAdminPath}
\textbf{Description:} Calculates the complete local path (including the file name) to m23HSAdmin for a choosen distribution release.\\
\textbf{Parameter:}
\begin{itemize}
\item release: The release name of the distribution
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The complete local path (including the file name) to m23HSAdmin.
\end{itemize}

\subsection{HS\_getPackageCacheName}
\textbf{Description:} Returns the complete name (including path) of the package cache.\\
\textbf{Parameter:}
\begin{itemize}
\item packagesourcename: name of the package source
\item arch: CPU architecture of the client.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The name of the package cache.
\end{itemize}

\subsection{HS\_pkgUpdateCacheOnServer}
\textbf{Description:} updates the package list on the server ( for editing package selections ) and saves it gzipped in /m23/data+scripts/distr/halfSister/packages-\$packagesourcename-\$arch.gz\\
\textbf{Parameter:}
\begin{itemize}
\item packagesourcename: name of the package source
\item force: force the update (or not)
\item arch: CPU architecture of the client.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The name of the package cache.
\end{itemize}

\subsection{HS\_fetchAndExtractOSImage}
\textbf{Description:} Downloads and extracts a halfSister distribution.\\
\textbf{Parameter:}
\begin{itemize}
\item distr: halfSister distribution to install.
\item arch: The architecture of the distribution (amd64 or i386)
\item DNSServers: DNS server for resolving the names of the installation server
\item gateway: gateway for fetching the packages
\item packageProxy: the ip of the proxy the packages should be fetched from
\item packagePort: the proxy port
\end{itemize}

\subsection{HS\_fetchm23HSAdminAndm23hwscannerByOS}
\textbf{Description:} Fetches the m23HSAdmin tool and m23hwscanner by detection of the OS.\\

\subsection{HS\_fetchm23HSAdminAndm23hwscanner}
\textbf{Description:} Fetches the m23HSAdmin tool and m23hwscanner matching the given distribution.\\
\textbf{Parameter:}
\begin{itemize}
\item release: halfSister distribution to get the m23HSAdmin tool for.
\item pathPrefix : Extra path to put before the store path (e.g. to store the m23HSAdmin on a mounted filesystem).
\end{itemize}

\subsection{HS\_netConfig}
\textbf{Description:} Sets IP, gateway, netmask, DNS and hostname.\\
\textbf{Parameter:}
\begin{itemize}
\item clientParams: Associated array with the parameters of the client.
\end{itemize}

\subsection{HS\_setPackageProxy}
\textbf{Description:} Sets the proxy for the package management tool.\\
\textbf{Parameter:}
\begin{itemize}
\item clientOptions: Associated array with the options of the client.
\end{itemize}

\subsection{HS\_setSourcesList}
\textbf{Description:} Writes the package sources list for the client's package manager.\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client
\end{itemize}

\subsection{HS\_normalUpdate}
\textbf{Description:} Performs a normal update of the installed packages.\\

\subsection{HS\_pkgFullUpdate}
\textbf{Description:} Performs a full update of the installed packages.\\

\subsection{HS\_sysSetm23ClientID}
\textbf{Description:} Sets the m23 client ID.\\
\textbf{Parameter:}
\begin{itemize}
\item clientParams: Associated array with the parameters of the client.
\end{itemize}

\subsection{HS\_netEnableNTP}
\textbf{Description:} Enable getting the system time by NTP.\\

\subsection{HS\_netDisableNTP}
\textbf{Description:} Disable getting the system time by NTP.\\

\subsection{HS\_hookBeginAfterChroot}
\textbf{Description:} Scripts that should be run at the beginning of the afterChroot.\\
\textbf{Parameter:}
\begin{itemize}
\item rootDevice: Device with partition where the os will be installed (e.g. /dev/hda1).
\item bootDevice: Device (with partition) where the bootmanager will be installed (e.g. /dev/hda).
\item bootDeviceFS: Filesystem of the root device.
\end{itemize}

\subsection{HS\_hookEndAfterChroot}
\textbf{Description:} Scripts that should be run at the end of the afterChroot.\\
\textbf{Parameter:}
\begin{itemize}
\item rootDevice: Device with partition where the os will be installed (e.g. /dev/hda1).
\item bootDevice: Device (with partition) where the bootmanager will be installed (e.g. /dev/hda).
\item bootDeviceFS: Filesystem of the root device.
\end{itemize}

\subsection{HS\_pkgInstallBasePackages}
\textbf{Description:} Installs basic packages\\

\subsection{HS\_netSetm23SSLCertificate}
\textbf{Description:} Downloads and stores the SSL public key of the m23 server into the correct directory.\\
\textbf{Parameter:}
\begin{itemize}
\item pathPrefix : Extra path to put before the SSL store path (e.g. to store the SSL key on a mounted filesystem).
\end{itemize}

\subsection{HS\_sysSetLanguage}
\textbf{Description:} Sets the system language.\\
\textbf{Parameter:}
\begin{itemize}
\item lang: Two-character code of the language to set (de, en, fr).
\end{itemize}

\subsection{HS\_sysSetRootPW}
\textbf{Description:} Sets the root password.\\
\textbf{Parameter:}
\begin{itemize}
\item Password: The crypted password of the user root.
\end{itemize}

\subsection{HS\_sysSetTimeZone}
\textbf{Description:} Sets the time zone.\\
\textbf{Parameter:}
\begin{itemize}
\item timezone: Timezone in POSIX notation (e.g. Europe/Berlin)
\end{itemize}

\subsection{HS\_sysHWsetup}
\textbf{Description:} Detects and configures new hardware\\

\subsection{HS\_sysAddUser}
\textbf{Description:} Creates a new user with home directoy and sets password.\\
\textbf{Parameter:}
\begin{itemize}
\item username: Name of the user to add.
\item password: The password of the user to add.
\item uid: User ID to give the new user.
\item gid: Group ID to give the new user.
\end{itemize}

\subsection{HS\_sysChangeUser}
\textbf{Description:} changes the settings of an useraccount on a client\\
\textbf{Parameter:}
\begin{itemize}
\item userName: the (old) username for the account
\item password: the new unecrypted password for the account
\item newUserName: the new username
\end{itemize}

\subsection{HS\_netEnableSSHdAndImportKey}
\textbf{Description:} Enables the SSH daemon and adds a SSH key to let the m23 server log into the machine.\\

\subsection{HS\_writeHosts}
\textbf{Description:} Writes the /etc/hosts file for the client\\

\subsection{HS\_sysWriteM23fetchjob}
\textbf{Description:} Generates the m23fetchjob script and adds it to the init levels.\\

\subsection{HS\_sysWriteCrontabm23fetchjobEvery5Minutes}
\textbf{Description:} Adds entries to crontab to check every 5 minutes for new jobs.\\
\textbf{Parameter:}
\begin{itemize}
\item clientParams: Associated array with the parameters of the client.
\end{itemize}

\subsection{HS\_sysInstallKernel}
\textbf{Description:} Installs a matching kernel.\\
\textbf{Parameter:}
\begin{itemize}
\item kernelPkg: Name of the kernel package to install.
\end{itemize}

\subsection{HS\_netEnableNFSHome}
\textbf{Description:} Enables storing of home directories on a NFS server\\
\textbf{Parameter:}
\begin{itemize}
\item nfsURL: URL to the NFS storage (e.g. 192.168.1.42/up/home)
\end{itemize}

\subsection{HS\_netEnableLDAP}
\textbf{Description:} Enables LDAP login for a client.\\
\textbf{Parameter:}
\begin{itemize}
\item clientOptions: the client's options array
\end{itemize}

\subsection{HS\_sysAddFstabEntries}
\textbf{Description:} Generates commands to edit a given fstab, add new entries and remove old ones before.\\
\textbf{Parameter:}
\begin{itemize}
\item fstab: All fstab lines to add as assiciative array.
\end{itemize}

\subsection{HS\_sysMakeBootable}
\textbf{Description:} Makes the system bootable.\\
\textbf{Parameter:}
\begin{itemize}
\item rootDevice: Device with partition where the os will be installed (e.g. /dev/hda1).
\item bootDevice: Device (with partition) where the bootmanager will be installed (e.g. /dev/hda).
\item bootDeviceFS: Filesystem of the root device.
\end{itemize}

\subsection{HS\_sysConfigurePrinter}
\textbf{Description:} Detects and configures printer(s).\\

\subsection{HS\_sysInstallPrinter}
\textbf{Description:} Installs the printer software.\\

\subsection{HS\_pkgInstallKDE}
\textbf{Description:} Installs KDE\\

\subsection{HS\_pkgInstallX}
\textbf{Description:} Installs XOrg or another shipped X11 server.\\

\subsection{HS\_pkgInstalledList}
\textbf{Description:} Lists the installed packages or writes the list to a file.\\
\textbf{Parameter:}
\begin{itemize}
\item storeFile: File name to store the list of installed on the client or empty if the list should be outputted to stdout.
\end{itemize}

\subsection{HS\_pkgInstall}
\textbf{Description:} Installs one or more packages\\
\textbf{Parameter:}
\begin{itemize}
\item packages: List of packages to install seperated by spaces.
\end{itemize}

\subsection{HS\_runClientPackageConfDB}
\textbf{Description:} Generates BASH code to import client package configuration settings from the DB into the client package configuration of the client.\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: Name of the client.
\end{itemize}

\subsection{HS\_pkgSearch}
\textbf{Description:}  Searches for available packages matching all keywords.\\
\textbf{Parameter:}
\begin{itemize}
\item searchTerms: Search terms seperated spaces.
\end{itemize}

\subsection{HS\_pkgInstallPreview}
\textbf{Description:} Generates commands for getting a installation preview on the client.\\
\textbf{Parameter:}
\begin{itemize}
\item packages: List of packages to install seperated by spaces
\end{itemize}

\subsection{HS\_pkgDeinstallPreview}
\textbf{Description:} Generates commands for getting a deinstallation preview on the client.\\
\textbf{Parameter:}
\begin{itemize}
\item packages: List of packages to deinstall seperated by spaces
\end{itemize}

\subsection{HS\_statusFileCommand}
\textbf{Description:} Generates the commands to send the package infos to the server (This has the same functionality as MSR\_statusFileCommand).\\

\subsection{HS\_pkgUpdateCache}
\textbf{Description:} Updates the list of available packages.\\

\subsection{HS\_pkgInstallGnome}
\textbf{Description:} Installs Gnome.\\

\subsection{HS\_pkgInstallLXDE}
\textbf{Description:} Installs LXDE.\\

\subsection{HS\_pkgInstallXFce}
\textbf{Description:} Installs XFce.\\

\subsection{HS\_pkgDeinstall}
\textbf{Description:} Deinstalls one or more packages.\\
\textbf{Parameter:}
\begin{itemize}
\item packages: List of packages to deinstall seperated by spaces.
\end{itemize}

\subsection{HS\_wrapperHS\_wrapperReturn}
\textbf{Description:} Creates a m23HSAdmin action with parameters and returns the result.\\
\textbf{Parameter:}
\begin{itemize}
\item Multiple parameters with the desired action as first parameter followed by the parameters of the action.
\end{itemize}

\subsection{HS\_wrapper}
\textbf{Description:} Creates a m23HSAdmin action with parameters and shows the result.\\
\textbf{Parameter:}
\begin{itemize}
\item Multiple parameters with the desired action as first parameter followed by the parameters of the action.
\end{itemize}

\subsection{HS\_sendCommandExecutionStatus}
\textbf{Description:} Sends a status message for the finished HS job and if there were errors, the log file too.\\
\textbf{Parameter:}
\begin{itemize}
\item cmd: Name of the HS command
\end{itemize}

\newpage\section{./inc/helper.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: Helper functions that did not fit into another include file.\\

\subsection{HELPER\_getClientNameAndID}
\textbf{Description:} Gets client ID and name from the \$\_POST or \$\_GET array.\\
\textbf{Parameter:}
\begin{itemize}
\item client: Variable to write the client name to.
\item id: Variable to write the client ID to.
\end{itemize}

\subsection{HELPER\_indentLines}
\textbf{Description:} Intents all lines by putting an intent string in front of them.\\
\textbf{Parameter:}
\begin{itemize}
\item in: Input text.
\item intent: Text tu put in front of all lines.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Text with intented lines.
\end{itemize}

\subsection{HELPER\_filterOutUnwantedSSHOutputs}
\textbf{Description:} Filters out unwanted lines from SSH client.\\
\textbf{Parameter:}
\begin{itemize}
\item text: Text to filter.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Text with all lines removed that are containing unwanted lines from SSH client.
\end{itemize}

\subsection{dieWithExitCode}
\textbf{Description:} Let the script die with a message on stderr and exit code.\\
\textbf{Parameter:}
\begin{itemize}
\item exitMessage: Message to show on exit.
\item exitCode: The exit code of the script.
\end{itemize}

\subsection{HELPER\_str\_equal\_UTF8ISO}
\textbf{Description:} Checks, if two strings are equal independent from their encodings (UTF-8 or ISO).\\
\textbf{Parameter:}
\begin{itemize}
\item a: First string to compare.
\item b: Second string to compare.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if both strings "mean" the same, otherwise false.
\end{itemize}

\subsection{HELPER\_logToFile}
\textbf{Description:} Adds text to an exclusively opened log file.\\
\textbf{Parameter:}
\begin{itemize}
\item logFile: Name of the log file with full path.
\item text: Text to add.
\item htmlH: If nummeric, the text will shown with the given HTML heading level.
\end{itemize}

\subsection{HELPER\_splitDayHourMinuteString}
\textbf{Description:} Splits a combined numeric day and hour/minute string into day and hour/minute.\\
\textbf{Parameter:}
\begin{itemize}
\item in: Combined numeric day and hour/minute string
\item day: The day variable to write the day number to.
\item hour: The hour variable to write the hour number to.
\item minute: The minute variable to write the minute number to.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the input string is long enough.
\end{itemize}

\subsection{HELPER\_showScriptHeader}
\textbf{Description:} Shows a header for own scripts, that creates a log file with the package name and the start time. Sends the log file to the m23 server and shows an installation dialog on the client's screen.\\
\textbf{Parameter:}
\begin{itemize}
\item id: Job ID of the script
\item packName: Name of the package
\end{itemize}

\subsection{HELPER\_showScriptFooter}
\textbf{Description:} Shows a header for own scripts, that saves the script end time to a log file and sends it to the m23 server. Sets status bar to 100% and marks the job as done. Afterwards executes the next job.\\
\textbf{Parameter:}
\begin{itemize}
\item id: Job ID of the script.
\item packName: Name of the package.
\end{itemize}

\subsection{HELPER\_URIencode}
\textbf{Description:} Encodes a string like the JavaScript function URIencode would do it.\\
\textbf{Parameter:}
\begin{itemize}
\item in: Input string to be encoded.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Encoded version of the string
\end{itemize}

\subsection{HELPER\_isUpper}
\textbf{Description:} Checks, if a character is upper case\\
\textbf{Parameter:}
\begin{itemize}
\item char: Character to check.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, when upper case otherwise false
\end{itemize}

\subsection{HELPER\_filesize}
\textbf{Description:} Gets the correct file size of a file, even if it is bigger than 2 GB.\\
\textbf{Parameter:}
\begin{itemize}
\item fileName: Name of the file with full path.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The file size of the file in bytes.
\end{itemize}

\subsection{HELPER\_isExecutedInCLI}
\textbf{Description:} Checks, if it is run in CLI.\\
\textbf{Returns:}
\begin{itemize}
\item True, when run in CLI otherwise false.
\end{itemize}

\subsection{HELPER\_isExecutedOnUCS}
\textbf{Description:} Checks, if it is run on UCS.\\
\textbf{Returns:}
\begin{itemize}
\item True, when run on UCS otherwise false.
\end{itemize}

\subsection{HELPER\_getContentFromURL}
\textbf{Description:} Downloads an URL via curl and gives back the site code.\\
\textbf{Parameter:}
\begin{itemize}
\item url: The URL to download.
\item range: If set, a part of the file will be downloaded. (e.g. 0-500 will download the first 500 kb)
\item useProxy: If set to true, the system wide proxy will be used, otherwise a direct connection is attempted.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The downloaded site code or false in case of an error.
\end{itemize}

\subsection{HELPER\_trimValue}
\textbf{Description:} Runs trim on the input parameter and writes the result back.\\
\textbf{Parameter:}
\begin{itemize}
\item value: Value to trim.
\end{itemize}

\subsection{HELPER\_xargsRecursive}
\textbf{Description:} Executes a BASH command with a list of arguments. If the BASH command fails, the argument list is split in two parts and recursively executed again.\\
\textbf{Parameter:}
\begin{itemize}
\item cmd: BASH command
\item argsA: Array of commands for the BASH command.
\item tabAmount: Amount of identing to start with.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Recursive calls of the BASH command with error checking.
\end{itemize}

\subsection{HELPER\_resetNewLogLines}
\textbf{Description:} Resets the line number of the last read line.\\
\textbf{Parameter:}
\begin{itemize}
\item sessionPrefix: Prefix for storing the last read line number in the session.
\end{itemize}

\subsection{HELPER\_getNewLogLines}
\textbf{Description:} Gets the last (new) lines of a (growing) log file.\\
\textbf{Parameter:}
\begin{itemize}
\item log: Name of the log file.
\item sessionPrefix: Prefix for storing the last read line number in the session.
\item filterFunction: Function to filter the lines before adding them to the output. The function gets the unfiltered string as input and returns the filtedred version.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item UTF8-encoded new lines of the log file.
\end{itemize}

\subsection{HELPER\_rmRecursive}
\textbf{Description:} Removes a directory with sub-directories and contained files.\\
\textbf{Parameter:}
\begin{itemize}
\item : dir: Full path to the directory.
\end{itemize}

\subsection{HELPER\_showBAfH}
\textbf{Description:} Shows the German BAfH excuse of the day.\\

\subsection{HELPER\_ucrc32}
\textbf{Description:} Returns the unsigned crc32 sum of an input value.\\
\textbf{Parameter:}
\begin{itemize}
\item : in: Input to crc.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Unsigned crc32 sum of an input value.
\end{itemize}

\subsection{HELPER\_md5x5}
\textbf{Description:} Hashes an input value 5 times with MD5.\\
\textbf{Parameter:}
\begin{itemize}
\item : in: Input to hash.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Hashed value.
\end{itemize}

\subsection{HELPER\_netmaskAmountOfSetBits}
\textbf{Description:} Calculates the amount of set bits in a network mask (as used in the short form of netmasks).\\
\textbf{Parameter:}
\begin{itemize}
\item : nm: The netmask in decimal notation.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Amount of set bits in the network mask.
\end{itemize}

\subsection{HELPER\_networkCalculator}
\textbf{Description:} Calculates the network IP by a given IP and the netmask.\\
\textbf{Parameter:}
\begin{itemize}
\item : ip: The IP.
\item : nm: The netmask.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Network IP.s
\end{itemize}

\subsection{HELPER\_netmaskCalculator}
\textbf{Description:} Converts a short netmask (e.g. 24 for 255.255.255.0) into the decimal notation.\\
\textbf{Parameter:}
\begin{itemize}
\item : nm: The netmask to convert. If a netmask in decimal notation is given, no conversation is done.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Netmask in decimal notation.
\end{itemize}

\subsection{HELPER\_importAllIntoPOST}
\textbf{Description:} Imports all values into the \$\_POST array in case that there are too much array keys for the normal processing.\\

\subsection{HELPER\_randomUsername}
\textbf{Description:} Generates a random username with a given length.\\
\textbf{Parameter:}
\begin{itemize}
\item length: Length of the username to create.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The random username.
\end{itemize}

\subsection{HELPER\_createSelfSignedCAAndServerCertificate}
\textbf{Description:} Creates a selfsigned CA and a server certificate.\\
\textbf{Parameter:}
\begin{itemize}
\item CADn: Information about the CA.
\item serverDn: Information about the server.
\item password: Password for the private server key.
\item expirationDate: Expiration of the certificates in days.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Associative array with the certificate of the CA, the certificate and private key of the server.
\end{itemize}

\subsection{HELPER\_arrayReOrderKeynumbers}
\textbf{Description:} Changes all keys of the input array to simple ascending numbers, if the key of the inpur array is a number (if not, the key will be left unchanged). The order of the keys is preserved.\\
\textbf{Parameter:}
\begin{itemize}
\item inArray: The input array.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item New array with the ascending key numbers.
\end{itemize}

\subsection{HELPER\_arrayInsertBeforeKeynumber}
\textbf{Description:} Inserts a value into an array (that has simple numbers as keys) before a given key.\\
\textbf{Parameter:}
\begin{itemize}
\item inArray: The input array.
\item beforeKeynumber: The key number the value should be inserted before.
\item val: The value that should be inserted.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item New array with the new value inserted.
\end{itemize}

\subsection{HELPER\_arrayInsertAfterKeynumber}
\textbf{Description:} Inserts a value into an array (that has simple numbers as keys) after a given key.\\
\textbf{Parameter:}
\begin{itemize}
\item inArray: The input array.
\item afterKeynumber: The key number the value should be inserted after.
\item val: The value that should be inserted.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item New array with the new value inserted.
\end{itemize}

\subsection{HELPER\_m23Array2Array}
\textbf{Description:} Converts an m23 array to a normal array.\\
\textbf{Parameter:}
\begin{itemize}
\item m23Array: The m23 array to convert. The m23 array is a 2D array, that consists of keys build of a parameter names combined with a parameter number. Parameter names with the same parameter number belong together. (e.g. [command0] =$>$ format, [path0] =$>$ /dev/md0, [fs0] =$>$ ext4, ...)
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item A normal array, that may be edited more easyly. (e.g [0] =$>$ Array([command] =$>$ format, [path] =$>$ /dev/md0, [fs] =$>$ ext4 ))
\end{itemize}

\subsection{HELPER\_array2m23Array}
\textbf{Description:} Converts a normal array to an m23 array.\\
\textbf{Parameter:}
\begin{itemize}
\item array: A normal array, that may be edited more easyly. (e.g [0] =$>$ Array([command] =$>$ format, [path] =$>$ /dev/md0, [fs] =$>$ ext4 ))
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The m23 array, that is a 2D array, that consists of keys build of a parameter names combined with a parameter number. Parameter names with the same parameter number belong together. (e.g. [command0] =$>$ format, [path0] =$>$ /dev/md0, [fs0] =$>$ ext4, ...)
\end{itemize}

\subsection{print\_r2}
\textbf{Description:} Function like print\_r, but sorts the entries, if the input is an array and converts newlines to HTML breaks.\\
\textbf{Parameter:}
\begin{itemize}
\item in: Value to print.
\end{itemize}

\subsection{HELPER\_debugBacktraceToFile}
\textbf{Description:} Writes/Appends debug information about all calling functions and parameters into a file.\\
\textbf{Parameter:}
\begin{itemize}
\item file: File name with full path, where the debug information should be stored.
\end{itemize}

\subsection{HELPER\_getRemoteFileContents}
\textbf{Description:} Downloads a file if it is not older than a given time and returns its contents.\\
\textbf{Parameter:}
\begin{itemize}
\item url: The URL where to download the file from.
\item storeFile: The file name to store the download in.
\item refreshTime: The time in minutes the file is downloaded again.
\item forceOverwrite: Set to true if the file should be overwritten even if the new file is epmty.
\item noProxy: Set to true, if the system proxy should not be used.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The contents of the files from chache or from download or false if no file could be found.
\end{itemize}

\subsection{HELPER\_passGenerator}
\textbf{Description:} Generates semi-random passwords via pwgen or DB\_genPassword.\\
\textbf{Parameter:}
\begin{itemize}
\item length: The length of the passwords.
\item amount: The amount of passwords to generate.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Array with the generated passwords if \$amount $>$ 1 or the password string directly if \$amount = 1.
\end{itemize}

\subsection{HELPER\_array2AssociativeArray}
\textbf{Description:} Copies the values of an array as keys AND values to a new assiciative array.\\
\textbf{Parameter:}
\begin{itemize}
\item in: Input array.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Associative array with equal keys and values.
\end{itemize}

\subsection{HELPER\_randomMAC}
\textbf{Description:} Generates a random MAC address.\\
\textbf{Returns:}
\begin{itemize}
\item Random MAC address in the format XX:XX:XX:XX:XX:XX (e.g. 70:c4:d4:49:6e:27).
\end{itemize}

\subsection{HELPER\_generateSalt}
\textbf{Description:} Generates a random salt string.\\
\textbf{Parameter:}
\begin{itemize}
\item length: Length of the salt.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Random salt of given length.
\end{itemize}

\subsection{HELPER\_grubMd5Crypt}
\textbf{Description:} Encrypts a password to the MD5 hash as expected by grub.\\
\textbf{Parameter:}
\begin{itemize}
\item password: Password to encrypt.
\item length: Length of the salt.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Encrypted password in grub style or false if MD5 hash function isn't available.
\end{itemize}

\subsection{HELPER\_listFilesInDir}
\textbf{Description:} Lists all files in a directory and returns an array with all file names.\\
\textbf{Parameter:}
\begin{itemize}
\item dirname: Name of the directory.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Array with all file names.
\end{itemize}

\subsection{HELPER\_getBootLoaders}
\textbf{Description:} Returns a list of available bootloaders.\\
\textbf{Returns:}
\begin{itemize}
\item Array with available bootloaders.
\end{itemize}

\subsection{HELPER\_getTimeZones}
\textbf{Description:} Searches for all time zones.\\
\textbf{Parameter:}
\begin{itemize}
\item country: two letter country name that is used to select a timezone if none is set with \$first.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Array with all time zones.
\end{itemize}

\subsection{HELPER\_calcMBSize}
\textbf{Description:} calculates the size in MB from a given input that can be a GB value or measured in %\\
\textbf{Parameter:}
\begin{itemize}
\item number: the number to convert
\item from: if number is a percent value, the output will be the percentage of the from value
\item trunc: set to true, if the output value should be trunced
\end{itemize}

\subsection{HELPER\_grep}
\textbf{Description:} returnes all lines from \$string seperated by \$cut that contain \$search\\
\textbf{Parameter:}
\begin{itemize}
\item string: the text, that should be searched
\item search: the string to be searched
\item cut: seperator for the input and output lines
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The found lines as string separated by \$cut.
\end{itemize}

\subsection{HELPER\_grepNot}
\textbf{Description:} Returnes all lines from \$string seperated by \$cut that do NOT contain \$search.\\
\textbf{Parameter:}
\begin{itemize}
\item string: the text, that should be searched
\item search: the string to be searched
\item cut: seperator for the input and output lines
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The found lines as string separated by \$cut.
\end{itemize}

\subsection{HELPER\_grepCount}
\textbf{Description:} Counts the lines from \$string seperated by \$cut that contain \$search.\\
\textbf{Parameter:}
\begin{itemize}
\item string: the text, that should be searched
\item search: the string to be searched
\item cut: seperator for the input and output lines
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Amount of lines that match the \$search.
\end{itemize}

\subsection{HELPER\_getFdiskMountPoints}
\textbf{Description:} Returnes an array with all mount points listed in /etc/fstab\\
\textbf{Parameter:}
\begin{itemize}
\item excludeExtra: set to true, if you want to exclude /proc and /sys from the array
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Found mount points as array keys and values.
\end{itemize}

\subsection{HELPER\_getApacheUser}
\textbf{Description:} returnes the name of the Apache user\\

\subsection{HELPER\_getApacheGroup}
\textbf{Description:} returnes the group of the Apache user\\

\subsection{HELPER\_putFileContents}
\textbf{Description:} Writes data to a file.\\
\textbf{Parameter:}
\begin{itemize}
\item fileName: name of the file to write
\item contents: Text or data that should be written to the file.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Error code from fwrite.
\end{itemize}

\subsection{HELPER\_getFileContents}
\textbf{Description:} returnes the contents of a file (the file is read to a maximum of 5 MB)\\
\textbf{Parameter:}
\begin{itemize}
\item fileName: name of the file to read
\end{itemize}

\subsection{HELPER\_showFileContents}
\textbf{Description:} Shows the contents of a file (the file is read to a maximum of 5 MB)\\
\textbf{Parameter:}
\begin{itemize}
\item fileName: name of the file to read
\end{itemize}

\subsection{HELPER\_maxPhpUploadSize}
\textbf{Description:} Returns the maximum file upload size allowed by php.ini.\\

\subsection{HELPER\_compareLengthAbc}
\textbf{Description:} Compares the length of two strings and then by alphabet\\
\textbf{Parameter:}
\begin{itemize}
\item \$a: string of a certain length
\item \$b: string of a certain length
\end{itemize}

\subsection{HELPER\_sortByLength}
\textbf{Description:} Sorts an array by length of its values, shortest value first, keeping key-value pairs\\
\textbf{Parameter:}
\begin{itemize}
\item \$array: The array you want to sort by length
\end{itemize}

\subsection{HELPER\_hostname2IP}
\textbf{Description:} Gets the IP of a known host.\\
\textbf{Parameter:}
\begin{itemize}
\item host: Name of the host, IP or FQDN.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item IP of the host or false, if no IP could be found.
\end{itemize}

\newpage\section{./inc/help.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: function to show the help box in the correct language\\

\subsection{HELP\_showHelp}
\textbf{Description:} showes the help block for the online help\\
\textbf{Parameter:}
\begin{itemize}
\item topic: the name of the help file
\item language: two character language description (e.g. de, en, fr,...)
\end{itemize}

\subsection{HELP\_getHelp}
\textbf{Description:} Returnes the help block for the online help\\
\textbf{Parameter:}
\begin{itemize}
\item topic: the name of the help file or name of a man page starting with "man://" e.g. man://tar
\item language: two character language description (e.g. de, en, fr,...)
\item fileName: full path to a help file in a directory with language short name
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item help block string
\end{itemize}

\subsection{HELP\_getHelpString}
\textbf{Description:} returns the help block for the online help\\
\textbf{Parameter:}
\begin{itemize}
\item topic: the name of the help file
\item language: two character language description (e.g. de, en, fr,...)
\end{itemize}

\subsection{HELP\_showHelpTex}
\textbf{Description:} shows the help file converted to LaTeX code\\
\textbf{Parameter:}
\begin{itemize}
\item fileName: name of the help file
\end{itemize}

\newpage\section{./inc/html.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: functions for generating often used HTML code\\

\subsection{HTML\_waitAnimation}
\textbf{Description:} Defines HTML code for showing a waiting animation and onClick code for insering into buttons. The JavaScript showing function is given out where the PHP function is called.\\
\textbf{Parameter:}
\begin{itemize}
\item \$htmlName: Base name for the defines and naming of the JavaScript function and DIVs.
\item \$waitText: Text to show while the animation runs.
\item \$width: Width for the animation image or unscaled if not set.
\end{itemize}

\subsection{HTML\_imgSwitch}
\textbf{Description:} Defines an image button with two states and a text next to it.\\
\textbf{Parameter:}
\begin{itemize}
\item \$htmlName: Name of the html image input element.
\item \$off\_img: Name and path of image to be displayed if its state is "off"
\item \$on\_img: Name and path of image to be displayed it its state is "on"
\item \$off\_text: Text to be displayed if state is "off"
\item \$on\_text: Text to be displayed if state is "on"
\item \$separator: Anything which shall be displayed between the picture (clickable) and the text (not clickable)
\item \$default: State of the image input element on first load of page ("on" or "off")
\item \$outState: Current state of element (true for "on" or false for "off").
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the button was clicked otherwise false.
\end{itemize}

\subsection{HTML\_getOriginalUploadFilename}
\textbf{Description:} Get the original file name of an uploaded file.\\
\textbf{Parameter:}
\begin{itemize}
\item htmlName: Name of the HTML element
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Original file name of an uploaded file or NULL, if none is given.
\end{itemize}

\subsection{HTML\_uploadFile}
\textbf{Description:} Shows a dialog for uploading image files.\\
\textbf{Parameter:}
\begin{itemize}
\item htmlName: Name of the HTML element
\item label: The visual naming of the HTML element.
\item maxFileSize: The maximum allowed filesize in bytes.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The full path to the uploaded file or false in case of an error.
\end{itemize}

\subsection{HTML\_urlButton}
\textbf{Description:} Defines a link that appears like a button.\\
\textbf{Parameter:}
\begin{itemize}
\item htmlNames: Name of the constant.
\item label: Label of the button.
\item url: The URL where the link button should point to.
\end{itemize}

\subsection{HTML\_weekdayTimeChooser}
\textbf{Description:} Creates a picker for weekday and hour/minute (with 15 minute steps).\\
\textbf{Parameter:}
\begin{itemize}
\item htmlNames: Name of the weekday and hour/minute picker.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Choosen weekday and hour/minute as DHHMM string.
\end{itemize}

\subsection{HTML\_sourceViewer}
\textbf{Description:} Creates a source code viewer area with syntax highlighting.\\
\textbf{Parameter:}
\begin{itemize}
\item htmlNames: Name of the source viewer.
\item code: The source code to show.
\item highlighting: The GeSHi language of the source code (e.g. bash).
\end{itemize}

\subsection{HTML\_getOutputBuffer}
\textbf{Description:} Gets the complete (previously rendered) HTML output buffer.\\
\textbf{Returns:}
\begin{itemize}
\item The complete contents of the (previously rendered) HTML output buffer.
\end{itemize}

\subsection{HTML\_setOutputBuffer}
\textbf{Description:} Sets (replaces) the complete (previously rendered) HTML output buffer, that will be sent to the webbrowser.\\
\textbf{Parameter:}
\begin{itemize}
\item HTMLOutputBuffer: New HTML codes that should replace the complete current output buffer.
\end{itemize}

\subsection{HTML\_AJAXAutoSubmit}
\textbf{Description:} Defines AJAX code that clicks a submit button when the given URL returns 'submit'. The defined constant should be used as LAST part of the \$extra parameter in the HTML\_submit function.\\
\textbf{Parameter:}
\begin{itemize}
\item htmlNames: Name of the HTML submit element (button).
\item url: The HTTP URL to poll.
\item timeout: Time in milliseconds to poll the URL for new status.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Constant name to insert into \$extra.
\end{itemize}

\subsection{HTML\_liveSpan}
\textbf{Description:} Creates a span that updates itself via AJAX by polling from a given URL.\\
\textbf{Parameter:}
\begin{itemize}
\item htmlNames: Name of the span.
\item url: The HTTP URL to poll.
\item staticValue: Value that should be shown, when AJAX is not available (e.g. when JavaScript is disabled)
\item timeout: Time in milliseconds to poll the URL for new status.
\end{itemize}

\subsection{HTML\_manipulateOutputBuffer}
\textbf{Description:} Manipulates the output buffer with already generated HTML code and replaces all occurrences the search term with the replace term.\\
\textbf{Parameter:}
\begin{itemize}
\item search: The search term.
\item replace: The replace text.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the search term was found.
\end{itemize}

\subsection{HTML\_showTitle}
\textbf{Description:} Shows a title.\\
\textbf{Parameter:}
\begin{itemize}
\item title: Text of the title.
\end{itemize}

\subsection{HTML\_showSmallTitle}
\textbf{Description:} Shows a title of the second tier.\\
\textbf{Parameter:}
\begin{itemize}
\item title: Text of the small title.
\end{itemize}

\subsection{HTML\_hiddenVar}
\textbf{Description:} Create a hidden HTML variable to store values in an HTML form.\\
\textbf{Parameter:}
\begin{itemize}
\item var: Name of the hidden variable.
\item val: Its value.
\end{itemize}

\subsection{HTML\_liveLogArea}
\textbf{Description:} Creates a log area that updates itself via AJAX by polling from a given URL.\\
\textbf{Parameter:}
\begin{itemize}
\item htmlNames: Name of the log area.
\item width: The width in characters of the log area.
\item height: The height in characters of the log area.
\item url: The HTTP URL to poll.
\item timeout: Time in milliseconds to poll the URL for new status.
\item maxLines: Maximum amount of lines to show in the log area (older lines are removed, when there are too many).
\end{itemize}

\subsection{HTML\_checkboxChangerButtons}
\textbf{Description:} Defines buttons for changing all check boxes.\\
\textbf{Parameter:}
\begin{itemize}
\item htmlNames: Name of the HTML elements.
\end{itemize}

\subsection{HTML\_jsCheckboxChanger}
\textbf{Description:} Generates JavaScript code for changing all check boxes.\\
\textbf{Parameter:}
\begin{itemize}
\item jsBlockName: Name of the JS block constant.
\end{itemize}

\subsection{HTML\_logArea}
\textbf{Description:} Shows a text area for log information (readonly).\\
\textbf{Parameter:}
\begin{itemize}
\item htmlName: Name of the HTML element.
\item cols: Number of columns.
\item rows: Number of rows to show.
\item text: The log information to show.
\end{itemize}

\subsection{HTML\_getQuestionnaireURL}
\textbf{Description:} Returns the complete URL to the m23 questionnaire in the language of the webinterface.\\
\textbf{Returns:}
\begin{itemize}
\item Complete URL to the m23 questionnaire in the language of the webinterface.
\end{itemize}

\subsection{HTML\_questionnaire}
\textbf{Description:} Shows the questionnairem window.\\
\textbf{Parameter:}
\begin{itemize}
\item disable: Set to true to disable showing of the window again.
\end{itemize}

\subsection{HTML\_esel}
\textbf{Description:} Shows an dog-ear that can be opened to show "goos-habermann.de/m23ad".\\

\subsection{HTML\_JSMenuCloseAllEntries}
\textbf{Description:} Closes all menu entries for a menu. This should be called at the end of a page to get it executed after loading.\\

\subsection{HTML\_JSMenuOpener}
\textbf{Description:} Opens a menu entry when moving the mouse over the title and closes all other entries of the same menu.\\
\textbf{Parameter:}
\begin{itemize}
\item menuName: Name of the complete menu. This name must be the same on all entries belonging to the same menu.
\item entryName: Name of the entry. This name must be unique.
\item title: Title for the menu entry.
\item html: HTML code of the menu entry. Here can stand all that is expressable with HTML. This part is shown and hidden.
\item titleCSS: CSS class for marking the title.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The HTML code for displaying the menu entry.
\end{itemize}

\subsection{HTML\_jQueryMenu}
\textbf{Description:} Creates an entry for the jQuery accordion menu\\
\textbf{Parameter:}
\begin{itemize}
\item title: Title for the menu entry.
\item html: HTML code of the menu entry. Here can stand all that is expressable with HTML. This part is shown and hidden.
\item titleCSS: CSS class for marking the title.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The jQuery code for the menu entry.
\end{itemize}

\subsection{HTML\_jQueryMenuHeader}
\textbf{Description:} Generate code for beginning a the jQuery accordion menu.\\
\textbf{Parameter:}
\begin{itemize}
\item menuName: Name of the menu.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The jQuery code for beginning the menu.
\end{itemize}

\subsection{HTML\_jQueryReStoreYWindowPosition}
\textbf{Description:} Generates jQuery code for storing the Y scroll position of the window and to restore the position after a submit.\\
\textbf{Parameter:}
\begin{itemize}
\item variablePrefix: Prefix for the hidden variable with the Y position.
\item hiddenPosCode: Variable where the hidden variable HTML code is written to.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The jQuery code for storing the Y scroll position of the window and to restore the position after a submit.
\end{itemize}

\subsection{HTML\_jQueryMenuEnd}
\textbf{Description:} Generates code for ending a the jQuery accordion menu.\\
\textbf{Parameter:}
\begin{itemize}
\item menuName: Name of the menu.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The jQuery code for ending the menu.
\end{itemize}

\subsection{HTML\_incStatusBarPercentByName}
\textbf{Description:} Increments the status bar percent by a given amount.\\
\textbf{Parameter:}
\begin{itemize}
\item statusBarName: The name of the status bar.
\item client: The name of the client, the status bar belongs to (or other values for identifying the object the status bar belongs to)
\item percent: Percent value of the current job.
\end{itemize}

\subsection{HTML\_setStatusBarPercentPointByName}
\textbf{Description:} Calculates the value of a percent point according to the amount of waiting packages and stores the result in the DB.\\
\textbf{Parameter:}
\begin{itemize}
\item statusBarName: The name of the status bar.
\item client: The name of the client, the status bar belongs to (or other values for identifying the object the status bar belongs to)
\item recalculate: true, if the remaining percent value of the status bar should be used to calculate a new (better fitting) percentpoint.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item false on errors, otherwise true.
\end{itemize}

\subsection{HTML\_setStatusBarStatusByName}
\textbf{Description:} Sets new percent value and/or new status text by clientname AND status bar name.\\
\textbf{Parameter:}
\begin{itemize}
\item statusBarName: The name of the status bar.
\item client: The name of the client, the status bar belongs to (or other values for identifying the object the status bar belongs to)
\item percent: Percent value to write into the DB (may be false, if it should not be changed).
\item statustext: A text message that should be shown under the status bar and written to the DB (may be false, if it should not be changed).
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : false on parameter error.
\end{itemize}

\subsection{HTML\_setStatusBarStatusByID}
\textbf{Description:} Sets new percent value and/or new status text by status bar ID.\\
\textbf{Parameter:}
\begin{itemize}
\item id: ID of the status bar
\item percent: Percent value to write into the DB (may be false, if it should not be changed).
\item statustext: A text message that should be shown under the status bar and written to the DB (may be false, if it should not be changed).
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : false on parameter error.
\end{itemize}

\subsection{HTML\_setStatusBarStatus}
\textbf{Description:} Sets new percent value and/or new status text by status bar ID or clientname AND status bar name.\\
\textbf{Parameter:}
\begin{itemize}
\item id: ID of the status bar (Optional parameter to set values of status bar with given ID).
\item percent: Percent value to write into the DB (may be false, if it should not be changed).
\item statustext: A text message that should be shown under the status bar and written to the DB (may be false, if it should not be changed).
\item statusBarName: The name of the status bar.
\item client: The name of the client, the status bar belongs to (or other values for identifying the object the status bar belongs to)
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : false on parameter error.
\end{itemize}

\subsection{HTML\_getStatusBarID}
\textbf{Description:} Returns the status bar ID of the searched status bar.\\
\textbf{Parameter:}
\begin{itemize}
\item name: The name of the status bar.
\item client: The name of the client, the status bar belongs to (or other values for identifying the object the status bar belongs to)
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : The status bar ID of the searched status bar or false if none could be found.
\end{itemize}

\subsection{HTML\_newStatusBar}
\textbf{Description:} Shows the iframe for a status bar. This actually displays the status bar.\\
\textbf{Parameter:}
\begin{itemize}
\item name: The name of the status bar.
\item client: The name of the client, the status bar belongs to (or other values for identifying the object the status bar belongs to)
\item type: The method of calculating/getting the percentage to display in the status bar.
\item cmd: BASH command, if type is STATUSBAR\_TYPE\_bash.
\item refreshtime: Time (in seconds) between refreshes of the status bar.
\item statustext: A text message that should be shown under the status bar.
\item percent: Percent value to write into the DB.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : The status bar ID of the just created status bar or false, if it could not be created.
\end{itemize}

\subsection{HTML\_showStatusBar}
\textbf{Description:} Shows the iframe for a status bar. This actually displays the status bar.\\
\textbf{Parameter:}
\begin{itemize}
\item id: ID of the status bar.
\item width: The width of the status bar iframe.
\item height: The height of the status bar iframe.
\end{itemize}

\subsection{HTML\_showStatusBarHTML}
\textbf{Description:} Shows the status bar, that is drawn in the iframe (this function is only called by statusBar.php).\\
\textbf{Parameter:}
\begin{itemize}
\item id: ID of the status bar.
\end{itemize}

\subsection{HTML\_multiCheckBox}
\textbf{Description:} Defines a list of checkboxes, that represent a value each. The values of checked checkboxes are stored in an array and returned.\\
\textbf{Parameter:}
\begin{itemize}
\item htmlName: Name of the HTML element.
\item valuesLabels: Array with the values and labels for the checkboxes.
\item defaultChecked: Array with values that are checked by default.
\item forceReload: Set to true if the check box should be set to the state of \$defaultCheck in any case.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : Array with the values of all checked checkboxes.
\end{itemize}

\subsection{HTML\_multiCheckBoxShow}
\textbf{Description:} Shows a list of checkboxes, that represent a value each. The values of checked checkboxes are stored in an array and returned.\\
\textbf{Parameter:}
\begin{itemize}
\item valuesLabels: Array with the values and labels for the checkboxes.
\item defaultChecked: Array with values that are checked by default.
\item forceReload: Set to true if the check box should be set to the state of \$defaultCheck in any case.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : Array with the values of all checked checkboxes.
\end{itemize}

\subsection{HTML\_setPage}
\textbf{Description:} Sets the m23 page as hidden value.\\
\textbf{Parameter:}
\begin{itemize}
\item page: Name of the page.
\end{itemize}

\subsection{HTML\_storableInput}
\textbf{Description:} HTML text or password edit line with loading and storing the values to and from the session.\\
\textbf{Parameter:}
\begin{itemize}
\item htmlName: Name of the HTML element.
\item prefKey: Variable name of the preference the dialog element stands for.
\item initValue: The initial value if the element is shown first.
\item storePointer: Additional pointer to the variable where to store the entered value.
\item size: Size (in characters) of the input line.
\item maxlength: The maximum length of the entered text.
\item type: Type of the edit line (INPUT\_TYPE\_text or INPUT\_TYPE\_password)
\item extraHTML: Extra HTML/JavaScript code 
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Returns the entered value, the default value or false.
\end{itemize}

\subsection{HTML\_storableSelection}
\textbf{Description:} Shows a list of radio buttons or a selection with loading and storing the checking state to and from the session.\\
\textbf{Parameter:}
\begin{itemize}
\item htmlName: Name of the HTML element.
\item prefKey: Variable name of the preference the dialog element stands for.
\item array: An array that hold the returned values (array keys) the naming for the elements (array values).
\item type: SELTYPE\_selection for a selection or SELTYPE\_radio for radio buttons.
\item vertical: Set to true if the radio buttons should be aligned vertically or to false for horizontal aligning. This parameter is ignored by selections.
\item defaultSelection: The value of the item to select by default.
\item storePointer: Additional pointer to the variable where to store the entered value.
\item js: Here can JavaScript or other parameters be added.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true if the check box is checked.
\end{itemize}

\subsection{HTML\_storableMultiSelection}
\textbf{Description:} Shows a list of radio buttons or a selection with loading and storing the checking state to and from the session.\\
\textbf{Parameter:}
\begin{itemize}
\item htmlName: Name of the HTML element.
\item prefKey: Variable name of the preference the dialog element stands for.
\item array: An array that hold the returned values (array keys) the naming for the elements (array values).
\item type: SELTYPE\_selection for a selection or SELTYPE\_radio for radio buttons.
\item multipleSize: Number of elements to display.
\item vertical: Set to true if the radio buttons should be aligned vertically or to false for horizontal aligning. This parameter is ignored by selections.
\item defaultSelection: The value of the item to select by default.
\item storePointer: Additional pointer to the variable where to store the entered value.
\item js: Here can JavaScript or other parameters be added.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true if the check box is checked.
\end{itemize}

\subsection{HTML\_storableCheckBox}
\textbf{Description:} Shows a check box with label with loading and storing the checking state to and from the session.\\
\textbf{Parameter:}
\begin{itemize}
\item htmlName: Name of the HTML element.
\item label: Label of the element.
\item prefKey: Variable name of the preference the dialog element stands for.
\item defaultCheck: Set to true if the check box should be checked if no HTML value is given.
\item storePointer: Additional pointer to the variable where to store the entered value.
\item checkedValue: The value that should be stored into \$storePointer if the check box is checked.
\item unCheckedValue: The value that should be stored into \$storePointer if the check box is NOT checked.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true if the check box is checked.
\end{itemize}

\subsection{HTML\_getElementValue}
\textbf{Description:} Gets the value for a HTML element by the session data or POST value.\\
\textbf{Parameter:}
\begin{itemize}
\item htmlName: Name of the HTML element.
\item prefKey: Variable name of the preference the dialog element stands for.
\item initValue: The initial value if the element is shown first.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Returns the default value, the session value or false.
\end{itemize}

\subsection{HTML\_listSelection}
\textbf{Description:} shows a selection with options stored in an array\\
\textbf{Parameter:}
\begin{itemize}
\item selName: name of the selection
\item list: array with the entries. The array can be a simple numeric array or an associative array with discrete entries for the shown name and the value. e.g. : \$l[name0]="public"; \$l[val0]="internal"; \$l[name1]="public1"; \$l[val1]="internal1"; public and public1 will be shown the user in the webbrowser, while internal and internal1 are the values that are transfered to the server.
\item first: entry that should be shown first (this is the internal value and NOT the name shown to the user). the first value from the list will be written to \$first. set first to "false" to disable writing the first entry.
\item firstName: if you want to use the associative array variant and a first value, you need to set the name that should be shown to the user. This name is stored in firstName
\end{itemize}

\subsection{HTML\_showTableHeader}
\textbf{Description:} prints the header of a shadowed table\\
\textbf{Parameter:}
\begin{itemize}
\item centerTable: set to true if the table should be centered vertically
\item tableStyle: CSS class of the inner table.
\item width: Width of the table.
\end{itemize}

\subsection{HTML\_showTableEnd}
\textbf{Description:} prints the end of a shadowed table\\
\textbf{Parameter:}
\begin{itemize}
\item centerTable: set to true if the table should be centered vertically
\end{itemize}

\subsection{HTML\_showFormHeader}
\textbf{Description:} Shows the header of a formular\\
\textbf{Parameter:}
\begin{itemize}
\item addAction: set it, if additional parameters to index.php should be used
\item method: default is POST, but you can set it to GET
\end{itemize}

\subsection{HTML\_showFormEnd}
\textbf{Description:} Shows the end of a formular\\

\subsection{HTML\_submit}
\textbf{Description:} Defines a submit button.\\
\textbf{Parameter:}
\begin{itemize}
\item htmlName: Name of the HTML element.
\item label: Label of the element.
\item extra: Extra options for the HTML input tag.
\item allowDoubleDefinition: If set to true, HTML element constants will be defined even if there is a previously defined constant with the same name. This will run into an error and helps debugging.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item True if it was clicked otherwise false.
\end{itemize}

\subsection{HTML\_submitImg}
\textbf{Description:} Defines a graphical submit button.\\
\textbf{Parameter:}
\begin{itemize}
\item htmlName: Name of the HTML element.
\item img: Name of the image to show.
\item alt: Alternative text to show when no images can be shown.
\item extra: Extra options for the HTML input tag.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item True if it was clicked otherwise false.
\end{itemize}

\subsection{HTML\_input}
\textbf{Description:} HTML text or password edit line.\\
\textbf{Parameter:}
\begin{itemize}
\item htmlName: Name of the HTML element.
\item htmlValue: The default text to show in the edit line if nothing was submitted.
\item size: Size (in characters) of the input line.
\item maxlength: The maximum length of the entered text.
\item type: Type of the edit line (INPUT\_TYPE\_text or INPUT\_TYPE\_password)
\item Returns the entered value, the default value or false.
\end{itemize}

\subsection{array\_makeFirst}
\textbf{Description:} special sort function that makes a special element the first element and leaves the other elements in its previous order.\\
\textbf{Parameter:}
\begin{itemize}
\item arr: Array to sort
\item first: Value of the element that should be put on top
\end{itemize}

\subsection{HTML\_getValidSelected}
\textbf{Description:} Checks for a valid selected value from a list of possible values. In case the value could not be found, a default value is taken.\\
\textbf{Parameter:}
\begin{itemize}
\item selected: Array or single value to check, if it is on the list aof array keys.
\item arrayKeys: An array that holds the possible returned values (array keys).
\item defaultSelection: The value of the item to select by default.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item A valid value from a list of possible values.
\end{itemize}

\subsection{HTML\_selection}
\textbf{Description:} Shows a list of radio buttons or a selection.\\
\textbf{Parameter:}
\begin{itemize}
\item htmlName: Name of the HTML element.
\item array: An array that hold the returned values (array keys) the naming for the elements (array values).
\item type: SELTYPE\_selection for a selection or SELTYPE\_radio for radio buttons.
\item vertical: Set to true if the radio buttons should be aligned vertically or to false for horizontal aligning. This parameter is ignored by selections.
\item defaultSelection: The value of the item to select by default.
\item prefKey: Variable name of the preference the dialog element stands for.
\item js: Here can JavaScript or other parameters be added.
\item multipleSize: If set to a number (and not to false) a multi selection is generated, where the user can select multiple entries. The number sets the amount of entries to show the user.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The value of the selected element or false if nothing was selected.
\end{itemize}

\subsection{HTML\_checkBox}
\textbf{Description:} Shows a check box with label.\\
\textbf{Parameter:}
\begin{itemize}
\item htmlName: Name of the HTML element.
\item label: Label of the element.
\item defaultCheck: Set to true if the check box should be checked if no HTML value is given.
\item prefKey: Variable name of the preference the dialog element stands for.
\item htmlValue: Value of the checkbox if clicked.
\item forceReload: Set to true if the check box should be set to the state of \$defaultCheck in any case.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item True if the check box is checked.
\end{itemize}

\subsection{HTML\_checkBoxCheckAll}
\textbf{Description:} Generates an array with all checked checkboxes. It assumes that value of a checked checkbox is 1.\\
\textbf{Parameter:}
\begin{itemize}
\item filter: Filter to get only the POST elements which begin with the filter string.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Array with all checked checkboxes.
\end{itemize}

\subsection{HTML\_submitDefine}
\textbf{Description:} Defines but does not show a button.\\
\textbf{Parameter:}
\begin{itemize}
\item htmlName: Name of the HTML element.
\item label: Label of the element.
\item extra: Extra options for the HTML input tag.
\item allowDoubleDefinition: If set to true, HTML element constants will be defined even if there is a previously defined constant with the same name. This will run into an error and helps debugging.
\end{itemize}

\subsection{HTML\_submitCheck}
\textbf{Description:} Checks if a previously defined button was clicked.\\
\textbf{Parameter:}
\begin{itemize}
\item htmlName: Name of the HTML element.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item True if the button was clicked.
\end{itemize}

\subsection{HTML\_showTableRow}
\textbf{Description:} Shows a table row with a variable amount of entries. The parameters are shown side by side as rows in a table. If more than one HTML\_showTableRow commands are executed in one table it is needed to always use the same amount of paramaters in each call.\\
\textbf{Parameter:}
\begin{itemize}
\item Arbitrary amount of cells to show in a table.
\end{itemize}

\subsection{HTML\_showTableHeading}
\textbf{Description:} Shows a table heading row with a variable amount of entries. The parameters are shown side by side as rows in a table. If more than one HTML\_showTableRow commands are executed in one table it is needed to always use the same amount of paramaters in each call.\\
\textbf{Parameter:}
\begin{itemize}
\item Arbitrary amount of cells to show in a table.
\end{itemize}

\subsection{HTML\_textArea}
\textbf{Description:} Shows a text area to insert text.\\
\textbf{Parameter:}
\begin{itemize}
\item htmlName: Name of the HTML element.
\item cols: Number of columns.
\item rows: Number of rows to show.
\item default: Text to show by default.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : The entered text.
\end{itemize}

\subsection{HTML\_showPagePrintButton}
\textbf{Description:} Shows a print button that allows easy printing of the current m23 administration interface.\\

\newpage\section{./inc/hwinfo.php}
 Author: Daniel Kasten (DKasten@pc-kiel.de) ,Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: functions to view the hardware information of the client.\\

\subsection{HWINFO\_getParam}
\textbf{Description:} get hardware infos\\
\textbf{Parameter:}
\begin{itemize}
\item paramName: parameter to read from the hardware info (e.g. cpu, mem, ...)
\item clientName: name of the client
\end{itemize}

\subsection{HWINFO\_getMemory}
\textbf{Description:} returns the size of memory\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client
\end{itemize}

\subsection{HWINFO\_getHDSize}
\textbf{Description:} Returnes the sizes of all harddisks in a string, sperated by html breaks\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client
\end{itemize}

\subsection{HWINFO\_printPartitions}
\textbf{Description:} prints the partition information\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client
\end{itemize}

\subsection{DMI\_getAllTextBox}
\textbf{Description:} Get all DMI info in a text box.\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item All DMI info in a text box.
\end{itemize}

\subsection{DMI\_getParam}
\textbf{Description:} get dmi info for a special parameter\\
\textbf{Parameter:}
\begin{itemize}
\item paramName: name of dmi setting
\item clientName: name of the client
\end{itemize}

\subsection{DMI\_getBoard}
\textbf{Description:} get the dmi board informations\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client
\end{itemize}

\subsection{DMI\_getMemory}
\textbf{Description:} get the dmi memory informations\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client
\end{itemize}

\subsection{DMI\_getCPU}
\textbf{Description:} get the dmi cpu informations\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client
\end{itemize}

\subsection{DMI\_getSlot}
\textbf{Description:} get the dmi information about slots\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client
\end{itemize}

\newpage\section{./inc/i18n.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: functions for multi language handling in m23.\\

\subsection{I18N\_getAllTranslationsForAllVariables}
\textbf{Description:} Translates all I18N variables (in all languages) to their language dependent strings.\\
\textbf{Parameter:}
\begin{itemize}
\item in: Input text.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Associative array with all languages as keys and the I18N variables translated to their language dependent strings.
\end{itemize}

\subsection{I18N\_getAllTranslationsForVariable}
\textbf{Description:} Returns all translations for a given variable.\\
\textbf{Parameter:}
\begin{itemize}
\item var: Name of the variable (without "\$")
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item All translations for a given variable.
\end{itemize}

\subsection{I18N\_getHumanReadableDayHourMinute}
\textbf{Description:} Converts a combined numeric day and hour/minute string into a human readable day and hour/minute string.\\
\textbf{Parameter:}
\begin{itemize}
\item in: Combined numeric day and hour/minute string
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Human readable day and hour/minute string or false in case of conversion error.
\end{itemize}

\subsection{I18N\_getWeekDayArray}
\textbf{Description:} Generates an array with all week days as value and week day numbers as keys (Monday = 1, Sunday = 7).\\
\textbf{Returns:}
\begin{itemize}
\item Array with all week days.
\end{itemize}

\subsection{I18N\_number\_format}
\textbf{Description:} Converts numbers to the language specific number formating.\\
\textbf{Parameter:}
\begin{itemize}
\item in: Input number.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Language specific number formated number.
\end{itemize}

\subsection{I18N\_convertToHumanReadableName}
\textbf{Description:} Converts a short language into a human readable name.\\
\textbf{Parameter:}
\begin{itemize}
\item lang: Two letter TLD (or longer code for countries that have more than a language (e.g. be-nl, be-fr))
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Language in human readable notation.
\end{itemize}

\subsection{I18N\_m23instLanguage}
\textbf{Description:} Checks if a m23inst.php exists for the given language and returns "en" if not.\\
\textbf{Parameter:}
\begin{itemize}
\item shortLanguage: Two letter TLD (or longer code for countries that have more than a language (e.g. be-nl, be-fr))
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Language code with available m23inst.php file.
\end{itemize}

\subsection{I18N\_addLanguage}
\textbf{Description:} Adds a new language to the i18n table.\\
\textbf{Parameter:}
\begin{itemize}
\item webinterface: Set to true, if it is a webinterface language. Set to false, for marking a client language.
\item shortLanguage: Two letter TLD (or longer code for countries that have more than a language (e.g. be-nl, be-fr))
\item longLanguage: Long human readable country/language name.
\item country: Two letter TLD.
\item lang: Locale setting (e.g. for locale and KDM)
\item keymap: Available keymaps for the console etc.
\item xkeyboard: X11 keybord setting.
\item kdekeyboard: Language setting for the KDE keyboard.
\item locale: List of locales (seperated by newlines) for the locale tool.
\item kdekeyboards: List of additional KDE keyboards (seperated by commata).
\item timezone: The timezone matching the language.
\item packagelang: Language suffix that is added to the packages (e.g. language-pack-gnome-XX)
\end{itemize}

\subsection{I18N\_listClientLanguages}
\textbf{Description:} Lists all languages, the m23 clients can be installed with.\\
\textbf{Parameter:}
\begin{itemize}
\item default: the language that should be shown first
\item directOutputtedSelection: Set to true, if the selection should be shown instead of returned.
\end{itemize}

\subsection{I18N\_countCachedLanguages}
\textbf{Description:} Counts the cached languages for a type.\\
\textbf{Parameter:}
\begin{itemize}
\item webinterface: Set to true, if it is a webinterface language. Set to false, for marking a client language.
\end{itemize}

\subsection{I18N\_cacheWebinterfaceLanguages}
\textbf{Description:} Caches the language information from the language.info files to the DB.\\

\subsection{I18N\_getAllCachedLanguages}
\textbf{Description:} Returns an associative array with the shortnames of the language as keys and the longnames as value.\\
\textbf{Parameter:}
\begin{itemize}
\item webinterface: Set to true, if it is a webinterface language. Set to false, for marking a client language.
\end{itemize}

\subsection{I18N\_listWebinterfaceLanguages}
\textbf{Description:} Lists all languages, the m23 webinterface is available in, as option lines\\
\textbf{Parameter:}
\begin{itemize}
\item default: the language that should be shown first
\item directOutputtedSelection: Set to true, if the selection should be shown instead of returned.
\end{itemize}

\subsection{I18N\_addClientLanguageToCache}
\textbf{Description:} Adds a new client language to the i18n DB cache.\\
\textbf{Parameter:}
\begin{itemize}
\item shortLanguage: Two letter TLD (or longer code for countries that have more than a language (e.g. be-nl, be-fr))
\item longLanguage: Long human readable country/language name.
\item in: Associative array with the information for the language.
\end{itemize}

\subsection{I18N\_cacheClientLanguages}
\textbf{Description:} Caches the client languages in the DB.\\

\subsection{I18N\_getLangVars}
\textbf{Description:} Returns an associative array with language settings for the client.\\
\textbf{Parameter:}
\begin{itemize}
\item shortLanguage: Two letter TLD (or longer code for countries that have more than a language (e.g. be-nl, be-fr))
\end{itemize}

\newpage\section{./inc/ldap.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: Functions for using a LDAP server\\

\subsection{LDAP\_getTypes}
\textbf{Description:} Returns an array with the known LDAP types.\\
\textbf{Returns:}
\begin{itemize}
\item Aarray with the known LDAP types.
\end{itemize}

\subsection{LDAP\_connectServer}
\textbf{Description:} Connects with read/write access to the LDAP server on the m23 server.\\
\textbf{Parameter:}
\begin{itemize}
\item name: name of the LDAP server stored in the configuration file
\end{itemize}

\subsection{LDAP\_makeConnection}
\textbf{Description:} Connects to a LDAP server.\\
\textbf{Parameter:}
\begin{itemize}
\item host: hostname or IP of the LDAP server
\item baseDN: baseDN for the LDAP server
\item pwd: password for the administrator or empty for anonymous access
\end{itemize}

\subsection{LDAP\_getValueFromConfigLine}
\textbf{Description:} Returns the value from a phpLDAPadmin configuration line.\\
\textbf{Returns:}
\begin{itemize}
\item Value from a phpLDAPadmin configuration line.
\end{itemize}

\subsection{LDAP\_listServers}
\textbf{Description:} Returns an associative array with the LDAP server names as keys and values.\\
\textbf{Returns:}
\begin{itemize}
\item Associative array with the LDAP server names as keys and values.
\end{itemize}

\subsection{LDAP\_loadServer}
\textbf{Description:} Loads the variables from a LDAP server.\\
\textbf{Parameter:}
\begin{itemize}
\item name: server name
\end{itemize}

\subsection{LDAP\_addPosix}
\textbf{Description:} Adds a posix account to the LDAP server and encrypts the password with MD5.\\
\textbf{Parameter:}
\begin{itemize}
\item ldapServer: name of the LDAP server stored in the configuration file
\item account: the login name
\item forename: the forename of the user
\item familyname: the familyname of the user
\item pwd: the unencrypted password
\item uid: Linux user ID
\item gid: Linux group ID
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true or error message string in case of an error.
\end{itemize}

\subsection{LDAP\_fqdn2dn}
\textbf{Description:} Returns the DN converted from a FQDN\\
\textbf{Parameter:}
\begin{itemize}
\item domain: a full qualified domain name (e.g. test.m23.de)
\end{itemize}

\subsection{LDAP\_installServer}
\textbf{Description:} Generates a script that installs and configures an openLDAP server\\
\textbf{Parameter:}
\begin{itemize}
\item host: the IP or hostname of the LDAP server
\item org: name of the organisation
\item domain: the DN (e.g. foo.m23.de)
\item pwd: the unencrypted password for the admin
\end{itemize}

\subsection{LDAP\_addServerTophpLdapAdmin}
\textbf{Description:} Adds an LDAP server to the phpLDAPadmin configuration file.\\
\textbf{Parameter:}
\begin{itemize}
\item name: how the LDAP server should be called
\item host: the IP or hostname of the LDAP server
\item base: the base DN (e.g. dc=m23, dc=de)
\item pwd: the unencrypted password for the admin
\end{itemize}

\subsection{LDAP\_delServerFromphpLdapAdmin}
\textbf{Description:} Deletes a LDAP server from the phpLDAPadmin configuration file.\\
\textbf{Parameter:}
\begin{itemize}
\item name: the name of the LDAP server that should be deleted
\end{itemize}

\subsection{LDAP\_checkphpLdapAdminConfiguration}
\textbf{Description:} Checks if the phpLDAPadmin configuration file is existing and creates it if it's missing\\

\subsection{LDAP\_showServerManagementDialog}
\textbf{Description:} Shows a dialog for adding, removing and changing LDAP servers.\\

\subsection{LDAP\_I18NLdapType}
\textbf{Description:} Returns the human readable description of the LDAP usage type \\
\textbf{Parameter:}
\begin{itemize}
\item status: status string
\end{itemize}

\subsection{LDAP\_getNextID}
\textbf{Description:} Returns the next higher than the highest ID\\
\textbf{Parameter:}
\begin{itemize}
\item type: "user" for user IDs
\end{itemize}

\subsection{LDAP\_getNextUserID}
\textbf{Description:} Returns the next higher than the highest user ID\\

\subsection{LDAP\_addNewID}
\textbf{Description:} Adds a new ID to the table of used IDs or returns "false" if the ID exists\\
\textbf{Parameter:}
\begin{itemize}
\item type: "user" for user IDs
\item id: number of the new ID
\end{itemize}

\subsection{LDAP\_deleteID}
\textbf{Description:} Delets an ID from the table of used IDs\\
\textbf{Parameter:}
\begin{itemize}
\item type: "user" for user IDs
\item id: number of the new ID
\end{itemize}

\subsection{LDAP\_addNewUserID}
\textbf{Description:} Adds a new user ID to the table\\
\textbf{Parameter:}
\begin{itemize}
\item id: number of the new ID
\end{itemize}

\subsection{LDAP\_addNewGroupID}
\textbf{Description:} Adds a new user ID to the table\\
\textbf{Parameter:}
\begin{itemize}
\item id: number of the new ID
\end{itemize}

\subsection{LDAP\_getNextGroupID}
\textbf{Description:} Returns the next higher than the highest group ID\\

\subsection{LDAP\_getFreeIDs}
\textbf{Description:} Returns an array with free IDs of the selected type.\\
\textbf{Parameter:}
\begin{itemize}
\item type: "user" for user IDs
\item start: start ID to check if it's free
\item amount: the amount of IDs to return
\end{itemize}

\subsection{LDAP\_getFreeUserIDs}
\textbf{Description:} Returns an array with free user IDs of the selected type.\\
\textbf{Parameter:}
\begin{itemize}
\item start: start ID to check if it's free
\item amount: the amount of IDs to return
\end{itemize}

\subsection{LDAP\_getFreeGroupIDs}
\textbf{Description:} Returns an array with free group IDs of the selected type.\\
\textbf{Parameter:}
\begin{itemize}
\item start: start ID to check if it's free
\item amount: the amount of IDs to return
\end{itemize}

\subsection{LDAP\_matchLDAPserver}
\textbf{Description:} Searches for the name of a LDAP server and returns the name of the found server or false\\
\textbf{Parameter:}
\begin{itemize}
\item host: the IP or hostname of the LDAP server
\item base: the base DN (e.g. dc=m23, dc=de)
\end{itemize}

\newpage\section{./inc/m23shared/m23shared-raus.php}
 Author: Hauke Goos-Habermann (HHabermann@goos-habermann.de)\\
 Description: database functions, open, close the database, get ip of the calling client\\

\subsection{m23SHARED\_deleteBills}
\textbf{Description:} Deletes all bills.\\

\subsection{m23SHARED\_deleteUserdataFromDB}
\textbf{Description:} Deletes user data not needed for archiving purpose.\\

\subsection{m23SHARED\_isMarkedForDeletion}
\textbf{Description:} Checks if the current user is marked for deletion.\\
\textbf{Returns:}
\begin{itemize}
\item True, if the user should be deleted on the next call or false if not.
\end{itemize}

\subsection{m23SHARED\_markForDeletion}
\textbf{Description:} Marks the current user's data for deletion and disable his login.\\

\subsection{m23SHARED\_DBname}
\textbf{Description:} Generates a database name for m23 shared by input and salt.\\
\textbf{Parameter:}
\begin{itemize}
\item adminName: Name of the m23shared admin
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Database name.
\end{itemize}

\subsection{m23SHARED\_getDBnameByInterface}
\textbf{Description:} Calculates the database name for m23 shared by setting in the user interface\\
\textbf{Returns:}
\begin{itemize}
\item Database name or false if there is no user logged in.
\end{itemize}

\subsection{m23SHARED\_getDBnameByClient}
\textbf{Description:} Gets the database name for m23 shared as part of the client ID.\\
\textbf{Returns:}
\begin{itemize}
\item Database name or false if there is no DB name in the ID.
\end{itemize}

\subsection{m23SHARED\_init}
\textbf{Description:} Checks if a m23shared environment is present, sets the variables in the session and chooses the according DB.\\
\textbf{Returns:}
\begin{itemize}
\item True if an m23 m23shared environment is present, false on error or no m23shared.
\end{itemize}

\subsection{m23SHARED\_new}
\textbf{Description:} Adds a new m23shared user and creates a new DB.\\
\textbf{Parameter:}
\begin{itemize}
\item user: The name of the new user.
\item password: The according password.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item True if the creation was sucessfully, otherwise false.
\end{itemize}

\subsection{m23SHARED\_setLicense}
\textbf{Description:} Sets the maximum allowed amount of clients and the evaluation time in days.\\
\textbf{Parameter:}
\begin{itemize}
\item payType: Payment type (M23SHARED\_PAYTYPE\_EVAL, M23SHARED\_PAYTYPE\_PROFESSIONAL)
\item clientAmount: Amount of clients that can be manages with the license.
\item evaluationDays: Days for evaluation time.
\end{itemize}

\subsection{m23SHARED\_evaluationDaysLeft}
\textbf{Description:} Calculates how many days are left from evaluation period.\\
\textbf{Returns:}
\begin{itemize}
\item : Amount of days left (can be negative too if the evaluation time is over)
\end{itemize}

\subsection{m23SHARED\_evaluationEndDate}
\textbf{Description:} Generates a string with the end date and time in current selected language of the evaluation period.\\
\textbf{Returns:}
\begin{itemize}
\item : String with the end date and time in current selected language of the evaluation period.
\end{itemize}

\subsection{m23SHARED\_paidClients}
\textbf{Description:} Calculates and returns the amount of clients the customer has paid for.\\
\textbf{Returns:}
\begin{itemize}
\item : Amount of clients the customer has paid for.
\end{itemize}

\subsection{m23SHARED\_getCompleteClientName}
\textbf{Description:} Returns the complete name of a m23 shared client (\$\_SESSION variables need to be set).\\
\textbf{Parameter:}
\begin{itemize}
\item : clientName: Name of the client (if the value from the session should not/cannot be taken)
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : Client name of a m23 shared client (e.g. m23SrGH1ikdPZ8.test)
\end{itemize}

\subsection{m23SHARED\_getServerIP}
\textbf{Description:} Returns the FQDN of the m23shared server.\\
\textbf{Returns:}
\begin{itemize}
\item : FQDN of the m23shared server.
\end{itemize}

\subsection{m23SHARED\_getPayTypeArray}
\textbf{Description:} Returns an array with the nummeric pay types as index and the human readable translations as values.\\
\textbf{Parameter:}
\begin{itemize}
\item withoutEval: If set to true the evaluation entry will not be added.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : Array with assignment of nummeric pay types and human readable translations.
\end{itemize}

\subsection{m23SHARED\_getSalutationsArray}
\textbf{Description:} Returns an array with salutation forms.\\
\textbf{Returns:}
\begin{itemize}
\item : Array with gender character as key and localised salutation.
\end{itemize}

\subsection{m23SHARED\_getSalutationHeadline}
\textbf{Description:} Returns a saluation headline that can be used as beginning of an email.\\
\textbf{Returns:}
\begin{itemize}
\item : Salutation headline in current language.
\end{itemize}

\subsection{m23SHARED\_getPayTypeHumanReadable}
\textbf{Description:} Returns the license and payment type of the m23@web account as human readable string.\\
\textbf{Returns:}
\begin{itemize}
\item : Human readable string with license and payment type of the m23@web account.
\end{itemize}

\subsection{m23SHARED\_getMonthlyFee}
\textbf{Description:} Calculates the monthly fee with the given amount af paid clients.\\
\textbf{Returns:}
\begin{itemize}
\item : Monthly price.
\end{itemize}

\subsection{m23SHARED\_getCustomerEmail}
\textbf{Description:} Returns the eMail address of customer.\\
\textbf{Returns:}
\begin{itemize}
\item : eMail address of customer.
\end{itemize}

\subsection{m23SHARED\_setCustomerEmail}
\textbf{Description:} Sets the eMail address of customer.\\

\subsection{m23SHARED\_generateActivationKey}
\textbf{Description:} Calculates a random activation key and stores it into the DB.\\
\textbf{Returns:}
\begin{itemize}
\item : Random activation key.
\end{itemize}

\subsection{m23SHARED\_getActivationKey}
\textbf{Description:} Returns the activation key for this customer.\\
\textbf{Returns:}
\begin{itemize}
\item : Activation key.
\end{itemize}

\subsection{m23SHARED\_generateCustomerNumber}
\textbf{Description:} Calculates the customer number by current time and random value and stores it into the DB.\\
\textbf{Returns:}
\begin{itemize}
\item : Customer number.
\end{itemize}

\subsection{m23SHARED\_getCustomerNr}
\textbf{Description:} Returns the customer number for this customer.\\
\textbf{Returns:}
\begin{itemize}
\item : Customer number.
\end{itemize}

\subsection{m23SHARED\_activate}
\textbf{Description:} Activates a customer account identified by user and activation code, makes some checks if the data is correct and sends a welcome email.\\
\textbf{Parameter:}
\begin{itemize}
\item user: The user name of the customer.
\item code: The activation code for the account.
\end{itemize}

\subsection{m23SHARED\_setCustomerLanguage}
\textbf{Description:} Sets the language for this customer.\\
\textbf{Parameter:}
\begin{itemize}
\item lang: Language for the customer.
\end{itemize}

\subsection{m23SHARED\_getCustomerLanguage}
\textbf{Description:} Returns the language setting for this customer.\\
\textbf{Returns:}
\begin{itemize}
\item : Language for this customer.
\end{itemize}

\subsection{m23SHARED\_sendActivationMail}
\textbf{Description:} Prepares and sends the activation mail.\\
\textbf{Parameter:}
\begin{itemize}
\item eMail: eMail address of the new customer.
\item username: Username of the new customer.
\item lang: Language that should be used in the eMail.
\end{itemize}

\subsection{m23SHARED\_sendActivationMail}
\textbf{Description:} Prepares and sends the welcome mail.\\
\textbf{Parameter:}
\begin{itemize}
\item eMail: eMail address of the new customer.
\item username: Username of the new customer.
\item lang: Language that should be used in the eMail.
\end{itemize}

\subsection{m23SHARED\_setRealName}
\textbf{Description:} Sets the real name of the customer.\\
\textbf{Parameter:}
\begin{itemize}
\item name: Real name of the customer.
\end{itemize}

\subsection{m23SHARED\_getRealName}
\textbf{Description:} Returns the real name of the customer.\\
\textbf{Returns:}
\begin{itemize}
\item : Real name of the customer.
\end{itemize}

\subsection{m23SHARED\_changeClientAmount}
\textbf{Description:} Changes the amount of paid clients for the current customer.\\
\textbf{Parameter:}
\begin{itemize}
\item newClientAmount: The amount of clients, the customer wants to pay for.
\end{itemize}

\subsection{m23SHARED\_showBill}
\textbf{Description:} Shows the bill for a selected month.\\
\textbf{Parameter:}
\begin{itemize}
\item month: The month the bill should be generated.
\item year: The year of the bill.
\end{itemize}

\subsection{m23SHARED\_billDateSelection}
\textbf{Description:} Creates an HTML selection with valid billing months.\\
\textbf{Parameter:}
\begin{itemize}
\item htmlName: Name of the HTML selection.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The selected month and year.
\end{itemize}

\subsection{m23SHARED\_priceFormater}
\textbf{Description:} Formats a price with two digit decimal place.\\
\textbf{Parameter:}
\begin{itemize}
\item price: The price to format.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The formatted price.
\end{itemize}

\subsection{m23SHARED\_calculateBill}
\textbf{Description:} Calculates the bill for a choosen month in a selected year.\\
\textbf{Parameter:}
\begin{itemize}
\item month: Month to get the bill for.
\item year: Year to get the bill for.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Associative array with the bill data.
\end{itemize}

\subsection{m23SHARED\_getLicenseType}
\textbf{Description:} Returns the m23shared license of the current m23shared user.\\
\textbf{Returns:}
\begin{itemize}
\item License type as constant.
\end{itemize}

\subsection{m23SHARED\_sendAdminMail}
\textbf{Description:} Sends an GPG encrypted eMail to the admin.\\
\textbf{Parameter:}
\begin{itemize}
\item subject: The subject of the eMail.
\item text: The eMail message.
\end{itemize}

\subsection{m23SHARED\_getCurrentUser}
\textbf{Description:} Returns the current m23shared user.\\
\textbf{Returns:}
\begin{itemize}
\item Current m23shared user.
\end{itemize}

\subsection{m23SHARED\_changePasswordDialog}
\textbf{Description:} Tries to change the password for the current m23shared user and shows an error or sucess message. Both of the entered passwords must be identically.\\
\textbf{Parameter:}
\begin{itemize}
\item pwd1: The password.
\item pwd2: The retyped password.
\end{itemize}

\subsection{m23SHARED\_changePasswordDialog}
\textbf{Description:} Tries to change the eMail for the current m23shared user and shows an error or sucess message.\\
\textbf{Parameter:}
\begin{itemize}
\item email: New eMail address.
\end{itemize}

\subsection{m23SHARED\_getBillDates}
\textbf{Description:} Returns an array filled with all month and years where bills are present.\\
\textbf{Returns:}
\begin{itemize}
\item Associative array with all month and years where bills are present as array name and value.
\end{itemize}

\subsection{m23SHARED\_downloadBillPDFLink}
\textbf{Description:} Generates a HTML link that points to the script that generates the bill for a given monath and year.\\
\textbf{Parameter:}
\begin{itemize}
\item month: Month to get the bill for.
\item year: Year to get the bill for.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : HTML link to the bill PDF.
\end{itemize}

\subsection{m23SHARED\_getCustomerAddress}
\textbf{Description:} Returns HTML formatted address information for the current customer.\\
\textbf{Returns:}
\begin{itemize}
\item Address information for the current customer.
\end{itemize}

\subsection{m23SHARED\_getCustomerBankHTML}
\textbf{Description:} Returns HTML formatted bank account information for the current customer.\\
\textbf{Returns:}
\begin{itemize}
\item Bank account information for the current customer.
\end{itemize}

\subsection{m23SHARED\_pdfBill}
\textbf{Description:} Generates a bill in PDF format for a choosen month in a selected year.\\
\textbf{Parameter:}
\begin{itemize}
\item month: Month to get the bill for.
\item year: Year to get the bill for.
\end{itemize}

\subsection{m23SHARED\_setBankAccount}
\textbf{Description:} Sets bank account information for the current customer.\\
\textbf{Parameter:}
\begin{itemize}
\item bankAccountHolder: Name of the account holder.
\item bank: Name of the bank.
\item accountNumber: The number of the bank account.
\item bankCode: The bank code number.
\end{itemize}

\subsection{m23SHARED\_setAddress}
\textbf{Description:} Sets address information for the current customer.\\
\textbf{Parameter:}
\begin{itemize}
\item resident: The name of the resident or his company.
\item postCode: Postcode.
\item city: City.
\item street: Street.
\item houseNumber: House number.
\end{itemize}

\subsection{m23SHARED\_unusedPaidClientsAvailable}
\textbf{Description:} Checks if there are unused paid clients and shows an error message if not.\\
\textbf{Returns:}
\begin{itemize}
\item : true if there are unused clients, false otherwise.
\end{itemize}

\subsection{m23SHARED\_showLicenseDialog}
\textbf{Description:} Shows a dialog for viewing and changing the license and paid client amount.\\

\subsection{m23SHARED\_getAllm23sharedUsers}
\textbf{Description:} Gets all m23shared users.\\
\textbf{Parameter:}
\begin{itemize}
\item onlyWithBillTable: If set to true, only m23shared users with existing bill table will be returned.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : Array with all m23 shared users.
\end{itemize}

\subsection{m23SHARED\_switchUser}
\textbf{Description:} Changes the current m23shared user.\\

\subsection{m23SHARED\_prepareBillMailSending}
\textbf{Description:} Prepares the bill mail sending queue.\\
\textbf{Parameter:}
\begin{itemize}
\item month: Month to mail the bill for.
\item year: Year to mail the bill for.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Array with all users that have bill mails to send.
\end{itemize}

\subsection{m23SHARED\_markBillMailAsSent}
\textbf{Description:} Marks a bill mail as sent.\\
\textbf{Parameter:}
\begin{itemize}
\item month: Month to mail the bill for.
\item year: Year to mail the bill for.
\item user: DB name of the customer.
\end{itemize}

\subsection{m23SHARED\_sendAllBillMails}
\textbf{Description:} Sends the bills of all users from the previous month as PDF attachement. This should be run at the beginning of a month.\\

\subsection{m23SHARED\_addExtraBill}
\textbf{Description:} Adds an extra entry to the bill.\\
\textbf{Parameter:}
\begin{itemize}
\item amount: Amount of good.
\item description: Description of the good.
\item unitprice: Price per unit.
\end{itemize}

\subsection{m23SHARED\_showDonationDialog}
\textbf{Description:} Shows a dialog where the user can donate to the m23 project.\\

\subsection{m23SHARED\_showBootMediaDownloadDialog}
\textbf{Description:} Shows a dialog with download icons for the different boot media.\\

\subsection{m23SHARED\_allUserDBQuery}
\textbf{Description:} Executes an SQL query on all m23shared databases and returns an associated array with all results.\\
\textbf{Parameter:}
\begin{itemize}
\item sqlIN: The input query string that MUST include m23SHAREDDB as placeholder for the current m23shared DB name.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Associated array with the query result of all m23shared DBs.
\end{itemize}

\subsection{m23SHARED\_getUserByResident}
\textbf{Description:} Gets the user name of m23shared customer by the resident name.\\
\textbf{Parameter:}
\begin{itemize}
\item resident: Resident name of the customer.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item m23shared user name for the searched customer or empty string if none was found.
\end{itemize}

\subsection{m23SHARED\_getUserByCustomerNr}
\textbf{Description:} Gets the user name of m23shared customer by the customer number.\\
\textbf{Parameter:}
\begin{itemize}
\item customerNr: Customer number of the m23shared customer.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item m23shared user name for the searched customer or empty string if none was found.
\end{itemize}

\subsection{m23SHARED\_getUserByInfo}
\textbf{Description:} Gets the user name of m23shared customer by searching all m23shared DBs for var and value in the remotevar table.\\
\textbf{Parameter:}
\begin{itemize}
\item remotevarVar: Variable name to search in the remotevar table.
\item remotevarValue: Value to search in the remotevar table.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item m23shared user name for the searched customer or empty string if none was found.
\end{itemize}

\subsection{m23SHARED\_showAdminDialog}
\textbf{Description:} Shows a dialog for the admin to search users for and change values.\\

\subsection{m23SHARED\_blockAccount}
\textbf{Description:} Blocks or unblocks an account.\\
\textbf{Parameter:}
\begin{itemize}
\item block: Set to true blocks, false unblocks.
\end{itemize}

\subsection{m23SHARED\_isAccountBlocked}
\textbf{Description:} Checks if an account is blocked.\\
\textbf{Returns:}
\begin{itemize}
\item : True if the account is blocked, false if not.
\end{itemize}

\subsection{m23SHARED\_showAddExtraBillDialog}
\textbf{Description:} Shows a dialog for adding extra entries to the bill.\\

\subsection{m23SHARED\_showBillDialog}
\textbf{Description:} Shows a dialog for viewing and choosing the bill.\\

\subsection{m23SHARED\_showPriceListTable}
\textbf{Description:} Shows a table with the price list.\\

\subsection{m23SHARED\_getInformationForBootingYourClientLink}
\textbf{Description:} Generates a link to the help page information for booting the client.\\
\textbf{Parameter:}
\begin{itemize}
\item : client: Name of the client (if the value from the session should not/cannot be taken)
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Link to the help page information for booting the client.
\end{itemize}

\newpage\section{./inc/mail.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: Functions for sending mails.\\

\subsection{MAIL\_getKeyFromeMailAddress}
\textbf{Description:} Generates an MD5 key from an eMail address.\\
\textbf{Parameter:}
\begin{itemize}
\item eMail: eMail to use as input for the hashing.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Key generated from the eMail.
\end{itemize}

\subsection{MAIL\_AESencode}
\textbf{Description:} AES encryptes a message with a key.\\
\textbf{Parameter:}
\begin{itemize}
\item key: The passphrase to encode the message with.
\item text: The message to encode.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The encrypted message.
\end{itemize}

\subsection{MAIL\_AESDecode}
\textbf{Description:} AES decryptes a crypted message with a key.\\
\textbf{Parameter:}
\begin{itemize}
\item key: The passphrase to encode the message with.
\item cText: The crypted message to decode.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The decrypted message.
\end{itemize}

\subsection{MAIL\_sendAESMail}
\textbf{Description:} Sends an AES encrypted eMail to a crypt mail gateway.\\
\textbf{Parameter:}
\begin{itemize}
\item eMail: eMail address of the recipient.
\item subject: The subject of the eMail.
\item text: The eMail message.
\end{itemize}

\subsection{MAIL\_attach}
\textbf{Description:} Attaches a file to the message body of the mail and changes the mail header.\\
\textbf{Parameter:}
\begin{itemize}
\item file: The file with full path to attact.
\item header: The original header that will be modified.
\item message: The text message.
\item fileName: Alternate file name for the attacement as it should be seen by the eMail client.
\end{itemize}

\subsection{MAIL\_getHeader}
\textbf{Description:} Generates a mail header with sender and reply-to field, mail software and a BCC to send a copy to the admin.\\
\textbf{Parameter:}
\begin{itemize}
\item from: The sender's eMail address
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : Complete mail header.
\end{itemize}

\subsection{MAIL\_gpgSignDetached}
\textbf{Description:} Creates a detached signature file for a given private GPG key ID and input file.\\
\textbf{Parameter:}
\begin{itemize}
\item gpgID: ID of the private GPG key.
\item inFile: The file to create a signature for.
\item outFile: The file with the detached signature.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : true, if the signature file was created and the input file exists, otherwise false.
\end{itemize}

\subsection{MAIL\_gpgSignClear}
\textbf{Description:} Creates a clear text signature file for a given private GPG key ID and input file.\\
\textbf{Parameter:}
\begin{itemize}
\item gpgID: ID of the private GPG key.
\item inFile: The file to create a signature for.
\item outFile: The file with the detached signature.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : true, if the signature file was created and the input file exists, otherwise false.
\end{itemize}

\subsection{MAIL\_gpgSign}
\textbf{Description:} Creates a signature file for a given private GPG key ID and input file with GPG parameters.\\
\textbf{Parameter:}
\begin{itemize}
\item gpgID: ID of the private GPG key.
\item inFile: The file to create a signature for.
\item outFile: The file with the detached signature.
\item gpgParams: GPG parameters to specify the type of the signature.
\item user: The owner of the output file.
\item mode: The file mode of the output file.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : true, if the signature file was created and the input file exists, otherwise false.
\end{itemize}

\subsection{MAIL\_gpgGettKey}
\textbf{Description:} Gets the public GPG key as ASCII.\\
\textbf{Parameter:}
\begin{itemize}
\item gpgID: ID of the public GPG key.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : false, if there is no public GPG key for the given GPG ID.
\end{itemize}

\subsection{MAIL\_gpgCheckKey}
\textbf{Description:} Checks, if a GPG key ID has a valid private or public key.\\
\textbf{Parameter:}
\begin{itemize}
\item gpgID: ID of the private GPG key.
\item privateKey: If set to true, the validity as private key is checked.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : true, if the GPG key is valid.
\end{itemize}

\subsection{MAIL\_gpgMail}
\textbf{Description:} Encrypts a message with GPG for a given eMail address.\\
\textbf{Parameter:}
\begin{itemize}
\item message: The message text to encrypt.
\item eMail: The eMail address to search the GPG key for and to encrypt to.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : Encrypted message or false if there were errors.
\end{itemize}

\subsection{MAIL\_getGpgKeyList}
\textbf{Description:} Gets the list of known GPG keys/identities.\\
\textbf{Parameter:}
\begin{itemize}
\item listSecretKeys: If set to true, available secret keys are listed.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : Associative array with key ID as key and the identity with the key information as value.
\end{itemize}

\subsection{MAIL\_importGPGKey}
\textbf{Description:} Imports an GPG key into the bunch of GPG keys.\\
\textbf{Returns:}
\begin{itemize}
\item : True on sucess otherwise false.
\end{itemize}

\subsection{MAIL\_deleteGPGKey}
\textbf{Description:} Deletes an GPG key from the bunch of GPG keys.\\
\textbf{Parameter:}
\begin{itemize}
\item keyID: The ID of the GPG key to delete.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : True on sucess otherwise false.
\end{itemize}

\subsection{MAIL\_manageGPGKeysDialog}
\textbf{Description:} Shows a dialog for importing and deleting GPG keys.\\

\subsection{MAIL\_sendMail}
\textbf{Description:} Sends a mail, that may be GPG encrypted and contain an attachement via the cryptmail gateway.\\
\textbf{Parameter:}
\begin{itemize}
\item eMail: eMail address of the recipient.
\item message: The message text.
\item subject: The subject of the eMail.
\item file: The file name (with full path) to attach or empty if no file should be attached.
\item from: The sender's email address.
\end{itemize}

\subsection{MAIL\_cryptMailServer}
\textbf{Description:} Server part for sending AES mails.\\

\newpage\section{./inc/massTools.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: routines for mass installations\\

\subsection{MASS\_EGKradioBoxes}
\textbf{Description:} Generates HTML code for showing 3 elements, that can be each a "radio button", selection "disabled" or "always selected".\\
\textbf{Parameter:}
\begin{itemize}
\item RB\_name: name of the radio button
\item arr: array with 3 values for [Enter,Generate,Keep]. Setting a value to "e" means that the user can select, "n" selection is disabled, "y" is always select.
\item checkNr: the number of radio button that is enabled by default.
\end{itemize}

\subsection{MASS\_FHradioBoxes}
\textbf{Description:} Generates HTML code for showing 2 radio buttons for selecting file or handy source \\
\textbf{Parameter:}
\begin{itemize}
\item RB\_name: name of the radio button
\item checkNr: the number of radio button that is enabled by default.
\end{itemize}

\subsection{MASS\_showFileHandDialog}
\textbf{Description:} shows a dialog for selecting "by file" or "by hand" for the "enter" properties.\\
\textbf{Parameter:}
\begin{itemize}
\item EGKparams: enter generate keep parameters, that hold information about handling of the properties
\end{itemize}

\subsection{MASS\_propertyKeys}
\textbf{Description:} returns the keys for all properties\\

\subsection{MASS\_showFileFormatDialog}
\textbf{Description:} shows a dialog that lets the user select a DB file and assign the columns to the fields of the file\\
\textbf{Parameter:}
\begin{itemize}
\item EGKparams: enter generate keep parameters, that hold information about handling of the properties
\end{itemize}

\subsection{MASS\_keyToI18N}
\textbf{Description:} converts the property names to I18N names\\
\textbf{Parameter:}
\begin{itemize}
\item key: property name
\end{itemize}

\subsection{MASS\_I18NTokey}
\textbf{Description:} converts the I18N names to property names\\
\textbf{Parameter:}
\begin{itemize}
\item key: property name
\end{itemize}

\subsection{MASS\_showTableDefinition}
\textbf{Description:} shows a dialog that lets the user define which field in the DB file should be assigned to which property\\
\textbf{Parameter:}
\begin{itemize}
\item EGKparams: enter generate keep parameters, that hold information about handling of the properties
\item DBfileName: file name of the DB file
\end{itemize}

\subsection{MASS\_checkAndSaveFields}
\textbf{Description:} saved the assignments from field number to property and other information to EGKparams and performes a simple check, to verify that the values of the properties are valuable. An error message is returned or an empty string, if all is ok.\\
\textbf{Parameter:}
\begin{itemize}
\item EGKparams: enter generate keep parameters, that hold information about handling of the properties
\end{itemize}

\subsection{MASS\_openDBFile}
\textbf{Description:} opens a DB file\\
\textbf{Parameter:}
\begin{itemize}
\item fileName: name of the DB file
\end{itemize}

\subsection{MASS\_readDBFile}
\textbf{Description:} reads a line from the DB file and returnes an associated array with the properties as key and the fields of the file as values.\\
\textbf{Parameter:}
\begin{itemize}
\item fileName: name of the DB file
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Associative array with the values of the DB line or false, if the line was empty.
\end{itemize}

\subsection{MASS\_readDBFileRaw}
\textbf{Description:} reads a line from the DB file and returnes the fields splitted to a normal array.\\
\textbf{Parameter:}
\begin{itemize}
\item file: file pointer
\item glue: the seperator used to seperate the fields
\end{itemize}

\subsection{MASS\_closeDBFile}
\textbf{Description:} closes the DB file.\\
\textbf{Parameter:}
\begin{itemize}
\item file: file pointer
\end{itemize}

\subsection{MASS\_getXProperties}
\textbf{Description:} returnes the amount and keys of a secial kind (enter, generate, keep, hand, file)\\
\textbf{Parameter:}
\begin{itemize}
\item EGKparams: enter generate keep parameters, that hold information about handling of the properties
\item x: the 1-letter code of enter, generate, keep, hand or file
\item pre: set if there is a prefix before the key name
\end{itemize}

\subsection{MASS\_showGeneratorOptions}
\textbf{Description:} shows the dialog for configuring the generator options\\
\textbf{Parameter:}
\begin{itemize}
\item EGKparams: enter generate keep parameters, that hold information about handling of the properties
\end{itemize}

\subsection{MASS\_passGenerator}
\textbf{Description:} generates the selected amount of passwords with a random algorithm or the pwgen tool.\\
\textbf{Parameter:}
\begin{itemize}
\item length: length of the passwords to generate
\item method: random or pwgen generated passwords that can be memorized by humans easily
\item amount: the amount of passwords to generate
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Array with the generated passwords as keys.
\end{itemize}

\subsection{MASS\_loginGenerator}
\textbf{Description:} generates the selected amount of logins\\
\textbf{Parameter:}
\begin{itemize}
\item base: the base name of the login
\item start: start number for incremental logins
\item forenames: array with all forenames
\item familynames: array with all familynames
\item type: "incremental" if you want to add a incrementing number after the base name, "ForeFamilyName" if the logins should be created from fore- and familynames
\item amount: the amount of logins to generate
\end{itemize}

\subsection{MASS\_ipGenerator}
\textbf{Description:} generates the selected amount of IPs in the selected ranges. Only IPs are generated that aren't in use by m23 or (if activated) pingable.\\
\textbf{Parameter:}
\begin{itemize}
\item amount: the amount of IPs to generate
\item rangeStr: string with IP range information
\item ping: set to true, if each IP should be pinged before it becomes valid
\end{itemize}

\subsection{MASS\_minMaxIP}
\textbf{Description:} calculates the possible minimum and maximum IP of a given netmask. The IPs are returned as an array: index 0 = minimum; index 1 = maximum.\\
\textbf{Parameter:}
\begin{itemize}
\item netmask: netmask to use
\item ip: is used if the can only be set the current part of the ip (max and min ip part == 255)
\end{itemize}

\subsection{MASS\_generateNetmask}
\textbf{Description:} generate netmasks from ip addresses via network class definitions.\\
\textbf{Parameter:}
\begin{itemize}
\item ip: the ip that shoulb be used to calculate the netmask
\end{itemize}

\subsection{MASS\_generateClientNames}
\textbf{Description:} generates client names through appending of numbers.\\
\textbf{Parameter:}
\begin{itemize}
\item base: the client base name
\item start: the start number
\item amount: the amount of client names to generate
\end{itemize}

\subsection{MASS\_saveGeneratorOptions}
\textbf{Description:} saves all geneator options to EGKparams\\
\textbf{Parameter:}
\begin{itemize}
\item EGKparams: enter generate keep parameters, that hold information about handling of the properties
\end{itemize}

\subsection{MASS\_showOverview}
\textbf{Description:} shows a table with all generated client settings, that can be edited\\
\textbf{Parameter:}
\begin{itemize}
\item EGKparams: enter generate keep parameters, that hold information about handling of the properties
\end{itemize}

\subsection{MASS\_getAllFromFile}
\textbf{Description:} returnes all values from one key of the DB file as an array.\\
\textbf{Parameter:}
\begin{itemize}
\item key: the key of the property
\item generateAmount: the amount of values to be read from the DB file
\item EGKparams: enter generate keep parameters, that hold information about handling of the properties
\item fromDBFile: 2D array filled with the values for the keys
\end{itemize}

\subsection{MASS\_getLongestLength}
\textbf{Description:} returnes the length of the longest entry in the array or max if bigger than max\\
\textbf{Parameter:}
\begin{itemize}
\item arr: the array
\item amount: the amount of entries in the array
\item max: maximal value to be returned
\end{itemize}

\subsection{MASS\_startInstall}
\textbf{Description:} starts the installation of all client with all paramaters defined in the table\\
\textbf{Parameter:}
\begin{itemize}
\item EGKparams: enter generate keep parameters, that hold information about handling of the properties
\end{itemize}

\newpage\section{./inc/menu.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: functions for menus\\

\subsection{MENU\_showEntry}
\textbf{Description:} generates a menu entry, highlights it (if selected) and removes menu entry formatting tags from the menu entry label\\
\textbf{Parameter:}
\begin{itemize}
\item text: label of the menu entry
\item link: link to the page
\item icon: directory and name of the icon to show in front of the entry
\end{itemize}

\subsection{MENU\_startGroup}
\textbf{Description:} shows the start of a menu group\\
\textbf{Parameter:}
\begin{itemize}
\item name: name of the menu group
\end{itemize}

\subsection{MENU\_endGroup}
\textbf{Description:} shows the end of a menu group\\

\newpage\section{./inc/message.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: function to show an info box\\

\subsection{MSG\_showMessageBoxPlaceholder}
\textbf{Description:} Shows a placeholder for message boxes at the position of execution.\\

\subsection{MSG\_placeOrReturnMessageBox}
\textbf{Description:} Replaces a (maybe) existing message box placeholder with the given text.\\
\textbf{Parameter:}
\begin{itemize}
\item text: Message to embed in the placeholder.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Empty string, if the text could be inserted into the existing placeholder or the message, if no placeholder was found.
\end{itemize}

\subsection{MSG\_getm23UpdateFeed}
\textbf{Description:} Shows the m23 server update feed.\\
\textbf{Parameter:}
\begin{itemize}
\item width: Width of the box
\item refreshTime: The time in minutes the file is downloaded again.
\end{itemize}

\subsection{MSG\_getm23DevelopmentBlog}
\textbf{Description:} Shows the m23 development blog.\\
\textbf{Parameter:}
\begin{itemize}
\item width: Width of the box
\item refreshTime: The time in minutes the file is downloaded again.
\end{itemize}

\subsection{MSG\_getRSSFeed}
\textbf{Description:} Shows a RSS feed.\\
\textbf{Parameter:}
\begin{itemize}
\item url: The URL pointing to the RSS XML file.
\item tableType: Name of the CSS table type
\item width: Width of the box
\item storeFile: The file name to store the download in.
\item refreshTime: The time in minutes the file is downloaded again.
\end{itemize}

\subsection{MSG\_showInfo}
\textbf{Description:} Shows the help block for the online help.\\
\textbf{Parameter:}
\begin{itemize}
\item message: the text for the info message
\item language: two character language description (e.g. de, en, fr,...)
\item width: width of the box
\end{itemize}

\subsection{MSG\_showError}
\textbf{Description:} Shows the error block for the error messages.\\
\textbf{Parameter:}
\begin{itemize}
\item message: the text for the info message
\item language: two character language description (e.g. de, en, fr,...)
\item width: width of the box
\end{itemize}

\subsection{MSG\_showEmergencyError}
\textbf{Description:} Shows the ermergency error message with a JavaScript "back" button and stops the script afterwards.\\
\textbf{Parameter:}
\begin{itemize}
\item message: the text for the info message
\item language: two character language description (e.g. de, en, fr,...)
\item width: width of the box
\end{itemize}

\subsection{MSG\_showWarning}
\textbf{Description:} Shows the warning block for the warning messages.\\
\textbf{Parameter:}
\begin{itemize}
\item message: the text for the info message
\item language: two character language description (e.g. de, en, fr,...)
\item width: width of the box
\end{itemize}

\subsection{MSG\_show}
\textbf{Description:} Shows the message block for the messages.\\
\textbf{Parameter:}
\begin{itemize}
\item message: the text for the info message
\item language: two character language description (e.g. de, en, fr,...)
\item width: width of the box
\item urgency: type of message (e.g. errortable, warningtable, infotable)
\end{itemize}

\subsection{MSG\_showMessageBoxHeader}
\textbf{Description:} shows the header of the message block for the online help\\
\textbf{Parameter:}
\begin{itemize}
\item tableType: name of the CSS table type
\item type: the heading of the box
\item width: width of the box
\item dontShowButReturn: Set to true if the HTML output should be returned rather than show.
\end{itemize}

\subsection{MSG\_showMessageBoxFooter}
\textbf{Description:} shows the footer of the message block for the online help\\
\textbf{Parameter:}
\begin{itemize}
\item dontShowButReturn: Set to true if the HTML output should be returned rather than show.
\end{itemize}

\subsection{MSG\_showMessageBox}
\textbf{Description:} shows the message block for the online help\\
\textbf{Parameter:}
\begin{itemize}
\item message: the text for the info message
\item tableType: name of the CSS table type
\item type: the heading of the box
\item width: width of the box
\item dontShowButReturn: Set to true if the HTML output should be returned rather than show.
\end{itemize}

\subsection{MSG\_showUpdateInfo}
\textbf{Description:} shows a info message about the stored update jobs\\
\textbf{Parameter:}
\begin{itemize}
\item unr: the amount of update jobs and clients
\item language: two character language description (e.g. de, en, fr,...)
\end{itemize}

\subsection{MSG\_showUpdateInfo}
\textbf{Description:} shows a info message about stored jobs on N clients\\
\textbf{Parameter:}
\begin{itemize}
\item jobNr: the amount of jobs
\item clNr: the amount of clients
\item language: two character language description (e.g. de, en, fr,...)
\end{itemize}

\subsection{MSG\_showNewFeature}
\textbf{Description:} shows the new feature block\\
\textbf{Parameter:}
\begin{itemize}
\item url: the url to the forum for the new feature
\item language: two character language description (e.g. de, en, fr,...)
\item width: width of the box
\end{itemize}

\subsection{MSG\_DeActivateBlogDialog}
\textbf{Description:} Creates a dialog to en/disable a blog. The displaying state is written to the DB.\\
\textbf{Parameter:}
\begin{itemize}
\item blogVarName: Variable name of the blog to store in the DB.
\item css: Name of the CSS class to color the dialog.
\item blogName: Name of the blog als human readle heading.
\item width: Width of the box containing the switch dialog.
\item dialogCode: The HTML code of the dialog element is written to this variable.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : True if the blog should be shown otherwise false.
\end{itemize}

\newpage\section{./inc/messageReceive.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: Functions for handling messages sent by m23 clients.\\

\subsection{MSR\_decodeMessage}
\textbf{Description:} checks the type of the message and cals the right procedure\\

\subsection{MSR\_curDynIPCommand}
\textbf{Description:} Generates the commands to transfer the current dynamic IP of the m23 client to the server.\\
\textbf{Parameter:}
\begin{itemize}
\item return: true, if the commands should be returned, false when shown.
\end{itemize}

\subsection{MSR\_buildPoolFromClientDebsCMD}
\textbf{Description:} Generates the commands to start the process for building a CPoolFromClientDebsGUI object and to start the download of the packages from the client to the server and the creation of the pool.\\

\subsection{MSR\_buildPoolFromClientDebs}
\textbf{Description:} Builds a CPoolFromClientDebsGUI object and starts the download of the packages from the client to the server and the creation of the pool.\\

\subsection{MSR\_statusBarInc}
\textbf{Description:} Increments the status bar percent by a given amount for the current client and for the "installStatus" status bar.\\
\textbf{Parameter:}
\begin{itemize}
\item percent: Percent value of the current job.
\end{itemize}

\subsection{MSR\_statusBarIncCommand}
\textbf{Description:} Command to increment the status bar percent by a given amount for the current client and for the "installStatus" status bar.\\
\textbf{Parameter:}
\begin{itemize}
\item percent: Percent value of the current job.
\end{itemize}

\subsection{MSR\_statusBarCommand}
\textbf{Description:} Command to set a new percent value and/or new status text for the current client and for the "installStatus" status bar.\\
\textbf{Parameter:}
\begin{itemize}
\item percent: Percent value to write into the DB (may be false, if it should not be changed).
\item statustext: A text message that should be shown under the status bar and written to the DB (may be false, if it should not be changed).
\end{itemize}

\subsection{MSR\_genericSendCommand}
\textbf{Description:} Generates a generic command for sending information from the client to the server.\\
\textbf{Parameter:}
\begin{itemize}
\item type: Type of the message understood by MSR\_decodeMessage
\item params: Parameters to send with POST to the server in the form of "var1=val1\&var2=val2\&var3=val3..."
\item wgetParams: Extra parameters for wget.
\end{itemize}

\subsection{MSR\_statusBar}
\textbf{Description:} Sets new percent value and/or new status text.\\
\textbf{Parameter:}
\begin{itemize}
\item percent: Percent value to write into the DB (may be empty, if it should not be changed).
\item statustext: A text message that should be shown under the status bar and written to the DB (may be empty, if it should not be changed).
\end{itemize}

\subsection{MSR\_curDynIP}
\textbf{Description:} Sets the current IP of a client with dynamic IP.\\
\textbf{Parameter:}
\begin{itemize}
\item curIP: The current IP.
\end{itemize}

\subsection{MSR\_copyClientPackageStatus}
\textbf{Description:} Writes a sent full or difference package status file to the correct directory.\\
\textbf{Parameter:}
\begin{itemize}
\item diffType: "full" for a complete copy of the file and "diff" for a difference copy.
\end{itemize}

\subsection{MSR\_importDiffFile}
\textbf{Description:} Writes a sent full or difference file to the destination.\\
\textbf{Parameter:}
\begin{itemize}
\item outFile: The file name (with full path) on the server to store the file.
\item diffType: "full" for a complete copy of the file and "diff" for a difference copy.
\end{itemize}

\subsection{MSR\_CommandCopyClientPackageStatus}
\textbf{Description:} Generates commands to transfer the package status file from the client to the server.\\

\subsection{MSR\_copyDiffFileFromClient}
\textbf{Description:} Sends a file from the client to the server and tries to send only the changes towards an existing file on the server.\\
\textbf{Parameter:}
\begin{itemize}
\item clientFile: Name of the file on client side (with full path)
\item serverFile: Name of the file on server side (with full path)
\item type: Type of the message understood by MSR\_decodeMessage (extended by the type of transfer XXXfull or XXXdiff)
\end{itemize}

\subsection{MSR\_markm23normalAsDone}
\textbf{Description:} Marks comming m23normal install jobs as done if the packages they would install are already installed. This may happen when a package with dependencies is installed.\\
\textbf{Parameter:}
\begin{itemize}
\item \$\_POST['data']: List of new installed packages.
\end{itemize}

\subsection{MSR\_decodeClientSideBase64}
\textbf{Description:} Decodes the slightly modificated base64 input stream created from MSR\_clientSideBase64Encode.\\
\textbf{Parameter:}
\begin{itemize}
\item in: Base64 encoded input string.
\item md5: md5 sum of the original input file.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Decoded (maybe binary) string.
\end{itemize}

\subsection{MSR\_clientSideBase64Encode}
\textbf{Description:} Encodes a given file to (a slighly different, + is converted to - for sending it as post variable via wget) base64 format and appends the output to statusdata.post. There are three methods for generating the base64 output. First and second the native uuencode and base64 tools that are very fast and third a plattform idependent implementation of base64 encode in AWK taken from the HylaFAX package.\\
\textbf{Parameter:}
\begin{itemize}
\item fileName: name of the file
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Commands for encoding the file.
\end{itemize}

\subsection{MSR\_genSendBinayFileCommand}
\textbf{Description:} Sends a binary file to postMessage.php. In contrast to MSR\_genSendCommand MSR\_genSendBinayFileCommand is binary safe.\\
\textbf{Parameter:}
\begin{itemize}
\item fileName: Name of the file
\item type: Type of the message understood by MSR\_decodeMessage
\end{itemize}

\subsection{MSR\_m23ImagerMBR}
\textbf{Description:} Saves the received master boot record to a file after cecking the MD5.\\

\subsection{MSR\_m23ImagerSize}
\textbf{Description:} Sets the size of the decompressed image in its file name.\\

\subsection{MSR\_getm23clientIDCMD}
\textbf{Description:} returns the BASH code for storing the m23clientID in the BASH variable "varid"\\
\textbf{Parameter:}
\begin{itemize}
\item addChar: is the 
\end{itemize}

\subsection{MSR\_importPackageStatus}
\textbf{Description:} imports the data from a package status message to the database. pNr=package, vNr=version, sNr=status\\

\subsection{MSR\_importLog}
\textbf{Description:} reads log data from the post data and store it in the DB\\

\subsection{MSR\_logCommand}
\textbf{Description:} generates BASH code to send a log file to the server\\
\textbf{Parameter:}
\begin{itemize}
\item logFile: name of the logfile
\item show: If set to true, the output is shown directly, if set to false, it is returned.
\end{itemize}

\subsection{MSR\_statusFileCommand}
\textbf{Description:} generates the commands to send the package infos and package status file\\

\subsection{MSR\_importStatusFile}
\textbf{Description:} reads status file data from the post data and store it under /m23/var/cache/clients/clientName/packageStatus\\

\subsection{MSR\_genSendCommand}
\textbf{Description:} sends file to postMessage.php\\
\textbf{Parameter:}
\begin{itemize}
\item fileName: name of the file
\item type: type of the message understood by MSR\_decodeMessage
\item show: If set to true, the output is shown directly, if set to false, it is returned.
\end{itemize}

\subsection{MSR\_clientChangeCommand}
\textbf{Description:} sends the ID of a "m23changeClient" job to the server.\\
\textbf{Parameter:}
\begin{itemize}
\item id: the ID of the client job
\end{itemize}

\subsection{MSR\_clientChange}
\textbf{Description:} executes changes of a "m23changeClient" job on the server.\\

\subsection{MSR\_partHwDataCommand}
\textbf{Description:} generates the commands to send partition and hardware info\\

\subsection{MSR\_importPartHwData}
\textbf{Description:} imports partition and hardware information\\

\subsection{MSR\_getClientSettingsCommand}
\textbf{Description:} Generates a script to gather network, release, distribution, login, LDAP, NFS and kernel informations for client import on the client\\

\subsection{MSR\_clientSettings}
\textbf{Description:} Imports the clients settings\\

\subsection{MSR\_setOnline}
\textbf{Description:} Sets the online-state of a client.\\
\textbf{Parameter:}
\begin{itemize}
\item online: The new online-state.
\end{itemize}

\subsection{MSR\_addMonitor}
\textbf{Parameter:}
\begin{itemize}
\item vendor: The vendor of the monitor
\item model: The model of the monitor
\item edid: The monitor information
\end{itemize}

\subsection{MSR\_listMonitors}
\textbf{Returns:}
\begin{itemize}
\item list of monitors
\end{itemize}

\newpage\section{./inc/packageBuilder.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: Functions for building pools.\\

\subsection{PKGBUILDER\_showDialog}
\textbf{Description:} Shows a dialog for creating Debian packages from archives.\\

\subsection{PKGBUILDER\_showKeySelectionDialog}
\textbf{Description:} Shows a dialog for choosing the GPG signing key for the extra packages.\\

\subsection{PKGBUILDER\_showUploadDialog}
\textbf{Description:} Shows a dialog for uploading the tar files with checking of the file extension.\\

\subsection{PKGBUILDER\_listFiles}
\textbf{Description:} Shows a dialog of all files in EXTRA\_DEBS\_DIRECTORY with possibillity to create Debian packages from tar files and to delete files.\\

\subsection{array\_keysSearch}
\textbf{Description:} Searches for a key in an associative array that matches a regular expression.\\
\textbf{Parameter:}
\begin{itemize}
\item array: Array to search in.
\item expr: Regular expression for searching the keys (e.g. "/^BUT\_action/").
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : The first found key that matches the expression or false if no matching key was found.
\end{itemize}

\subsection{PKGBUILDER\_tar2deb}
\textbf{Description:} Converts a tar file (with bzip2 or gzip compression) into a Debian package.\\
\textbf{Parameter:}
\begin{itemize}
\item tarFile: Name of the tar file to convert or "false" if only the package index should be updated.
\end{itemize}

\newpage\section{./inc/packages.php}
Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
Description: basic package operations (search, add,...)\\

\subsection{PKG\_addHSUser}
\textbf{Description:} Adds a job for creating an user on a halfSister client.\\
\textbf{Parameter:}
\begin{itemize}
\item client: Name of the client.
\item login: Login name of the new user.
\item firstpw: Password for the new user.
\item uid: Optional user ID of the new user.
\item gid: Optional group ID of the new user.
\end{itemize}

\subsection{PKG\_addUbuntuUser}
\textbf{Description:} Adds a job for creating an user on a Ubuntu client.\\
\textbf{Parameter:}
\begin{itemize}
\item client: Name of the client.
\item login: Login name of the new user.
\item firstpw: Password for the new user.
\item uid: Optional user ID of the new user.
\item gid: Optional group ID of the new user.
\end{itemize}

\subsection{PKG\_addDebianUser}
\textbf{Description:} Adds a job for creating an user on a Debian client.\\
\textbf{Parameter:}
\begin{itemize}
\item client: Name of the client.
\item login: Login name of the new user.
\item firstpw: Password for the new user.
\item uid: Optional user ID of the new user.
\item gid: Optional group ID of the new user.
\end{itemize}

\subsection{PKG\_addUser}
\textbf{Description:} Adds a job for creating an user on the client.\\
\textbf{Parameter:}
\begin{itemize}
\item client: Name of the client.
\item login: Login name of the new user.
\item firstpw: Password for the new user.
\item groups: Array of groups the user should be added.
\item uid: Optional user ID of the new user.
\item gid: Optional group ID of the new user.
\item debianAndUbuntu: If set to true, groups for Debian and Ubuntu systems are added and the job chooses the groups when it is executed on the system.
\end{itemize}

\subsection{PKG\_cleanPackageLine}
\textbf{Description:} Removes unwanted characters from a line containing package names and makes sure that there is only one line without line breaks.\\
\textbf{Parameter:}
\begin{itemize}
\item packageLine: Space seperated line containing the package names. The changed line will be written to the parameter too.
\end{itemize}

\subsection{PKG\_combinem23normal}
\textbf{Description:} Combines the package names of multiple entries for m23normal and m23normalRemove jobs in a package selection.\\
\textbf{Parameter:}
\begin{itemize}
\item packageSelectionName: Name of the package selection to optimise.
\end{itemize}

\subsection{PKG\_importSelectedPackagesFromFile}
\textbf{Description:} Imports space-seperated packages from a file and adds them to the wait4acc/selected packages of a client.\\
\textbf{Parameter:}
\begin{itemize}
\item client: Name of the client or empty.
\item file: Name of the file with full path containing space-seperated packages.
\end{itemize}

\subsection{PKG\_exportSelectedPackages}
\textbf{Description:} Exports the wait4acc/selected packages of a client.\\
\textbf{Parameter:}
\begin{itemize}
\item client: Name of the client or empty.
\end{itemize}

\subsection{PKG\_getPackageStatusCSV}
\textbf{Description:} Exports the packages of a client in tabulator separated CSV.\\
\textbf{Parameter:}
\begin{itemize}
\item client: Name of the client.
\end{itemize}

\subsection{PKG\_getDebootstrapCacheFilename}
\textbf{Description:} Returns the file name of the debootstrap cache file (without path).\\
\textbf{Parameter:}
\begin{itemize}
\item release: Select the Debian/Ubuntu suite (squeeze, sarge, sid, precise).
\item arch: the computer architecture of the client
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The file name of the debootstrap cache file (without path).
\end{itemize}

\subsection{PKG\_getDebootstrapCacheSfURL}
\textbf{Description:} Returns the URL to the debootstrap cache file on the SourceForge server.\\
\textbf{Parameter:}
\begin{itemize}
\item release: Select the Debian/Ubuntu suite (squeeze, sarge, sid, precise).
\item arch: the computer architecture of the client
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The URL to the debootstrap cache file on the SourceForge server.
\end{itemize}

\subsection{PKG\_baseSysDownloadedCompletelyTom23Server}
\textbf{Description:} Checks, if the debootstrap cache file was downloaded completely to the m23 server.\\
\textbf{Parameter:}
\begin{itemize}
\item release: Select the Debian/Ubuntu suite (squeeze, sarge, sid, precise).
\item arch: the computer architecture of the client
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, on complete download otherwise false.
\end{itemize}

\subsection{PKG\_downloadBaseSysTom23Server}
\textbf{Description:} Downloads the debootstrap cache file to the m23 server and checks its validity (by signature).\\
\textbf{Parameter:}
\begin{itemize}
\item release: Select the Debian/Ubuntu suite (squeeze, sarge, sid, precise).
\item arch: the computer architecture of the client
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the download is completed, otherwise false.
\end{itemize}

\subsection{PKG\_getDebootstrapCacheServerURL}
\textbf{Description:} Returns the URL to the debootstrap cache file on the m23 server.\\
\textbf{Parameter:}
\begin{itemize}
\item release: Select the Debian/Ubuntu suite (squeeze, sarge, sid, precise).
\item arch: the computer architecture of the client
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The URL to the debootstrap cache file on the m23 server.
\end{itemize}

\subsection{PKG\_getDebootstrapCacheServerFile}
\textbf{Description:} Returns the full path to the debootstrap cache file on the m23 server.\\
\textbf{Parameter:}
\begin{itemize}
\item release: Select the Debian/Ubuntu suite (squeeze, sarge, sid, precise).
\item arch: the computer architecture of the client
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The full path to the debootstrap cache file on the m23 server.
\end{itemize}

\subsection{PKG\_isReconfiguredWithExtraDistr}
\textbf{Description:} Checks, if the distribution is used for configuring a system that was installed via image.\\
\textbf{Parameter:}
\begin{itemize}
\item pkgID: The ID of the base installation package.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item True, if the distribution is used for configuring, otherwise false.
\end{itemize}

\subsection{PKG\_translateClientjobsStatus}
\textbf{Description:} Translates the clientjobs status from the DB into a human readable form.\\
\textbf{Parameter:}
\begin{itemize}
\item status: Status code from the DB.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Human readable translation of the clientjobs status.
\end{itemize}

\subsection{PKG\_isSpecialPackageAvailableForClient}
\textbf{Description:} Checks if a special package is available for the client's distribution.\\
\textbf{Parameter:}
\begin{itemize}
\item client: Name of the client.
\item package: Name of the special package.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item True if the special package is available otherwise false.
\end{itemize}

\subsection{PKG\_OptionPageHeader2}
\textbf{Description:} Starts the option page for debconf settings with all necessary options.\\
\textbf{Parameter:}
\begin{itemize}
\item title: the window title of the OptionPage
\end{itemize}

\subsection{PKG\_OptionPageTail2}
\textbf{Description:} Generates the bottom of the OptionPage for debconf settings.\\
\textbf{Parameter:}
\begin{itemize}
\item elem: The elements (variable name, type (string, boolean, (multi)select), default value, description) of the debconf templates.
\end{itemize}

\subsection{PKG\_decodeDebconfDescription}
\textbf{Description:} Decodes and HTML-formats the description of a debconf template and extracts its title.\\
\textbf{Parameter:}
\begin{itemize}
\item descr: Text of the debconf description.
\item title: Variable to write the title to.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : The decoded and HTML-formated description.
\end{itemize}

\subsection{PKG\_OptionPageRender2}
\textbf{Description:} Renderes the layout of an OptionPage for debconf and stored the debconf settings into the DB.\\
\textbf{Parameter:}
\begin{itemize}
\item layout: The elements (variable name, type (string, boolean, (multi)select), default value, description) of the debconf templates.
\item client: The name of the client, the debconf settings should be stored for.
\item package: Name of the package, the debconf settings should be stored for.
\end{itemize}

\subsection{PKG\_countSpecialPackages}
\textbf{Description:} counts the special packages of a clients matching the package name and status\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client 
\item packageName: name of the special package
\item status: status of the package
\end{itemize}

\subsection{PKG\_countWaitingJobs}
\textbf{Description:} returns the amount of a special waiting package\\
\textbf{Parameter:}
\begin{itemize}
\item client: name of the client
\item package: name of the package you want to know the amount
\end{itemize}

\subsection{PKG\_closeSearch}
\textbf{Description:} closes a search request\\
\textbf{Parameter:}
\begin{itemize}
\item file: file handle
\end{itemize}

\subsection{PKG\_getNextPackage}
\textbf{Description:} fetches the next package\\
\textbf{Parameter:}
\begin{itemize}
\item file: file handle
\end{itemize}

\subsection{PKG\_listRecommendPackages}
\textbf{Description:} lists recommended packages matching the key\\
\textbf{Parameter:}
\begin{itemize}
\item key: search key
\item install: set to true, if the selection for installing all packages should be first
\end{itemize}

\subsection{PKG\_listRecommendSubPackages}
\textbf{Description:} returnes subpackages of a package\\
\textbf{Parameter:}
\begin{itemize}
\item cut: cuts the packages by \$cut
\item params: variable to write package names to
\end{itemize}

\subsection{PKG\_addRecommendPackages}
\textbf{Description:} adds recommeded packages to db\\
\textbf{Parameter:}
\begin{itemize}
\item amount: amount of selected packages
\item client: name of client to install packages on
\item normalPackageType2: m23normal, m23normalRemove or orig: select if the packages should be (de)installed or use the saved action
\item distr: Name of the distribution.
\end{itemize}

\subsection{PKG\_addPackageSelection}
\textbf{Description:} Adds a package selections to the list of packages to install.\\
\textbf{Parameter:}
\begin{itemize}
\item client: name of client to install packages on
\item packageSelectionName: Name of the package selection to install.
\item normalPackageType2: m23normal, m23normalRemove or orig: select if the packages should be (de)installed or use the saved action
\item distr: Name of the distribution.
\end{itemize}

\subsection{PKG\_addNormalPackagesToWait4Aac}
\textbf{Description:} adds a package to waiting 4 accept status\\
\textbf{Parameter:}
\begin{itemize}
\item client: name of client to install packages on
\item priority: priority of the package
\item params: parameter for installing the package
\end{itemize}

\subsection{PKG\_addSpecialPackagesToWait4Aac}
\textbf{Description:} adds a special package to waiting 4 accepts status\\
\textbf{Parameter:}
\begin{itemize}
\item client: name of client to install packages on
\item priority: priority of the package
\item params: parameter for installing the package
\item distr: Name of the distribution.
\end{itemize}

\subsection{PKG\_countJobsWithStatus}
\textbf{Description:} Counts named jobs on a client that have a special status.\\
\textbf{Parameter:}
\begin{itemize}
\item client: name of the client
\item package: name of the package
\item status: The status to search for
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The amount of packages on the client with the given status.
\end{itemize}

\subsection{PKG\_getClientjobsStatus}
\textbf{Description:} return the status of a job\\
\textbf{Parameter:}
\begin{itemize}
\item client: name of the client
\item package: name of the package
\item distr: the name of the distribution
\item params: parameter for installing the package
\item normalPackage: the name of a normal package
\end{itemize}

\subsection{PKG\_addNormalPackages}
\textbf{Description:} adds normal packages to db\\
\textbf{Parameter:}
\begin{itemize}
\item amount: amount of selected packages
\item client: name of client to install packages on
\end{itemize}

\subsection{PKG\_changePrioritySelectedPackages}
\textbf{Description:} Changes the priority of selected wait4acc packages.\\
\textbf{Parameter:}
\begin{itemize}
\item amount: amount of selected packages
\item client: name of client to install packages on
\item newPriority: The new priority to set.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Amount of jobs with changed priority.
\end{itemize}

\subsection{PKG\_changeInstallReasonSelectedPackages}
\textbf{Description:} Changes the priority of selected wait4acc packages.\\
\textbf{Parameter:}
\begin{itemize}
\item amount: amount of selected packages
\item client: name of client to install packages on
\item newReason: The new reason to set.
\end{itemize}

\subsection{PKG\_rmSelectedPackages}
\textbf{Description:} removes normal packages from db\\
\textbf{Parameter:}
\begin{itemize}
\item amount: amount of selected packages
\item client: name of client to install packages on
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Amount of removed jobs.
\end{itemize}

\subsection{PKG\_listSelectedpackages}
\textbf{Description:} lists the packages with wait4acc status\\
\textbf{Parameter:}
\begin{itemize}
\item client: name of client to install packages on
\item distr: the name of the distribution
\item release: release of the distribution
\end{itemize}

\subsection{PKG\_countSelectedpackages}
\textbf{Description:} counts the preselected packages\\
\textbf{Parameter:}
\begin{itemize}
\item client: name of client to install packages on
\end{itemize}

\subsection{PKG\_countJobs}
\textbf{Description:} counts all packages of a client with a given status\\
\textbf{Parameter:}
\begin{itemize}
\item client: name of client
\item status: status of the packages to be count or empty to count all jobs
\end{itemize}

\subsection{PKG\_hasOptions}
\textbf{Description:} generates a link to the package option page (if it exists)\\
\textbf{Parameter:}
\begin{itemize}
\item package: name of package
\item packageID: id for the selected package
\item distr: the name of the distribution
\item client: Name of the current client.
\item release: The release of the client's distribution.
\end{itemize}

\subsection{PKG\_savePackageselection}
\textbf{Description:} saves all selected packages a package selection\\
\textbf{Parameter:}
\begin{itemize}
\item client: name of client to install packages on
\item selectionName: name for the package selection
\item showMsg: set to true, if a message should be shown
\item status: Status of the clientjobs that should be added.
\end{itemize}

\subsection{PKG\_addPackageToPackageselection}
\textbf{Description:} Add packages to selection\\
\textbf{Parameter:}
\begin{itemize}
\item client: name of client to install packages on
\item selectionName: name for the package selection
\item packageName: name of the normal package
\item params: parameter for the package
\item normalPackage: the name of a normal package
\item installedSize: the size of the package if it is installed
\item priority: The priority of the package.
\end{itemize}

\subsection{PKG\_listSpecialpackages}
\textbf{Description:} lists special packages matching a key\\
\textbf{Parameter:}
\begin{itemize}
\item key: search key
\end{itemize}

\subsection{PKG\_addSpecialPackages}
\textbf{Description:} adds normal packages to db\\
\textbf{Parameter:}
\begin{itemize}
\item amount: amount of selected packages
\item client: name of client to install packages on
\end{itemize}

\subsection{PKG\_getSpecialPackagePriority}
\textbf{Description:} gets the priority of a special package\\
\textbf{Parameter:}
\begin{itemize}
\item package: name of package
\item distr: name of the distribution
\end{itemize}

\subsection{PKG\_getSpecialPackageDescription}
\textbf{Description:} gets the description of a special package\\
\textbf{Parameter:}
\begin{itemize}
\item package: name of package
\end{itemize}

\subsection{PKG\_getSpecialPackageInfo}
\textbf{Description:} gets informations from special packages\\
\textbf{Parameter:}
\begin{itemize}
\item package: name of package
\item infoType: the type of information you want to get
\item dist: shortname of the distribution
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The information or false, if no information could be got.
\end{itemize}

\subsection{PKG\_getPackageID}
\textbf{Description:} get the id for a wait4acc job\\
\textbf{Parameter:}
\begin{itemize}
\item client: name of the client
\item package: name of the package
\end{itemize}

\subsection{PKG\_rmNormalJob}
\textbf{Description:} adds a normal package removal job to the clientjobs table\\
\textbf{Parameter:}
\begin{itemize}
\item client: name of the client
\item packageName: name of the package
\item priority: The priority of the job.
\end{itemize}

\subsection{PKG\_addJob}
\textbf{Description:} adds a job to the clientjobs table\\
\textbf{Parameter:}
\begin{itemize}
\item client: name of the client
\item packageName: name of the package
\item priority: priority of the package
\item params: parameter for installing the package
\end{itemize}

\subsection{PKG\_discardNormalJob}
\textbf{Description:} discards all normal packages from the clientjobs table, that match the param\\
\textbf{Parameter:}
\begin{itemize}
\item client: name of the client
\item packageName: name of the package
\end{itemize}

\subsection{PKG\_addWait4AccJob}
\textbf{Description:} adds a wait 4 accept job to the clientjobs table\\
\textbf{Parameter:}
\begin{itemize}
\item client: name of the client
\item packageName: name of the package
\item priority: priority of the package
\item params: parameter for installing the package
\end{itemize}

\subsection{PKG\_addStatusJob}
\textbf{Description:} adds a job to the clientjobs table\\
\textbf{Parameter:}
\begin{itemize}
\item client: name of the client
\item packageName: name of the package
\item priority: priority of the package
\item params: parameter for installing the package
\item status: the status of the package
\end{itemize}

\subsection{PKG\_acceptJobs}
\textbf{Description:} accepts all preselected jobs\\
\textbf{Parameter:}
\begin{itemize}
\item client: name of the client
\item showMsg: set to true, if a message about assigned jobs should be shown
\end{itemize}

\subsection{PKG\_discardJobs}
\textbf{Description:} discards all preselected jobs\\
\textbf{Parameter:}
\begin{itemize}
\item client: name of the client
\end{itemize}

\subsection{PKG\_discardJob}
\textbf{Description:} discards a selected job\\
\textbf{Parameter:}
\begin{itemize}
\item client: name of the client
\item package: name of package you want to discard
\end{itemize}

\subsection{PKG\_changeClientPackageAction}
\textbf{Description:} changes the status of a allready installed package\\
\textbf{Parameter:}
\begin{itemize}
\item client: name of the client
\item package: name of package you want to discard
\item action: the action you want the package set to
\end{itemize}

\subsection{PKG\_setClientPackageWait4Rm}
\textbf{Description:} changes the status of a allready installed package to wait 4 delete\\
\textbf{Parameter:}
\begin{itemize}
\item client: name of the client
\item package: name of package
\end{itemize}

\subsection{PKG\_setClientPackageInstalledOK}
\textbf{Description:} changes the status of a package to "installed ok"\\
\textbf{Parameter:}
\begin{itemize}
\item client: name of the client
\item package: name of package
\end{itemize}

\subsection{PKG\_addShutdownPackage}
\textbf{Description:} adds a shutdown package, but only if the client is NOT running. returns true, if a shutdown package is added\\
\textbf{Parameter:}
\begin{itemize}
\item client: name of the client
\end{itemize}

\subsection{PKG\_addShutdownOrRebootPackage}
\textbf{Description:} Adds a shutdown or a reboot package. No new job is addedm if there is already a waiting shutdown or reboot job. A shutdown package is added if the client can't be pinged and a reboot package if it is reachable via the network.\\
\textbf{Parameter:}
\begin{itemize}
\item client: name of the client
\end{itemize}

\subsection{PKG\_getAllParams}
\textbf{Description:} gets all parameters of the parameters column of a clientjob\\
\textbf{Parameter:}
\begin{itemize}
\item packageID: the ID of the package
\end{itemize}

\subsection{PKG\_setAllParams}
\textbf{Description:} sets all parameters in the parameters column of a clientjob\\
\textbf{Parameter:}
\begin{itemize}
\item packageID: the ID of the package
\item params: the parameters as assiciative array
\end{itemize}

\subsection{PKG\_OptionPageHeader}
\textbf{Description:} starts the option page with all necessary options\\
\textbf{Parameter:}
\begin{itemize}
\item title: the window title of the OptionPage
\end{itemize}

\subsection{PKG\_OptionPageRender}
\textbf{Description:} renderes the layout of a OptionPage\\
\textbf{Parameter:}
\begin{itemize}
\item layout: for the definition of the layout array see the development guide
\end{itemize}

\subsection{PKG\_OptionPageTail}
\textbf{Description:} generates the bottom of the OptionPage\\
\textbf{Parameter:}
\begin{itemize}
\item layout: for the definition of the layout array see the development guide
\end{itemize}

\subsection{PKG\_OptionPageSaveAlsParameters}
\textbf{Description:} saves the entered values in the packagejobs params\\
\textbf{Parameter:}
\begin{itemize}
\item layout: for the definition of the layout array see the development guide
\end{itemize}

\subsection{PKG\_OptionPageGetValue}
\textbf{Description:} gets tha value from a variable. The function tries to get the value from the \$\_GET array, if it doesn't work it falls back to the params array\\
\textbf{Parameter:}
\begin{itemize}
\item variable: the name of the variable you want to get the value from
\item params: the parameters as assiciative array
\end{itemize}

\subsection{PKG\_listParams}
\textbf{Description:} lists the parameters from a package in a nice format\\
\textbf{Parameter:}
\begin{itemize}
\item paramStr: the parameters as string (simply read from the packagejobs table)
\end{itemize}

\subsection{PKG\_getRecommendPackageAllInstalledSize}
\textbf{Description:} calculates the whole sum of the installedSizes of all recommend packages of one package selection\\
\textbf{Parameter:}
\begin{itemize}
\item packageSelection: the name of the package selection
\end{itemize}

\subsection{PKG\_previewInstallationDeinstallation}
\textbf{Description:} showes what happens if a client deinstalls/ installs waiting packages and generates a table with title\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client
\item install: set to true, if packages should be installed. if false the packages should be deinstalled
\end{itemize}

\subsection{PKG\_showPreviewInstallationDeinstallation}
\textbf{Description:} showes what happens if a client installs / deinstalls waiting packages and generates a table with title\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client
\item install: set to true, if packages should be installed. if false the packages should be deinstalled
\end{itemize}

\subsection{PKG\_updateSourcesListAtAllClients}
\textbf{Description:} updates the sources.list at all clients using it\\
\textbf{Parameter:}
\begin{itemize}
\item sourcename: name of the sources.list that should be updated
\end{itemize}

\subsection{PKG\_executeOnClientJobs}
\textbf{Description:} Executes a sql statement on all package IDs.\\
\textbf{Parameter:}
\begin{itemize}
\item sql: initial SQL statement e.g. "DELETE FROM `clientjobs` WHERE "
\item packageIDList: the list of IDs of jobs to be deleted
\end{itemize}

\subsection{PKG\_removeFromJobList}
\textbf{Description:} removes all jobs identified by the IDs in packageIDList\\
\textbf{Parameter:}
\begin{itemize}
\item packageIDList: the list of IDs of jobs to be deleted
\end{itemize}

\subsection{PKG\_changeClientJobsStatus}
\textbf{Description:} Sets a new status on all jobs identified by the IDs in packageIDList\\
\textbf{Parameter:}
\begin{itemize}
\item packageIDList: the list of IDs of jobs to be deleted
\item status: New status to set
\end{itemize}

\subsection{PKG\_removeSpecialFromJobList}
\textbf{Description:} Removes a special job from the joblist identified by package name and priority.\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: Name of the client
\item package: Name of the package.
\item priority: Priority of the job.
\end{itemize}

\subsection{PKG\_getHigestIDOfSpecialPackage}
\textbf{Description:} Gets the highest ID of a special package.\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: Name of the client.
\item package: Name of the special package.
\end{itemize}

\subsection{PKG\_previewUpdateSystem}
\textbf{Description:} returns the information of an system update request\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client 
\item completeUpdate: set it to "true", if it should be a full update (installation and removal of packages) or to "false" for an update of existing packages
\end{itemize}

\subsection{PKG\_showPreviewUpdateSystem}
\textbf{Description:} generates HTML code woth inormation about the update preview\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client 
\item completeUpdate: set it to "true", if it should be a full update (installation and removal of packages) or to "false" for an update of existing packages
\end{itemize}

\subsection{PKG\_rmAllSpecialPackagesByName}
\textbf{Description:} deletes all special packages from a client matching the package name\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client 
\item packageName: name of the special package
\end{itemize}

\subsection{PKG\_getClientsWithPackage}
\textbf{Description:} Gets all clients that have the specific package installed (or with another status).\\
\textbf{Parameter:}
\begin{itemize}
\item packageName: Name of the package.
\item status: The status the package should have.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Array with all clients that have the specific package installed (or with another status).
\end{itemize}

\subsection{PKG\_getClientsWithWaitingJobs}
\textbf{Description:} Gets all clients that have waiting jobs.\\
\textbf{Returns:}
\begin{itemize}
\item Array with all clients that have waiting jobs.
\end{itemize}

\subsection{PKG\_getClientsByPackages}
\textbf{Description:} Gets all clients that have the specific packages (not) installed (or with another given status).\\
\textbf{Parameter:}
\begin{itemize}
\item packageNames: Array with the packages to check.
\item status: Debian status code or true for "installed".
\item and: Set to true, if all packages must (not) match the status or, if false, at least one package must match the status.
\item not: If set to true, only clients, that have no packes with the given status will be added to the output array.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Array with all clients that have the specific package (not) installed (or with another given status).
\end{itemize}

\subsection{PKG\_countPackages}
\textbf{Description:} counts all packages on a client\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client 
\end{itemize}

\subsection{PKG\_copyWait4accPackagesToClient}
\textbf{Description:} copies the waiting jobs from one client to another\\
\textbf{Parameter:}
\begin{itemize}
\item from: the source client
\item to: the destination client
\end{itemize}

\subsection{PKG\_copyPackagesToClient}
\textbf{Description:} copies all with a selected status jobs from one client to another\\
\textbf{Parameter:}
\begin{itemize}
\item from: the source client
\item to: the destination client
\item status: can be set to a package status or be empty to copy all jobs
\end{itemize}

\subsection{PKG\_remNormalPackages}
\textbf{Description:} adds normal deinstallation jobs to db\\
\textbf{Parameter:}
\begin{itemize}
\item amount: amount of selected packages
\item client: name of client to deinstall packages on
\end{itemize}

\subsection{PKG\_addRemovePackagesToWait4Aac}
\textbf{Description:} adds a remove job to waiting 4 accept status\\
\textbf{Parameter:}
\begin{itemize}
\item client: name of client to frinstall packages from
\item priority: priority of the package
\item params: parameter for deinstalling the package
\end{itemize}

\subsection{PKG\_discardRemoveJob}
\textbf{Description:} discards all remove jobs from the clientjobs table, that match the param\\
\textbf{Parameter:}
\begin{itemize}
\item client: name of the client
\item packageName: name of the package
\end{itemize}

\subsection{PKG\_deletePackageselection}
\textbf{Description:} delete all packages from package selection\\
\textbf{Parameter:}
\begin{itemize}
\item selectionName: name for the package selection
\end{itemize}

\subsection{PKG\_getAllPackageSelections}
\textbf{Description:} returns all package selection names\\
\textbf{Parameter:}
\begin{itemize}
\item addEmpty: set to true to add an empty entry at the beginning.
\end{itemize}

\subsection{PKG\_multiPackageSelectionsSelection}
\textbf{Description:} Generates a multi selection with all package selections.\\
\textbf{Parameter:}
\begin{itemize}
\item selName: name of the selection
\item first: entry that should be shown first (this is the internal value and NOT the name shown to the user). the first value from the list will be written to \$first. set first to "false" to disable writing the first entry.
\item addEmpty: set to true to add an empty entry at the beginning.
\end{itemize}

\subsection{PKG\_showAllPackageSelections}
\textbf{Description:} returns all package selection as HTML selection\\
\textbf{Parameter:}
\begin{itemize}
\item selName: name of the selection
\item first: entry that should be shown first (this is the internal value and NOT the name shown to the user). the first value from the list will be written to \$first. set first to "false" to disable writing the first entry.
\item addEmpty: set to true to add an empty entry at the beginning.
\end{itemize}

\subsection{PKG\_getPackageParams}
\textbf{Description:} gets the parameters for a selected package\\
\textbf{Parameter:}
\begin{itemize}
\item id: package ID
\end{itemize}

\subsection{PKG\_getClientbyPackageID}
\textbf{Description:} gets the clientname that owns a selected package ID\\
\textbf{Parameter:}
\begin{itemize}
\item id: package ID
\end{itemize}

\subsection{PKG\_getInfoFromPackageID}
\textbf{Description:} gets a row from "clientjobs" for a given package ID\\
\textbf{Parameter:}
\begin{itemize}
\item id: package ID
\item variable: the name of the row (e.g. client)
\end{itemize}

\subsection{PKG\_getClientIDbyPackageID}
\textbf{Description:} returns the ID of a client that owns a selected package ID\\
\textbf{Parameter:}
\begin{itemize}
\item id: package ID
\end{itemize}

\subsection{PKG\_getPackageParamsVar}
\textbf{Description:} fetch the device for installation\\
\textbf{Parameter:}
\begin{itemize}
\item id: package ID
\item var: name of variable you want to get the value of
\end{itemize}

\subsection{PKG\_getPackageIDsByName}
\textbf{Description:} returnes all IDs as an array for jobs matching the client and job name and are a normal or special package.\\
\textbf{Parameter:}
\begin{itemize}
\item client: the name of the client, the jobs are for
\item packageName: name of the package, can be the name of a normal or special package
\item specialPackage: set to true, if you want to search for a special package
\end{itemize}

\subsection{PKG\_getClientPackages}
\textbf{Description:} returns an array or a space separated list of all packages installed on a client\\
\textbf{Parameter:}
\begin{itemize}
\item client: the name of the client
\item key: if it is not empty only packages that contain the key are returned
\item arr: set to true if the result should be an array otherwise it's a string
\item status: If set only returns packages of the given status
\end{itemize}

\subsection{PKG\_getPackagesListMarker}
\textbf{Description:} returns the string to mark client names to store packages\\

\subsection{PKG\_savePackagesList}
\textbf{Description:} stores the package names in the DB\\
\textbf{Parameter:}
\begin{itemize}
\item listName: name of the list to store the packages 
\item packages: array or blank seperated list of packages
\end{itemize}

\subsection{PKG\_getDuplicatedIdenticalJobs}
\textbf{Description:} Returns an array with a list of all jobs that are identical by package, priority, status and params.\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: Name of the client.
\item omitFirstID: Set to true if the first ID of each duplicate jobs block should be omitted.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Array with a list of all jobs that are identical by package, priority, status and params.
\end{itemize}

\subsection{PKG\_removeDuplicatedIdenticalJobs}
\textbf{Description:} Removes all jobs that are identical by package, priority, status and params omitting the first job.\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: Name of the client.
\end{itemize}

\subsection{PKG\_loadPackagesList}
\textbf{Description:} returns an array or a blank seperated list of all packages in the list\\
\textbf{Parameter:}
\begin{itemize}
\item listName: name of the list to store the packages 
\item arr: set to true if the result should be an arry otherwise it's a string
\end{itemize}

\subsection{PKG\_deletePackagesList}
\textbf{Description:} deletes a packages list\\
\textbf{Parameter:}
\begin{itemize}
\item listName: name of the list to delete
\end{itemize}

\subsection{PKG\_addNormalJob}
\textbf{Description:} Adds a normal package to the installation queue.\\
\textbf{Parameter:}
\begin{itemize}
\item client: the name of the client, the jobs are for
\item packageName: name of the normal package
\item priority: The priority of the job.
\end{itemize}

\subsection{PKG\_recountAllClientPackages}
\textbf{Description:} Recounts all packages of a client and updates corresponding fields in the database.\\

\newpage\section{./inc/pdf.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: Functions for generating PDF files\\

\subsection{PDF\_showTableRow}
\textbf{Description:} Shows a table row with a variable amount of entries. The parameters are shown side by side as rows in a table. If more than one PDF\_showTableRow commands are executed in one table it is needed to always use the same amount of paramaters in each call.\\
\textbf{Parameter:}
\begin{itemize}
\item Arbitrary amount of cells to show in a table.
\end{itemize}

\subsection{PDF\_showTableHeader}
\textbf{Description:} Inits some values for starting a new PDF table.\\

\subsection{PDF\_showTableEnd}
\textbf{Description:} Prints the PDF table.\\

\subsection{PDF\_init}
\textbf{Description:} Inits some basic variables for PDF creation.\\
\textbf{Parameter:}
\begin{itemize}
\item orientation: Orientation of the PDF document (P or Portrait, L or Landscape)
\item unit: pt (point), mm (millimeter), cm (centimeter) or in (inch)
\item format: PDF page format A3, A4, A5, Letter or Legal
\end{itemize}

\subsection{PDF\_output}
\textbf{Description:} Shows the created PDF.\\

\newpage\section{./inc/plugin.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: functions dealing with (de)installation of plugins and status information.\\

\subsection{PLG\_listMenuPlugins}
\textbf{Description:} generate the menu entries for the plugins\\
\textbf{Parameter:}
\begin{itemize}
\item path: the path you want to scan for plugins
\end{itemize}

\subsection{PLG\_isPluginSelected}
\textbf{Description:} checkes if the plugin was clicked\\
\textbf{Parameter:}
\begin{itemize}
\item path: path where to find the plugin files
\item value: value the menu item should have to load the plugin page
\end{itemize}

\subsection{PLG\_isPluginSelected}
\textbf{Description:} gets values from the plugins like plugin name, version,...\\
\textbf{Parameter:}
\begin{itemize}
\item fileName: file name with whole path to the plugin file
\item var: variable you want to get the value from
\end{itemize}

\subsection{PLG\_getPLGName}
\textbf{Description:} gets the name of the plugin\\
\textbf{Parameter:}
\begin{itemize}
\item fileName: file name with whole path to the plugin file
\end{itemize}

\subsection{PLG\_getPLGPage}
\textbf{Description:} gets the page of the plugin\\
\textbf{Parameter:}
\begin{itemize}
\item fileName: file name with whole path to the plugin file
\end{itemize}

\subsection{PLG\_getPLGAuthor}
\textbf{Description:} gets the author of the plugin\\
\textbf{Parameter:}
\begin{itemize}
\item fileName: file name with whole path to the plugin file
\end{itemize}

\subsection{PLG\_getPLGUpdateURL}
\textbf{Description:} gets the update address of the plugin\\
\textbf{Parameter:}
\begin{itemize}
\item fileName: file name with whole path to the plugin file
\end{itemize}

\subsection{PLG\_getPLGClientRequires}
\textbf{Description:} gets the "client requires" packages of the plugin\\
\textbf{Parameter:}
\begin{itemize}
\item fileName: file name with whole path to the plugin file
\end{itemize}

\subsection{PLG\_getPLGVersion}
\textbf{Description:} gets the version of the plugin\\
\textbf{Parameter:}
\begin{itemize}
\item fileName: file name with whole path to the plugin file
\end{itemize}

\subsection{PLG\_showDownloadStatus}
\textbf{Description:} shows the status of the plugin download\\
\textbf{Parameter:}
\begin{itemize}
\item fileName: file name with whole path to the plugin file
\end{itemize}

\subsection{PLG\_showDownloadStatus}
\textbf{Description:} downloads or copies the plugin to the temp dir\\
\textbf{Parameter:}
\begin{itemize}
\item url: the place where to get the plugin file from. following transport protocols are allowed: http, ftp and local files. e.g. "http://myserver.de/test.m23plg" is avalid url.
\item tempDir: where to store the plugin file temporary
\item fileName: file name with whole path to the plugin file
\end{itemize}

\subsection{PLG\_checkOverwriting}
\textbf{Description:} checks if the plugin files would overwrite existing files. the plugin file is extracted to a temporary directory. all file names are logged to a file that contains only the file names. these file names are checked against currently installed files. this routine checks if current files would be overwritten by the files of the plugin package. a list of files that would be overwritten is generated and aligned by a table.\\
\textbf{Parameter:}
\begin{itemize}
\item logfile: filename with whole path of the logfile containing the file names of the plugin file
\item tempDir: where to store the plugin file temporary
\end{itemize}

\subsection{PLG\_DBInstall}
\textbf{Description:} stores information about the plugin in the data base.\\
\textbf{Parameter:}
\begin{itemize}
\item tempDir: where to find the extracted files of the plugin
\item files: all file names of the plugin file name
\end{itemize}

\subsection{PLG\_realInstall}
\textbf{Description:} does the real installation\\
\textbf{Parameter:}
\begin{itemize}
\item tempDir: where to find the extracted files of the plugin
\end{itemize}

\subsection{PLG\_getTempDir}
\textbf{Description:} generates the name for the plugin temp dir\\
\textbf{Parameter:}
\begin{itemize}
\item url: the place where to get the plugin file from. following transport protocols are allowed: http, ftp and local files. e.g. "http://myserver.de/test.m23plg" is avalid url.
\end{itemize}

\subsection{PLG\_getFilename}
\textbf{Description:} gets the filename for the plugin file\\
\textbf{Parameter:}
\begin{itemize}
\item url: the place where to get the plugin file from. following transport protocols are allowed: http, ftp and local files. e.g. "http://myserver.de/test.m23plg" is avalid url.
\end{itemize}

\subsection{PLG\_install}
\textbf{Description:} installs a plugin. extracts the files in the plugin file to a temporary directory. checks if currently existing files would be overwritten by the plugin files. if so, ask the user, if he wants to install or stop installation.\\
\textbf{Parameter:}
\begin{itemize}
\item url: the place where to get the plugin file from. following transport protocols are allowed: http, ftp and local files. e.g. "http://myserver.de/test.m23plg" is avalid url.
\end{itemize}

\subsection{PLG\_showPluginOverview}
\textbf{Description:} shows a overview of all plugins\\

\subsection{PLG\_install}
\textbf{Description:} deletes a plugin\\
\textbf{Parameter:}
\begin{itemize}
\item name: name of the plugin
\end{itemize}

\subsection{PLG\_getUpdateFile}
\textbf{Description:} gets the update info file\\
\textbf{Parameter:}
\begin{itemize}
\item name: name of the plugin
\end{itemize}

\subsection{PLG\_update}
\textbf{Description:} initalizes the update, shows information about the plugin update\\
\textbf{Parameter:}
\begin{itemize}
\item name: name of the plugin
\end{itemize}

\subsection{PLG\_listInfofile}
\textbf{Description:} lists information of a plugin update file\\
\textbf{Parameter:}
\begin{itemize}
\item name: name of the plugin
\end{itemize}

\subsection{PLG\_realUpdate}
\textbf{Description:} does the real installation/update\\
\textbf{Parameter:}
\begin{itemize}
\item name: name of the plugin
\item url: the place where to get the plugin file from. following transport protocols are allowed: http, ftp and local files. e.g. "http://myserver.de/test.m23plg" is avalid url.
\end{itemize}

\newpage\section{./inc/pool.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: functions for administrating package pools\\

\subsection{POOL\_selectPoolType}
\textbf{Description:} shows buttons for selecting the type of pool and returns the pressed button\\

\subsection{POOL\_getPools}
\textbf{Description:} returns an array with all pool names\\

\subsection{POOL\_showLoadDeleteCreate}
\textbf{Description:} shows a dialog for loading, deleting and creating a pool\\
\textbf{Parameter:}
\begin{itemize}
\item poolName: name of the pool
\end{itemize}

\subsection{POOL\_create}
\textbf{Description:} creates a new pool directory and type property file\\
\textbf{Parameter:}
\begin{itemize}
\item poolName: name of the pool
\item poolType: type of the pool (cd or download)
\item poolArch: CPU architecture for the packages
\end{itemize}

\subsection{POOL\_setProperty}
\textbf{Description:} sets the contents of a property file\\
\textbf{Parameter:}
\begin{itemize}
\item poolName: name of the pool
\item property: name of the pool property
\item value: value to write in the pool property file
\end{itemize}

\subsection{POOL\_getProperty}
\textbf{Description:} returns the contents of a property file\\
\textbf{Parameter:}
\begin{itemize}
\item poolName: name of the pool
\item property: name of the pool property
\end{itemize}

\subsection{POOL\_delete}
\textbf{Description:} deletes a pool\\
\textbf{Parameter:}
\begin{itemize}
\item poolName: name of the pool
\end{itemize}

\subsection{POOL\_showReadCD}
\textbf{Description:} shows a dialog for copying the CD contents to the pool\\
\textbf{Parameter:}
\begin{itemize}
\item poolName: name of the pool
\end{itemize}

\subsection{POOL\_readCD}
\textbf{Description:} copys the CD contents to the pool\\
\textbf{Parameter:}
\begin{itemize}
\item poolName: name of the pool
\item mountPoint: the mount point of the CD drive
\end{itemize}

\subsection{POOL\_createExtendedPackageIndex}
\textbf{Description:} creates the Packages* index files for the pool\\
\textbf{Parameter:}
\begin{itemize}
\item poolName: name of the pool
\end{itemize}

\subsection{POOL\_showCreatePackageIndex}
\textbf{Description:} shows information (status of the Packages* generation, sources.list) about the currently generated pool\\

\subsection{POOL\_getSize}
\textbf{Description:} returns the size of a pool in MB\\
\textbf{Parameter:}
\begin{itemize}
\item poolName: name of the pool
\end{itemize}

\subsection{POOL\_getDir}
\textbf{Description:} returns the directory of the pool\\
\textbf{Parameter:}
\begin{itemize}
\item poolName: name of the pool
\end{itemize}

\subsection{POOL\_download}
\textbf{Description:} shows error messages if the checks for distribution, sourceslist or packages are failing. Otherwise starts the distribution specific download routine.\\
\textbf{Parameter:}
\begin{itemize}
\item poolName: name of the pool
\item distr: name of the distribution
\item sourceslist: list of the package sources
\item release: release branch of the choosen distribution to download the packages from
\item downloadBasePackages: set to true if a bunch of basic packages should be included into the pool
\item arch: download the packages for a specific CPU architecture
\end{itemize}

\subsection{POOL\_showDownloadStatus}
\textbf{Description:} shows the package download status of a pool\\
\textbf{Parameter:}
\begin{itemize}
\item poolName: name of the pool
\end{itemize}

\subsection{POOL\_prepare}
\textbf{Description:} Generates the needed configuration file for reprepro.\\
\textbf{Parameter:}
\begin{itemize}
\item poolName: name of the pool
\item release: release of the distribution (e.g. sarge)
\item distr: name of the distribution (e.g. Debian)
\item arch: CPU architecture for the packages
\end{itemize}

\subsection{POOL\_makeRepository}
\textbf{Description:} Generates a package source from packages stored in one directory.\\
\textbf{Parameter:}
\begin{itemize}
\item poolName: name of the pool
\item archivPath: start search for packages in this subdirectory
\item addCmds: additional commands that should be executed before starting the screen
\item 
\end{itemize}

\subsection{POOL\_getCDDistributionRelease}
\textbf{Description:} Reads the distribution and the release name from a mounted CD and writes these information to the variables. \\
\textbf{Parameter:}
\begin{itemize}
\item mountPoint: the directory where the CD is mounted
\item distr: the variable the name of the distribution (e.g. Debian) should be written to
\item release: the variable release of the distribution (e.g. sarge) should be written to
\end{itemize}

\subsection{POOL\_showSourcesList}
\textbf{Description:} Shows the sources list of a selected package source.\\
\textbf{Parameter:}
\begin{itemize}
\item poolName: name of the pool
\end{itemize}

\newpage\section{./inc/preferences.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: functions to save and load preferences for client setup.\\

\subsection{PREF\_preferenceLoadManagerHandler}
\textbf{Description:} Executes loading and deletion of preferences after pressing the according buttons and defines the buttons for PREF\_showPreferenceManager();\\

\subsection{PREF\_preferenceSaveManagerHandler}
\textbf{Description:} Executes the saving of preferences.\\

\subsection{PREF\_showPreferenceManager}
\textbf{Description:} Shows a dialog to load and delete existing preferences and to create new preferences.\\

\subsection{PREF\_saveAllPreferenceValues}
\textbf{Description:} Saves all values of a session into the preference.\\

\subsection{PREF\_loadAllPreferenceValues}
\textbf{Description:} Loads all values of a preference into the session.\\

\subsection{PREF\_getClientPreferences}
\textbf{Description:} list all preferences\\
\textbf{Parameter:}
\begin{itemize}
\item default: The name of the preference to list first
\item directOutput: If enabled the preference names will be given out as a HTML option list. If disabled an array with the preference names as key and value will be returned.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Array with the preference names or nothing on enabled directOutput.
\end{itemize}

\subsection{PREF\_getValue}
\textbf{Description:} gets a value from a selected preference. with preferences you can store variables and values for reuse.\\
\textbf{Parameter:}
\begin{itemize}
\item name: the name of the preference
\item var: variable of the preference
\end{itemize}

\subsection{PREF\_putValue}
\textbf{Description:} stores a value to a selected preference. with preferences you can store variables and values for reuse.\\
\textbf{Parameter:}
\begin{itemize}
\item name: the name of the preference
\item var: variable of the preference
\item value: value you want to set
\end{itemize}

\subsection{PREF\_delete}
\textbf{Description:} deletes a preference\\
\textbf{Parameter:}
\begin{itemize}
\item name: the name of the preference
\end{itemize}

\subsection{PREF\_exists}
\textbf{Description:} checks if a preference with the selected name exists\\
\textbf{Parameter:}
\begin{itemize}
\item name: the name of the preference
\end{itemize}

\subsection{PREF\_putAllOptions}
\textbf{Description:} stores all settings in the options array to the preferences\\
\textbf{Parameter:}
\begin{itemize}
\item prefName: name of the preference the options should be stored under
\item options: the array with the options
\end{itemize}

\subsection{PREF\_getAllValues}
\textbf{Description:} gets all preferences and adds them to the options array\\
\textbf{Parameter:}
\begin{itemize}
\item prefName: name of the preference the options should be stored under
\item options: the array with the options
\end{itemize}

\newpage\section{./inc/remotevar.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: functions for saving and loading serverside variables.\\

\subsection{RMV\_exists4IP}
\textbf{Description:} checks if a variable exists for a certain IP\\
\textbf{Parameter:}
\begin{itemize}
\item var: name of the variable to store
\item ip: ip address to set the variable for
\end{itemize}

\subsection{RMV\_set4IP}
\textbf{Description:} creates or updates a variable for a special ip\\
\textbf{Parameter:}
\begin{itemize}
\item var: name of the variable to store
\item value: value to set
\item ip: ip address to set the variable for
\end{itemize}

\subsection{RMV\_get4IP}
\textbf{Description:} gets the value of a variable for the given ip\\
\textbf{Parameter:}
\begin{itemize}
\item var: name of the variable to get the value from
\item ip: ip you want to get the value for
\end{itemize}

\subsection{RMV\_set}
\textbf{Description:} creates or updates a variable for the ip of the calling client\\
\textbf{Parameter:}
\begin{itemize}
\item var: name of the variable to store
\item value: value to set
\end{itemize}

\subsection{RMV\_get}
\textbf{Description:} gets the value of a variable for the ip of the calling client\\
\textbf{Parameter:}
\begin{itemize}
\item var: name of the variable to get the value from
\end{itemize}

\subsection{RMV\_rm4IP}
\textbf{Description:} removes a variable for a slelected ip\\
\textbf{Parameter:}
\begin{itemize}
\item var: name of the variable to get the value from
\item ip: ip you want to delete the value from
\end{itemize}

\subsection{RMV\_rm}
\textbf{Description:} removes a variable for the ip of the calling client\\
\textbf{Parameter:}
\begin{itemize}
\item var: name of the variable to get the value from
\end{itemize}

\subsection{RMV\_rm\_old}
\textbf{Description:} removes all vars older than \$time seconds\\
\textbf{Parameter:}
\begin{itemize}
\item time: time in seconds
\end{itemize}

\newpage\section{./inc/scredit.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: Functions for the embedded script editor.\\

\subsection{SCREDIT\_correctScriptFilename}
\textbf{Description:} Corrects the given filename to have it a valid prefix and suffix.\\
\textbf{Parameter:}
\begin{itemize}
\item filename: The filename to check and correct.
\end{itemize}

\subsection{SCREDIT\_showEditor}
\textbf{Description:} Shows a script editor with syntax highlighting if JavaScript is enabled or a normal textarea input dialog.\\

\subsection{SCREDIT\_newScriptTemplate}
\textbf{Description:} Returns a template for a basic script.\\
\textbf{Returns:}
\begin{itemize}
\item Text of the script template.
\end{itemize}

\newpage\section{./inc/serverBackup.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: Functions for handling m23 server backups.\\

\subsection{SERVERBACKUP\_getBackupConfiguration}
\textbf{Description:} Gets the server backup configuration.\\
\textbf{Returns:}
\begin{itemize}
\item Associative array with the variable name as key and its value as value.
\end{itemize}

\subsection{SERVERBACKUP\_storeBackupConfiguration}
\textbf{Description:} Stores the server backup configuration.\\
\textbf{Parameter:}
\begin{itemize}
\item conf: Associative array with the configuration values with the variable name as key and its value as value.
\end{itemize}

\subsection{SERVERBACKUP\_showConfigurationDialog}
\textbf{Description:} Shows a dialog for configuring the server backup.\\

\subsection{SERVERBACKUP\_runBackupNowDialog}
\textbf{Description:} Shows a dialog for starting the server backup manually at once.\\

\subsection{SERVERBACKUP\_getBackupList}
\textbf{Description:} Generates a list of existing server backups.\\
\textbf{Returns:}
\begin{itemize}
\item Associative array with information about sizes and dates of the backups.
\end{itemize}

\subsection{SERVERBACKUP\_rmBackup}
\textbf{Description:} Removes server backup.\\
\textbf{Parameter:}
\begin{itemize}
\item name: Name of the backup (that is a in form of YYYY-MM-DD-HH-MM)
\end{itemize}

\subsection{SERVERBACKUP\_backupOverviewDialog}
\textbf{Description:} Shows a dialog with overview of all existing server backups with possibility for deletion.\\

\newpage\section{./inc/server.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: functions for getting information from the server\\

\subsection{SERVER\_importGPGPackageSignKey}
\textbf{Description:} Imports the m23 GPG package sign key.\\

\subsection{SERVER\_logLocalScreenSessionToFile}
\textbf{Description:} Logs the output of a local screen session to a file.\\
\textbf{Parameter:}
\begin{itemize}
\item session: name screen session to log.
\item user: user the script runs under
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Full path to the log file.
\end{itemize}

\subsection{SERVER\_setSSLCertCheckDisabled}
\textbf{Description:} Sets, if the SSL certificate check is disabled globally for all clients.\\
\textbf{Parameter:}
\begin{itemize}
\item : disableSSLCertCheck: true, if the check is disabled otherwise false.
\end{itemize}

\subsection{SERVER\_isSSLCertCheckDisabled}
\textbf{Description:} Determines, if the SSL certificate check is disabled globally for all clients.\\
\textbf{Returns:}
\begin{itemize}
\item : true, if the check is disabled otherwise false.
\end{itemize}

\subsection{SERVER\_isLiveLogDisabled}
\textbf{Description:} Determines, if live logging should be disabled globally for all clients.\\
\textbf{Returns:}
\begin{itemize}
\item : true, if live logging should be disabled globally for all clients otherwise false.
\end{itemize}

\subsection{SERVER\_setLiveLogDisabled}
\textbf{Description:} Sets/Unsets live disabling of logging globally for all clients.\\
\textbf{Parameter:}
\begin{itemize}
\item disabled: true, if live logging should be disabled globally for all clients otherwise false.
\end{itemize}

\subsection{SERVER\_isInstallReasonEnabled}
\textbf{Description:} Determines, if the install reason feature is enabled\\
\textbf{Returns:}
\begin{itemize}
\item : true, if the install reason feature is enabled, false otherwise
\end{itemize}

\subsection{SERVER\_setInstallReasonEnabled}
\textbf{Description:} Enables the install reason feature\\
\textbf{Parameter:}
\begin{itemize}
\item \$enabled true, if the install reason feature shall be enabled, false otherwise
\end{itemize}

\subsection{SERVER\_isUpdatePackageInfosDisabled}
\textbf{Description:} Determines, if the updatePackageInfos job should NOT be added to any clients.\\
\textbf{Returns:}
\begin{itemize}
\item : true, if the updatePackageInfos job should NOT be added to any clients otherwise false.
\end{itemize}

\subsection{SERVER\_setUpdatePackageInfosDisabled}
\textbf{Description:} Sets/Unsets if the updatePackageInfos job should NOT be added to any clients.\\
\textbf{Parameter:}
\begin{itemize}
\item disabled: true, if the updatePackageInfos job should NOT be added to any clients otherwise false.
\end{itemize}

\subsection{SERVER\_isClientOnlineStatusEnabled}
\textbf{Description:} Determines, if the online status of all clients should be detected and shown.\\
\textbf{Returns:}
\begin{itemize}
\item : true, if the online status of all clients should be detected and shown.
\end{itemize}

\subsection{SERVER\_startUpdateClientOnlineInDBBackgroundJob}
\textbf{Description:} Starts a background job to update the online status of the clients cyclically.\\

\subsection{SERVER\_setClientOnlineStatusEnabled}
\textbf{Description:} Sets/Unsets if the online status of all clients should be detected and shown.\\
\textbf{Parameter:}
\begin{itemize}
\item active: true, if the online status of all clients should be detected and shown.
\end{itemize}

\subsection{SERVER\_setServerBoolSetting}
\textbf{Description:} Sets a bool value of a server setting.\\
\textbf{Parameter:}
\begin{itemize}
\item : var: Name of the setting.
\item : val: true or false.
\end{itemize}

\subsection{SERVER\_getServerBoolSetting}
\textbf{Description:} Gets the boolean value of a server setting.\\
\textbf{Parameter:}
\begin{itemize}
\item : var: Name of the setting.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : true or false.
\end{itemize}

\subsection{SERVER\_setServerSetting}
\textbf{Description:} Sets the value of a server setting.\\
\textbf{Parameter:}
\begin{itemize}
\item : var: Name of the setting.
\item : val: Value of the setting.
\end{itemize}

\subsection{SERVER\_getServerSetting}
\textbf{Description:} Gets the value of a server setting.\\
\textbf{Parameter:}
\begin{itemize}
\item : var: Name of the setting.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : Value the setting.
\end{itemize}

\subsection{SERVER\_existsServerSetting}
\textbf{Description:} Checks, if a named server setting exists in the DB.\\
\textbf{Parameter:}
\begin{itemize}
\item : var: Name of the setting.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : True if the setting exists.
\end{itemize}

\subsection{SERVER\_killPID}
\textbf{Description:} Kills a process running under a given PID or sends a signal.\\
\textbf{Parameter:}
\begin{itemize}
\item : pid: The PID of the process to kill.
\item : signal: The signal to send to the process.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : True if the process was killed or got the signal.
\end{itemize}

\subsection{SERVER\_killBackgroundJob}
\textbf{Description:} Kills a job (that runs in screen) with a given name.\\
\textbf{Parameter:}
\begin{itemize}
\item job: Name of the job that should be killed.
\item user: User the job runs under.
\end{itemize}

\subsection{SERVER\_insertLineNumber}
\textbf{Description:} Inserts a text AT or AFTER a line number or creates a new file with the given name, if it doesn't exists.\\
\textbf{Parameter:}
\begin{itemize}
\item file: the name of the file
\item lineNumber: reference line number for inserting
\item insertText: text to insert
\item mode: The access mode the newly created file should have.
\item insertMode: "0" insert AT, "1" insert AFTER line number
\item addIfNotExists: set to true, if the the line should be added only if the line doesn't exist. false, if the line should be added on every execution.
\end{itemize}

\subsection{SERVER\_addAdmin}
\textbf{Description:} Adds an administrator with all access rights.\\
\textbf{Parameter:}
\begin{itemize}
\item newadmin: Name of the new admin to create.
\item password: Password for the admin account.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : true, if the deletion was sucessfully otherwise false.
\end{itemize}

\subsection{SERVER\_delAdmin}
\textbf{Description:} Deletes an administrator with all access rights.\\
\textbf{Parameter:}
\begin{itemize}
\item name: Name of the admin to delete.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : true, if the deletion was sucessfully otherwise false.
\end{itemize}

\subsection{SERVER\_fileExists}
\textbf{Description:} Checks if a file exits, that the Apache user has never access to.\\
\textbf{Parameter:}
\begin{itemize}
\item : file: Name (with full path) of the file to check.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : True, if the file exists other wise false.
\end{itemize}

\subsection{SERVER\_getPublicSSHKeyOfm23Server}
\textbf{Description:} Returns the public SSH key of the m23 server.\\
\textbf{Returns:}
\begin{itemize}
\item : Public SSH key of the m23 server.
\end{itemize}

\subsection{SERVER\_changeHtpasswd}
\textbf{Description:} Changes the password of a user in a htpasswd file.\\
\textbf{Parameter:}
\begin{itemize}
\item : htpasswdFile: htpasswd file that contains user names and crypted passwords.
\item : username: Name of the user to change
\item : password: The according new password
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : True if the password was changed sucessfully.
\end{itemize}

\subsection{SERVER\_delFromHtpasswd}
\textbf{Description:} Removes a user with password to a htpasswd file.\\
\textbf{Parameter:}
\begin{itemize}
\item : htpasswdFile: htpasswd file that contains user names and crypted passwords.
\item : username: Name of the user to remove
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : True if the new user was added sucessfully.
\end{itemize}

\subsection{SERVER\_addToHtpasswd}
\textbf{Description:} Adds a new user with password to a htpasswd file.\\
\textbf{Parameter:}
\begin{itemize}
\item : htpasswdFile: htpasswd file that contains user names and crypted passwords.
\item : username: Name of the new user to add
\item : password: The according password for the new user
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : True if the new user was added sucessfully.
\end{itemize}

\subsection{SERVER\_dhcpServerInNetWarn}
\textbf{Description:} Shows an error message if there is found another DHCP server on the net.\\
\textbf{Returns:}
\begin{itemize}
\item : false, if the IP address is static.
\end{itemize}

\subsection{SERVER\_sendScriptToSF}
\textbf{Description:} Uploads a script to m23.sf.net for public use.\\
\textbf{Parameter:}
\begin{itemize}
\item name: Name of the script.
\item author: Name of the script author.
\item description: Short descriptive text for the purpose of the script.
\item script: Source code of the script.
\end{itemize}

\subsection{SERVER\_dynamicIPWarn}
\textbf{Description:} Shows an error message if the m23 server has a dynmic IP address.\\
\textbf{Returns:}
\begin{itemize}
\item : false, if the IP address is static.
\end{itemize}

\subsection{SERVER\_tmpNotWritable}
\textbf{Description:} Shows an error message if /tmp is not writable.\\
\textbf{Returns:}
\begin{itemize}
\item : false, if /tmp is writable.
\end{itemize}

\subsection{SERVER\_rootFreeSpace}
\textbf{Description:} Shows an error message if the free space of the root partition is low.\\
\textbf{Returns:}
\begin{itemize}
\item : false, if there is enough space.
\end{itemize}

\subsection{SERVER\_isProgramRunning}
\textbf{Description:} checks if a certain program is running and returns true, if yes "no" otherwise\\
\textbf{Parameter:}
\begin{itemize}
\item progname: the name of the programm (e.g. "apache" for the Apache web server)
\end{itemize}

\subsection{SERVER\_checkPackageInstalled}
\textbf{Description:} checks if a certain package is installed\\
\textbf{Parameter:}
\begin{itemize}
\item pkgName: the name of the package
\end{itemize}

\subsection{SERVER\_daemonStartStop}
\textbf{Description:} starts, stops and restarts daemons\\
\textbf{Parameter:}
\begin{itemize}
\item daemonScript: the file name of the script, that handles the real starting, stopping and restarting and understands the \$action
\item action: start, stop or restart
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : true on successfully execution otherwise false.
\end{itemize}

\subsection{SERVER\_getAptGetInstallCommand}
\textbf{Description:} Returns the apt-get commands to install a tool on the server.\\
\textbf{Parameter:}
\begin{itemize}
\item pkgName: name of the software package
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : apt-get commands to install a tool on the server.
\end{itemize}

\subsection{SERVER\_installTool}
\textbf{Description:} installs a tool on the server\\
\textbf{Parameter:}
\begin{itemize}
\item pkgName: name of the software package
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : true on successfully execution otherwise false.
\end{itemize}

\subsection{SERVER\_installToolInBackground}
\textbf{Description:} Installs a tool on the server in background.\\
\textbf{Parameter:}
\begin{itemize}
\item pkgName: name of the software package
\end{itemize}

\subsection{SERVER\_programmStatus}
\textbf{Description:} shows a row with information about the status of a certain program, with the possibillity to start, stop or restart the program.\\
\textbf{Parameter:}
\begin{itemize}
\item progname: the name of the programm (e.g. "apache" for the Apache web server)
\item daemonScript: set it to the script that should be used for starting, stopping and restarting. If the script name isn't set, this is a normal tool and NOT a daemon.
\item canBeInstalled: set to "true" if the programm can be installed by the package name
\end{itemize}

\subsection{SERVER\_apacheInfo}
\textbf{Description:} returnes an information string for the Apache server\\

\subsection{SERVER\_mysqlInfo}
\textbf{Description:} returnes an information string for the MySQL server\\

\subsection{SERVER\_dhcpInfo}
\textbf{Description:} returnes an information string for the DHCP server\\

\subsection{SERVER\_LDAPInfo}
\textbf{Description:} Returnes an information string for the LDAP server.\\

\subsection{SERVER\_programmStatusTableHeader}
\textbf{Description:} shows the header of the table needed for the programm status lines\\

\subsection{SERVER\_runInBackground}
\textbf{Description:} Runs a script with "screen" in the background under a given user\\
\textbf{Parameter:}
\begin{itemize}
\item jobName: name of the job screen should show
\item cmds: the commands of the script 
\item user: user the script should be run under
\item runInScreen: Set to true if the execution should be done in "screen". False executes it under the normal BASH.
\item redirectStdErr: Set to true if stderr should be redirected and not shown on in the console.
\end{itemize}

\subsection{SERVER\_runningInBackground}
\textbf{Description:} Returns "true" if a lock file for a given job name is existing.\\
\textbf{Parameter:}
\begin{itemize}
\item jobName: name of the job
\end{itemize}

\subsection{SERVER\_runningInScreen}
\textbf{Description:} Returns "true" if a screen session with a given name exists for a given user.\\
\textbf{Parameter:}
\begin{itemize}
\item jobName: name of the job.
\item user: User the screen session is run under.
\end{itemize}

\subsection{SERVER\_addLineToFile}
\textbf{Description:} Adds (if the search pattern can't be found) a line to a file on the server\\
\textbf{Parameter:}
\begin{itemize}
\item file: name of the file to edit
\item search: the search pattern
\item add: the line to add
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : true on successfully execution otherwise false.
\end{itemize}

\subsection{SERVER\_deleteFile}
\textbf{Description:} Deletes a file from the server.\\
\textbf{Parameter:}
\begin{itemize}
\item fileName: Name of the file to delete.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : true on successfully execution otherwise false.
\end{itemize}

\subsection{SERVER\_getFileContents}
\textbf{Description:} Get the contents of any file (even if only readable by root).\\
\textbf{Parameter:}
\begin{itemize}
\item fileName: Name of the file to read.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : Contents of the file
\end{itemize}

\subsection{SERVER\_putFileContents}
\textbf{Description:} Stores a text to a file and changes it's mode, user and group.\\
\textbf{Parameter:}
\begin{itemize}
\item fileName: Name of the file to put the text to.
\item text: The contents the file should have.
\item mode: The access mode the file should have.
\item user: The owner of the file.
\item group: The owning group of the file.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true on success and false otherwise.
\end{itemize}

\subsection{SERVER\_delLineFromFile}
\textbf{Description:} Deletes lines from the file that match the search pattern\\
\textbf{Parameter:}
\begin{itemize}
\item file: name of the file to edit
\item search: the search pattern
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : true on successfully execution otherwise false.
\end{itemize}

\subsection{SERVER\_addEtcHosts}
\textbf{Description:} Adds a host to /etc/hosts and /etc/backuppc/hosts (if it doesn't exists allready)\\
\textbf{Parameter:}
\begin{itemize}
\item hostname: name of the host to add
\item ip: its IP
\end{itemize}

\subsection{SERVER\_delEtcHosts}
\textbf{Description:} Deletes a host entry from /etc/hosts and /etc/backuppc/hosts\\
\textbf{Parameter:}
\begin{itemize}
\item hostname: name of the host to delete
\end{itemize}

\subsection{SERVER\_getInstallationMedium}
\textbf{Description:} Tries to figure out how the m23 server was installed\\
\textbf{Returns:}
\begin{itemize}
\item : CD, Internet or Unknown source.
\end{itemize}

\subsection{SERVER\_getOS}
\textbf{Description:} Returns the version string of the distribution.\\
\textbf{Returns:}
\begin{itemize}
\item : version string.
\end{itemize}

\subsection{SERVER\_checkDownload}
\textbf{Description:} Downloads a special file from m23.sf.net and checks if the size and md5 sum are matching.\\
\textbf{Parameter:}
\begin{itemize}
\item : useProxy: Set to true if the local proxy should be used.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : Status information if file size and md5 sum are matching.
\end{itemize}

\subsection{SERVER\_checkDiskFree}
\textbf{Description:} Reports the free space of all mounted media.\\
\textbf{Returns:}
\begin{itemize}
\item : Output of "df".
\end{itemize}

\subsection{SERVER\_checkRunInVM}
\textbf{Description:} Checks if the m23 server is executed in a virtual machine or on native hardware.\\
\textbf{Returns:}
\begin{itemize}
\item : VMWare, VirtualBox or native.
\end{itemize}

\subsection{SERVER\_checkKernel}
\textbf{Description:} Returns the kernel information string of "uname -a".\\
\textbf{Returns:}
\begin{itemize}
\item : Kernel information string.
\end{itemize}

\subsection{SERVER\_multiMkDir}
\textbf{Description:} Creates a directory and all needed directories on the way to the destination path.\\
\textbf{Parameter:}
\begin{itemize}
\item path: The complete path to create.
\item mode: The access mode of the path to create (should start with "0" e.g. 0777)
\item user: User name to create the directory for. If no name is given, the directory will be created for the Apache user.
\end{itemize}

\subsection{SERVER\_commandAvailable}
\textbf{Description:} Checks, if a given command is available for the given user.\\
\textbf{Parameter:}
\begin{itemize}
\item user: user the command should be run under.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : true when the command is available otherwise false.
\end{itemize}

\newpage\section{./inc/sourceslist.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: function to generate the sources.list for the client\\

\subsection{SRCLST\_getExportedListNames}
\textbf{Description:} Generates an array with all sources lists that are exported by /mdk/bin/exportDBsourceslist.php.\\
\textbf{Returns:}
\begin{itemize}
\item : Array with all sources lists that are exported by /mdk/bin/exportDBsourceslist.php.
\end{itemize}

\subsection{SRCLST\_getAddToFile}
\textbf{Description:} Returns addToFile paramters from the given sources list as an associative array, where file name and file contents are seperated.\\
\textbf{Parameter:}
\begin{itemize}
\item sourceName: The name of the package source list
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : Associative array with file name and file contents (e.g. [0] =$>$ Array ([file] =$>$ file1.txt, [text] =$>$ text1), [1] =$>$ Array ([file] =$>$ file2.txt, [text] =$>$ text2), ...)
\end{itemize}

\subsection{SRCLST\_getRelease}
\textbf{Description:} Gets a release from the sourceslist table.\\
\textbf{Parameter:}
\begin{itemize}
\item name: the name of the package source list
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Release name of choosen sources list.
\end{itemize}

\subsection{SRCLST\_genList}
\textbf{Description:} generates the sources.list file for the client\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: the name of the client
\end{itemize}

\subsection{SRCLST\_saveArchitectures}
\textbf{Description:} Saves the architectures for package source list.\\
\textbf{Parameter:}
\begin{itemize}
\item sourceName: the name of the package source list
\item archs: Associative array with the supported CPU architectures.
\end{itemize}

\subsection{SRCLST\_saveList}
\textbf{Description:} saves the package source list\\
\textbf{Parameter:}
\begin{itemize}
\item name: the name of the package source list
\item list: the list of sources as simple text
\item description: a descriptive text for the list
\item distr: the name of the distribution the list is for
\item release: the name of the release the list is for
\end{itemize}

\subsection{SRCLST\_querySourceslists}
\textbf{Description:} returns the result of the DB query after sourceslists for a special distribution\\
\textbf{Parameter:}
\begin{itemize}
\item distr: the distribution the sources list is for or "*" for all distributions
\end{itemize}

\subsection{SRCLST\_genSelection}
\textbf{Description:} generates a HTML selection with the names of alls package sources\\
\textbf{Parameter:}
\begin{itemize}
\item selName: the name of the selection
\item first: the package source that should be shown first
\item distr: the distribution the sources list is for or "*" for all distributions
\end{itemize}

\subsection{SRCLST\_getValue}
\textbf{Description:} gets a value from the sourceslist table\\
\textbf{Parameter:}
\begin{itemize}
\item name: the name of the package source list
\item var: the name of the table row
\end{itemize}

\subsection{SRCLST\_loadSourceListFromDB}
\textbf{Description:} loads and returnes the the package source list from the DB.\\
\textbf{Parameter:}
\begin{itemize}
\item name: the name of the package source list
\end{itemize}

\subsection{SRCLST\_sourceListExists}
\textbf{Description:} Checks, if a named sources list exists.\\
\textbf{Parameter:}
\begin{itemize}
\item name: the name of the package source list
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the package source list exists, otherwise false.
\end{itemize}

\subsection{SRCLST\_loadSourceList}
\textbf{Description:} Loads and returnes the package source list and tries to find a valid mirror for m23debs.\\
\textbf{Parameter:}
\begin{itemize}
\item name: the name of the package source list
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item package source list
\end{itemize}

\subsection{SRCLST\_getDescription}
\textbf{Description:} returnes the the package source description\\
\textbf{Parameter:}
\begin{itemize}
\item name: the name of the package source list
\end{itemize}

\subsection{SRCLST\_delete}
\textbf{Description:} deletes package source\\
\textbf{Parameter:}
\begin{itemize}
\item name: the name of the package source list
\end{itemize}

\subsection{SRCLST\_checkList}
\textbf{Description:} checks a package info and returns the output of the OS package update function\\
\textbf{Parameter:}
\begin{itemize}
\item sourceName: the name of the package source list
\end{itemize}

\subsection{SRCLST\_packageInformationChangeInformationHumanReadable}
\textbf{Description:} Returns the time point when the package information was changed last.\\
\textbf{Parameter:}
\begin{itemize}
\item distr: the short name of the distribution
\item sourceName: the name of the package source list
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : Time when the package information was changed last.
\end{itemize}

\subsection{SRCLST\_packageInformationChangeTime}
\textbf{Description:} Returns the time point when the package information was changed last.\\
\textbf{Parameter:}
\begin{itemize}
\item distr: the short name of the distribution
\item sourceName: the name of the package source list
\item changedBefore: Amount of seconds before the package information was changed.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : Time when the package information was changed last.
\end{itemize}

\subsection{SRCLST\_packageInformationOlderThan}
\textbf{Description:} Checks if a package info is older than a selected amount of minutes or if the package info directory is too smal.\\
\textbf{Parameter:}
\begin{itemize}
\item minutes: the amount of minutes the package information can be older to return true
\item distr: the short name of the distribution
\item sourceName: the name of the package source list
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : true when package info is older than a selected amount of minutes or if the package info directory is too smal, otherwise false.
\end{itemize}

\subsection{SRCLST\_getStorageFS}
\textbf{Description:} Returns a file systems that can be used to install the OS and to store data. A wished file system is given and an alternative FS is returned, if this FS is not supported.\\
\textbf{Parameter:}
\begin{itemize}
\item fs: File system to probe.
\item sourceName: The name of the package source list
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : File systems that can be used to install the OS and to store data
\end{itemize}

\subsection{SRCLST\_supportedFS}
\textbf{Description:} Returns an array with file systems that supported by the OS.\\
\textbf{Parameter:}
\begin{itemize}
\item sourceName: The name of the package source list
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : Array with file systems supported by the OS.
\end{itemize}

\subsection{SRCLST\_alternativeFS}
\textbf{Description:} Returns the alternative file system that is supported by the OS.\\
\textbf{Parameter:}
\begin{itemize}
\item sourceName: The name of the package source list
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : File system.
\end{itemize}

\subsection{SRCLST\_getParameter}
\textbf{Description:} Returns special parameter(s) from the given sources list.\\
\textbf{Parameter:}
\begin{itemize}
\item sourceName: The name of the package source list
\item parameter: The name of the parameter.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : Values for the given parameter in an array.
\end{itemize}

\subsection{SRCLST\_getMirror}
\textbf{Description:} returns the mirror from the sources list\\
\textbf{Parameter:}
\begin{itemize}
\item sourceName: the name of the package source list
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item URL to the mirror
\end{itemize}

\subsection{SRCLST\_getDesktopList}
\textbf{Description:} returnes an array with all supported desktops\\
\textbf{Parameter:}
\begin{itemize}
\item sourceName: the name of the package source list
\end{itemize}

\subsection{SRCLST\_showDesktopsSel}
\textbf{Description:} returnes a selections with all desktops supported by the sources list\\
\textbf{Parameter:}
\begin{itemize}
\item sourceName: the name of the package source list
\item selName: the name of the selection
\item first: the desktop that should be shown first
\end{itemize}

\subsection{SRCLST\_doesDistrSupportEFI}
\textbf{Description:} Checks, if a sources list contains a distribution that supports EFI.\\
\textbf{Parameter:}
\begin{itemize}
\item sourceName: the name of the package source list
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the distribution supports EFI, otherwise false.
\end{itemize}

\subsection{SRCLST\_getListnamesWithEfiSupport}
\textbf{Description:} Gets a list with all sources lists that support EFI.\\
\textbf{Returns:}
\begin{itemize}
\item Array with all sources lists that support EFI.
\end{itemize}

\subsection{SRCLST\_clientUsesEfiButSourcesListDoesntSupportEfi}
\textbf{Description:} Checks, if the client uses EFI and the choosen sources list doesn't.\\
\textbf{Parameter:}
\begin{itemize}
\item client: Name of the client.
\item sourceName: The name of the package source list.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : true, if the client uses EFI and the choosen sources list doesn't, otherwise false.
\end{itemize}

\subsection{SRCLST\_showErrorIfClientUsesEfiButSourcesListDoesntSupportEfi}
\textbf{Description:} Shows an error message, if the client uses EFI and the choosen sources list doesn't.\\
\textbf{Parameter:}
\begin{itemize}
\item client: Name of the client.
\item sourceName: The name of the package source list.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : false, if the client uses EFI and the choosen sources list doesn't, otherwise true.
\end{itemize}

\subsection{SRCLST\_showAlternativeArchitectureSelection}
\textbf{Description:} Shows a list with available CPU architectures of the sources list, in case that the wanted architecture is not available in the sources list. The alternative architecture will be written to the arch option of the client.\\
\textbf{Parameter:}
\begin{itemize}
\item sourceName: The name of the package source list.
\item wantedArch: The CPU architecture of the m23 client.
\item client: Name of the client.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : A CPU architecture supported by the package source list.
\end{itemize}

\subsection{SRCLST\_isArchAvailable}
\textbf{Description:} Checks if a given architecture is supported by the sources list.\\
\textbf{Parameter:}
\begin{itemize}
\item sourceName: the name of the package source list
\item arch: Architecture to check for.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the architecture is supported, false otherwise.
\end{itemize}

\subsection{SRCLST\_getArchitectures}
\textbf{Description:} Returnes a list of all CPU architectures supported by the sources list.\\
\textbf{Parameter:}
\begin{itemize}
\item sourceName: the name of the package source list
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Associative array with the supported CPU architectures as variable AND key.
\end{itemize}

\subsection{SRCLST\_showEditor}
\textbf{Description:} shows an editor for sources lists\\
\textbf{Parameter:}
\begin{itemize}
\item poolName: if it is set, the editor shows a package download dialog for the selected pool
\item showSupportedUserInterfacesList: if it is set, the list with the supported GUIs will be shown.
\end{itemize}

\subsection{SRCLST\_getListnames}
\textbf{Description:} Returns an array that contains all sourceslist names\\
\textbf{Parameter:}
\begin{itemize}
\item distr: the distribution the sources list is for or "*" for all distributions
\end{itemize}

\subsection{SRCLST\_cleanList}
\textbf{Description:} Returns an array with all lines of the sources list that contain Debian sources\\
\textbf{Parameter:}
\begin{itemize}
\item list: the contents of the sources list
\end{itemize}

\subsection{SRCLST\_matchList}
\textbf{Description:} Returns the name of the sources list that matches the searched sources list contents for the distribution or false\\
\textbf{Parameter:}
\begin{itemize}
\item distr: the distribution to search the name of the sources list under
\item search: the contents of the sources list to search
\end{itemize}

\subsection{SRCLST\_possiblem23debsMirrors}
\textbf{Description:} Returns an array with mirrors for m23 debs.\\
\textbf{Returns:}
\begin{itemize}
\item Array with mirrors for m23 debs.
\end{itemize}

\subsection{SRCLST\_checkm23debsMirror}
\textbf{Description:} Checks, if the url contains a valid mirror for m23debs.\\
\textbf{Parameter:}
\begin{itemize}
\item url: URL of the (possible) m23debs mirror.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the url contains a valid mirror for m23debs, otherwise false.
\end{itemize}

\subsection{SRCLST\_getWorkingm23debsMirror}
\textbf{Description:} Get the url of a working m23debs mirror.\\
\textbf{Returns:}
\begin{itemize}
\item Url to a working m23debs mirror or false, if none could be found.
\end{itemize}

\newpage\section{./inc/ucs.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: Univention corporate server specific functions.\\

\subsection{UCS\_getPrefnameByClient}
\textbf{Description:} Generates the preference name for an UCS client.\\
\textbf{Parameter:}
\begin{itemize}
\item client: Client name.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Preference name for an UCS client
\end{itemize}

\subsection{UCS\_addUCSClientTom23ClientPreferences}
\textbf{Description:} Adds an UCS client to the client preferences in m23.\\
\textbf{Parameter:}
\begin{itemize}
\item client: Client name.
\item mac: The MAC of the client.
\item ip: The client's IP address.
\item netmask: The client's netmask.
\item gateway: The client's gateway.
\item dns1: The client's first DNS server.
\end{itemize}

\subsection{UCS\_delUCSClientFromm23ClientPreferences}
\textbf{Description:} Removes an UCS client from the client preferences in m23.\\
\textbf{Parameter:}
\begin{itemize}
\item client: Client name.
\end{itemize}

\subsection{UCS\_createNetworkObject}
\textbf{Description:} Creates a new network object in the UCS LDAP:\\
\textbf{Parameter:}
\begin{itemize}
\item networkName: Name of the network object to create.
\item netmaskBits: Amount of set bits in the netmask.
\item networkIP: Network IP (ends with .0)
\end{itemize}

\subsection{UCS\_getGenericNetworkName}
\textbf{Description:} Generates a generic name for a network object in UCS.\\
\textbf{Parameter:}
\begin{itemize}
\item netmaskBits: Amount of set bits in the netmask.
\item networkIP: Network IP (ends with .0)
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : Generic name for a network object in UCS.
\end{itemize}

\subsection{UCS\_ensureNetworkObjectExists}
\textbf{Description:} Makes sure that the network object exists in the UCS.\\
\textbf{Parameter:}
\begin{itemize}
\item netmaskBits: Amount of set bits in the netmask.
\item networkIP: Network IP (ends with .0)
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : Generic name for a network object in UCS.
\end{itemize}

\subsection{UCS\_modifyClientIP}
\textbf{Description:} Modifies the IP of a client in the UCS LDAP.\\
\textbf{Parameter:}
\begin{itemize}
\item client: Client name or CClient object.
\item ip: The new client's IP address.
\item netmask: Amount of set bits in the netmask or normal netmask.
\end{itemize}

\subsection{UCS\_getAllClientNamesLDAP}
\textbf{Description:} Gets all client names stored in the LDAP of the UCS.\\
\textbf{Returns:}
\begin{itemize}
\item : Array with all client names stored in the LDAP of the UCS.
\end{itemize}

\subsection{UCS\_getUDMInfo}
\textbf{Description:} Get information from the UCS's LDAP by udm tool.\\
\textbf{Parameter:}
\begin{itemize}
\item udmModule: Name of the udm module (eg. networks/network or computers/linux).
\item afterLines: Amount of lines with information after the line containing the keyword.
\item keyWord: Keyword matching the first line to find the block with the wanted information.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : Associative array with the information.
\end{itemize}

\subsection{UCS\_networkObjectExists}
\textbf{Description:} Checks, if a network object exists in the UCS.\\
\textbf{Parameter:}
\begin{itemize}
\item networkName: Network name.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : true, if a network object exists in the UCS, otherwise false.
\end{itemize}

\subsection{UCS\_getNetworkLDAPInfo}
\textbf{Description:} Get information about a network stored in the UCS LDAP.\\
\textbf{Parameter:}
\begin{itemize}
\item networkName: Network name.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : Associative array with the information about the network.
\end{itemize}

\subsection{UCS\_getFirstElementFromDN}
\textbf{Description:} Gets the first value of a distinguished name.\\
\textbf{Parameter:}
\begin{itemize}
\item dn: distinguished name.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : First value of a distinguished name.
\end{itemize}

\subsection{UCS\_getClientLDAPInfo}
\textbf{Description:} Get information about a client stored in the UCS LDAP.\\
\textbf{Parameter:}
\begin{itemize}
\item client: Client name.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : Associative array with the information about the client.
\end{itemize}

\subsection{UCS\_addClient}
\textbf{Description:} Adds a client to the UCS LDAP.\\
\textbf{Parameter:}
\begin{itemize}
\item client: Client name.
\item mac: The MAC of the client.
\item ip: The client's IP address.
\end{itemize}

\subsection{UCS\_delClient}
\textbf{Description:} Removes a client from the UCS LDAP.\\
\textbf{Parameter:}
\begin{itemize}
\item client: Client name.
\end{itemize}

\subsection{UCS\_enableClientPXEBoot}
\textbf{Description:} Activates PXE booting of a client that is in the UCS LDAP via the univention-dhcp.\\
\textbf{Parameter:}
\begin{itemize}
\item client: Client name.
\item bootFilename: Image to boot over network (e.g. pxelinux.0).
\end{itemize}

\subsection{UCS\_disableClientPXEBoot}
\textbf{Description:} Deactivates PXE booting of a client that is in the UCS LDAP via the univention-dhcp.\\
\textbf{Parameter:}
\begin{itemize}
\item client: Client name.
\end{itemize}

\subsection{UCS\_setClientDistrAndRelease}
\textbf{Description:} Sets the distribution and the release of a client to the UCS LDAP.\\
\textbf{Parameter:}
\begin{itemize}
\item client: Client name.
\item distr: Client's distribution.
\item release: Client's distribution release.
\end{itemize}

\subsection{UCS\_openFirewallPort}
\textbf{Description:} Opens a port on the UCS firewall.\\
\textbf{Parameter:}
\begin{itemize}
\item port: Port number to open.
\item type: tcp or udp.
\end{itemize}

\subsection{UCS\_addLDAPUser}
\textbf{Description:} Adds a posix account to the UCS LDAP server.\\
\textbf{Parameter:}
\begin{itemize}
\item account: the login name
\item forename: the forename of the user
\item familyname: the familyname of the user
\item pwd: the unencrypted password
\item uid: Linux user ID
\item gid: Linux group ID
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The output from udm after executing the parameters.
\end{itemize}

\subsection{UCS\_getEtc\_ucr\_master}
\textbf{Description:} Gets the contents for /etc/univention/ucr\_master on the client.\\

\subsection{UCS\_enableClientLDAP}
\textbf{Description:} Enables LDAP authentification on the client on the UCS.\\

\subsection{UCS\_udmSuccessOrErrorMessage}
\textbf{Description:} Takes the output from an udm command and checks for the return code (must be a single number in the last line). If the return code is non-zero, all lines above the last line are treated as error message and written to \$errorMessage.\\
\textbf{Parameter:}
\begin{itemize}
\item ret: The complete message block with return code (must be a single number in the last line)
\item errorMessage: The variable, the error message may be written to.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the udm command returned a success return code (0), otherwise false.
\end{itemize}

\subsection{UCS\_getUsedIPs}
\textbf{Description:} Gets a list with all used IPs managed or known by UCS.\\
\textbf{Returns:}
\begin{itemize}
\item Array with all used IPs managed or known by UCS.
\end{itemize}

\newpage\section{./inc/update.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: functions for updating the server\\

\subsection{UPDATE\_doUpdate}
\textbf{Description:} Makes sure the package repository is included and upgrades the m23 server.\\

\subsection{UPDATE\_running}
\textbf{Description:} checks, if an update is running (returns true otherwise false)\\

\subsection{UPDATE\_getUrl}
\textbf{Description:} returnes a correct URL to the update source\\
\textbf{Parameter:}
\begin{itemize}
\item base: URL to the update script
\item command: "info" or "cmd"
\item version: m23 version
\item patchLevel: patch version number
\end{itemize}

\subsection{UPDATE\_getInfo}
\textbf{Description:} returns the information text from the URL\\
\textbf{Parameter:}
\begin{itemize}
\item URL: URL to the information text
\item refreshTime: The time in minutes the file is downloaded again.
\end{itemize}

\newpage\section{./inc/vm.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: Functions for managing virtual clients.\\

\subsection{VM\_isHost}
\textbf{Description:} Check, if an m23 client is an VM host.\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: Name of the m23 client.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item false, if no VM host software is installed on the client otherwise the number of VM software.
\end{itemize}

\subsection{VM\_captureVMScreenAsMovie}
\textbf{Description:} Enables/disables capturing the screen of a VM to a movie file.\\
\textbf{Parameter:}
\begin{itemize}
\item type: VM\_SW\_VBOX for VirtualBox OSE
\item vmname: Name of the VM.
\item enable: true for enabling the capturing, false for disabling.
\item movieFile: File to store the capturing in.
\item width: Width of the movie.
\item height: Height of the movie.
\item rate: Bitrate of the movie.
\item fps: Frames per second
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item BASH code for enabling/disabling the capturing of the VM's screens to a movie file.
\end{itemize}

\subsection{VM\_CloudStackDeleteClientVM}
\textbf{Description:} Deletes a virtual machine for use with m23 in CloudStack, only a cloudstack admin can recover it\\
\textbf{Parameter:}
\begin{itemize}
\item virtualMachineId:  CloudStack ID of the virtual machine
\item VMDeletionOK: True if VM was successfully deleted, false otherwise
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item ErrorMessages or Success messages, sets parameter VMDeletionOK (true if all went well, false if an error ocurred)
\end{itemize}

\subsection{VM\_isCloudStackClient}
\textbf{Description:} Checks, if the client is run in CloudStack\\
\textbf{Parameter:}
\begin{itemize}
\item clientname: CloudStack name of the instance / name of the m23 client.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, when the client is run in CloudStack otherwise false.
\end{itemize}

\subsection{VM\_CloudStackCheckConstants}
\textbf{Description:} Checks, if the given constant values are valid.\\
\textbf{Parameter:}
\begin{itemize}
\item CLOUDSTACK\_API\_ENDPOINT: The API entpoint.
\item CLOUDSTACK\_API\_KEY: The API key.
\item CLOUDSTACK\_SECRET\_KEY: The secret API key.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, when the constant values are valid otherwise false.
\end{itemize}

\subsection{VM\_CloudStackConfigGUI}
\textbf{Description:} Shows a dialog for editing the CloudStack config file and uploading the m23 client ISO.\\

\subsection{VM\_CloudStackWriteConfFile}
\textbf{Description:} Writes the CloudStack config file or writes a basic config file, if it does not exist.\\
\textbf{Parameter:}
\begin{itemize}
\item overwrite: Set to true, if the config file should be overwritten in any case.
\item CLOUDSTACK\_API\_ENDPOINT: The API endpoint.
\item CLOUDSTACK\_API\_KEY: The API key.
\item CLOUDSTACK\_SECRET\_KEY: The secret API key.
\item CLOUDSTACK\_SERVICE\_OFFERING\_ID: The virtual CPU and RAM combination to use for a new VM.
\item CLOUDSTACK\_TEMPLATE\_ID: The ID of the m23 client installation ISO.
\item CLOUDSTACK\_NETWORKIDS: The ID of the network to use.
\item CLOUDSTACK\_DISK\_OFFERING\_ID: The virtual hard disk type.
\end{itemize}

\subsection{VM\_CloudStackUploadIso}
\textbf{Description:} Uploads and registers a new bootable ISO file into cloudstack from a given website\\
\textbf{Parameter:}
\begin{itemize}
\item isoName: the name you choose for the ISO file 
\item isoUrl: the url from where you want cloudstack to download the ISO file
\item zoneID: The ID of the CloudStack zone.
\item isoUploadSuccess: is set to True if action succeeded, false otherwise
\item isoID: is set to Cloudstack-Iso-ID if action succeeded, otherwise not set
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item textmessage about result (errormessage or success message) and sets isoUploadSuccess to True if action succeeded, false otherwise, sets isoID to Iso-ID
\end{itemize}

\subsection{VM\_CloudStackEnablePortForwarding}
\textbf{Description:} creates a port forwarding rule for a virtual machine, with private port and public port being the same\\
\textbf{Parameter:}
\begin{itemize}
\item virtualMachineId: the cloudstack ID of the virtual machine to which the rule shall apply
\item pFSuccess: is set to true, if the rule was created
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item textmessage about result (errormessage or success message) and sets pFSuccess to True if action succeeded, false otherwise
\end{itemize}

\subsection{VM\_CloudStackDisablePortForwarding}
\textbf{Description:} deletes a port forwarding rule for a virtual machine, with private port and public port being the same (CLOUDSTACK\_X2GO\_PORTNUMBER)\\
\textbf{Parameter:}
\begin{itemize}
\item virtualMachineId: the cloudstack ID of the virtual machine from which the port forwarding rule shall be deleted
\item pFDSuccess: is set to true, if the rule was deleted successfully
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item textmessage about result (errormessage or success message) and sets pFDSuccess to True if action succeeded, false otherwise
\end{itemize}

\subsection{VM\_CloudStackSendSetVisualURL}
\textbf{Description:} Sends the visual URL (current client ip:22) to the m23 server, if run under CloudStack.\\

\subsection{VM\_CloudStackStartVM}
\textbf{Description:} starts a virtual machine in CloudStack\\
\textbf{Parameter:}
\begin{itemize}
\item clientname: CloudStack name of the instance / name of the m23 client.
\item startVMOK: true if started successfully or already running, false otherwise
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item textmessage with result of start or error message
\end{itemize}

\subsection{VM\_CloudStackStopVM}
\textbf{Description:} stops a virtual machine in CloudStack\\
\textbf{Parameter:}
\begin{itemize}
\item clientname: CloudStack name of the instance / name of the m23 client.
\item stopVMOK: true if stopped successfully or already stopped, false otherwise
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item textmessage with result of stop or error message
\end{itemize}

\subsection{VM\_CloudStackGetVMStatus}
\textbf{Description:} gets the status of a virtual machine\\
\textbf{Parameter:}
\begin{itemize}
\item clientname: CloudStack name of the instance / name of the m23 client.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item textmessage with machine status (like 'Running' or 'Stopped') or FALSE if no status could be retrieved (e.g. if machine doesn't exist)
\end{itemize}

\subsection{VM\_CloudStackClientName2ClientID}
\textbf{Description:} returns the Cloudstack-ID of a client with the given client host name\\
\textbf{Parameter:}
\begin{itemize}
\item clientname: Host name of the virtual machine
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Cloudstack-Client-ID if the clientname can be retrieved, False otherwise 
\end{itemize}

\subsection{VM\_CloudStackNetBootActivate}
\textbf{Description:} attaches/exchanges or removes (if any) a network boot ISO to or from the client\\
\textbf{Parameter:}
\begin{itemize}
\item clientname: CloudStack name of the instance / name of the m23 client.
\item activate: TRUE for attaching ISO, FALSE for removing
\item nBASuccess: is set to True if action succeeded, false otherwise
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item textmessage about result (errormessage or success message) and sets nBASuccess to True if action succeeded, false otherwise
\end{itemize}

\subsection{VM\_CloudStackCreateVM}
\textbf{Description:} Creates a virtual machine for use with m23 in CloudStack\\
\textbf{Parameter:}
\begin{itemize}
\item name: Name of the virtual machine, can contain ASCII letters 'a' through 'z', the digits '0' through '9', and the hyphen ('-'), must be between 1 and 63 characters long, and can't start or end with "-" and can't start with digit
\item zoneID: zoneID for CloudStack
\end{itemize}

\subsection{VM\_CloudStack\_getServerIP}
\textbf{Description:} Gets the external m23 server IP if the m23 server is run as CloudStack VM.\\
\textbf{Returns:}
\begin{itemize}
\item External m23 server IP.
\end{itemize}

\subsection{VM\_GUIstepCreateCloudStackVM}
\textbf{Description:} Shows a dialog to create a new VM in CloudStack.\\

\subsection{VM\_CloudStack\_available}
\textbf{Description:} Checks, if the CloudStack configuration file is included and contains the needed constants.\\
\textbf{Returns:}
\begin{itemize}
\item true, if the CloudStack are present.
\end{itemize}

\subsection{VM\_CloudStack\_getObject}
\textbf{Description:} Gets a new CloudStackClient object.\\
\textbf{Parameter:}
\begin{itemize}
\item CLOUDSTACK\_API\_ENDPOINT: The API entpoint.
\item CLOUDSTACK\_API\_KEY: The API key.
\item CLOUDSTACK\_SECRET\_KEY: The secret API key.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item New CloudStackClient object.
\end{itemize}

\subsection{VM\_CloudStack\_getVersion}
\textbf{Description:} Gets the version of CloudStack.\\
\textbf{Returns:}
\begin{itemize}
\item CloudStack version.
\end{itemize}

\subsection{VM\_shutdownAndDisableNetbootAfterInstall}
\textbf{Description:} Reboots an VM and disables network booting.\\
\textbf{Parameter:}
\begin{itemize}
\item vmname: Name of the VM.
\end{itemize}

\subsection{VM\_rebootAndActivateNetboot}
\textbf{Description:} Reboots an VM and activates network booting.\\
\textbf{Parameter:}
\begin{itemize}
\item vmname: Name of the VM.
\end{itemize}

\subsection{VM\_shutdownAndDisableNetbootAfterInstall}
\textbf{Description:} Shuts down an VM and disables network booting.\\
\textbf{Parameter:}
\begin{itemize}
\item vmName: Name of the VM.
\end{itemize}

\subsection{VM\_shutdownAndDisableNetboot}
\textbf{Description:} Generates a BASH command to shut down an VM and to disable network booting.\\
\textbf{Parameter:}
\begin{itemize}
\item type: VM\_SW\_VBOX for VirtualBox OSE
\item vmname: Name of the VM.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item BASH code to shut down an VM and to disable network booting.
\end{itemize}

\subsection{VM\_rebootChangeBootDevice}
\textbf{Description:} Generates a BASH command to reboot an VM and to disable network booting.\\
\textbf{Parameter:}
\begin{itemize}
\item type: VM\_SW\_VBOX for VirtualBox OSE
\item vmname: Name of the VM.
\item visual: If set to true, the VM should be run in visual mode otherwise in headless mode.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item BASH code to reboot an VM and to disable network booting.
\end{itemize}

\subsection{VM\_getVBoxVersion}
\textbf{Description:} Get the currently installed VirtualBox version of the host.\\
\textbf{Parameter:}
\begin{itemize}
\item clientNameOrIP: The name of the client or localhost or an IP.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The version number of VirtualBox.
\end{itemize}

\subsection{VM\_setVBoxAddonAsDefault}
\textbf{Description:} Sets a choosen VirtualBox addition package version as default.\\
\textbf{Parameter:}
\begin{itemize}
\item version: Version number of the VirtualBox addition to set as default.
\end{itemize}

\subsection{VM\_downloadedVBoxAddons}
\textbf{Description:} Lists all VirtualBox addition package versions that can be downloaded from the m23 server.\\
\textbf{Returns:}
\begin{itemize}
\item Associative array with ther version numbers of all VirtualBox addition packages that can be downloaded from the m23 server.
\end{itemize}

\subsection{VM\_getVBoxAddonDefaultVersion}
\textbf{Description:} Gets the version number of the VirtualBox addition package.\\
\textbf{Returns:}
\begin{itemize}
\item The default version of the VirtualBox addition package.
\end{itemize}

\subsection{VM\_generateVBOXaddonDownloadCMD}
\textbf{Description:} Generates the download commands to download a VirtualBox addition ISO and to extract the addition installers for Linux.\\
\textbf{Parameter:}
\begin{itemize}
\item version: Version number of the VirtualBox addition to download and extract.
\end{itemize}

\subsection{VM\_downloadVBOXaddons}
\textbf{Description:} Downloads the VirtualBox addition ISOs and extracts the addition installers for Linux.\\
\textbf{Parameter:}
\begin{itemize}
\item checkedVersions: Array with all version numbers of the VirtualBox additions to download.
\end{itemize}

\subsection{VM\_VBOXaddonDownloadDialog}
\textbf{Description:} Shows a dialog for downloading the VirtualBox additions to the m23 server.\\

\subsection{VM\_wasVBoxAddonDownloaded}
\textbf{Description:} Checks, if the VirtualBox addition for a selected version was downloaded to the m23 server.\\
\textbf{Parameter:}
\begin{itemize}
\item version: Version number of the VirtualBox addition to look for.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item True, if the addition is there.
\end{itemize}

\subsection{VM\_listDownloadableVBoxAddons}
\textbf{Description:} Returns an array with the version numers of all VirtualBox addition ISOs that are 2.0.0 and above.\\
\textbf{Returns:}
\begin{itemize}
\item Array with the version numers of all VirtualBox addition ISOs that are 2.0.0 and above as key and value.
\end{itemize}

\subsection{VM\_stopVM}
\textbf{Description:} Generates a BASH command to stop a virtual machine.\\
\textbf{Parameter:}
\begin{itemize}
\item type: VM\_SW\_VBOX for VirtualBox OSE
\item vmname: Name of the VM.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item BASH code to stop a virtual machine.
\end{itemize}

\subsection{VM\_pauseVM}
\textbf{Description:} Generates a BASH command to pause a virtual machine.\\
\textbf{Parameter:}
\begin{itemize}
\item type: VM\_SW\_VBOX for VirtualBox OSE
\item vmname: Name of the VM.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item BASH code to pause a virtual machine.
\end{itemize}

\subsection{VM\_resumeVM}
\textbf{Description:} Generates a BASH command to resume a virtual machine.\\
\textbf{Parameter:}
\begin{itemize}
\item type: VM\_SW\_VBOX for VirtualBox OSE
\item vmname: Name of the VM.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item BASH code to resume a virtual machine.
\end{itemize}

\subsection{VM\_webAction}
\textbf{Description:} Executes an action for a VM controlled by the web UI.\\
\textbf{Parameter:}
\begin{itemize}
\item vmName: Name of the VM.
\item action: Action for the VM given by the URL parameter.
\item visual: Set to true, if the VM should be started in visual mode always.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item True if the command can be executed otherwise false.
\end{itemize}

\subsection{VM\_delete}
\textbf{Description:} Deletes a virtual machine from a VM host.\\
\textbf{Parameter:}
\begin{itemize}
\item vmname: Name of the VM.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true if it's an VM or false if not.
\end{itemize}

\subsection{VM\_vmSwNr2Name}
\textbf{Description:} Converts the VM software constant (VM\_SW\_*) to the human readable name.\\
\textbf{Parameter:}
\begin{itemize}
\item vmType: Code number of the virtualisation software.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Human readable name of the VM software.
\end{itemize}

\subsection{VM\_getHTMLStatusBlock}
\textbf{Description:} Generates and returns a status block in a HTML table with informations (VM host, VM software, VM power switch state, visual console URL and password, VM NICs) about the selected VM client.\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: Name of the VM client.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item HTML table with information about the VM.
\end{itemize}

\subsection{VM\_activateNetboot}
\textbf{Description:} (De)Activates network booting of a VM.\\
\textbf{Parameter:}
\begin{itemize}
\item vmName: Name of the VM.
\item activate: true for booting from network, false for booting from the HD.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The message of the VM management tool or false if it's not a VM.
\end{itemize}

\subsection{VM\_convertSwitchStatusInfo}
\textbf{Description:} Returns the status of a VM guest in several ways.\\
\textbf{Parameter:}
\begin{itemize}
\item status: Status of the VM guest (one of VM\_STATE\_*)
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Associative array with: \$out['text']: The status as text in the current language. \$out['icon']: The icon of the given status (as traffic lights). \$out['imgTag']: The status as traffic light in an HTML img tag with the written status as title.
\end{itemize}

\subsection{VM\_getSWandHost}
\textbf{Description:} Gets the VM software and VM host of a m23 client.\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: Name of the virtualised client.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item \$out['vmSoftware']: The VM software used for the guest. \$out['vmHost']: The name of the VM host.
\end{itemize}

\subsection{VM\_getStatus}
\textbf{Description:} Returns the current status of a VM guest.\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: Name of the virtualised client.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Array with the current state of the VM or false is the client is no VM guest.
\end{itemize}

\subsection{VM\_GUIstepCreateGuest}
\textbf{Description:} Shows a dialog to create a new VM on the chosen host.\\

\subsection{VM\_GUIstepCheckHost}
\textbf{Description:} Shows a dialog part with information about the chose VM host.\\

\subsection{VM\_GUIstepSelectHost}
\textbf{Description:} Shows a dialog part for choosing the VM host.\\
\textbf{Parameter:}
\begin{itemize}
\item VM\_software: Code number of the virtualisation software.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Gives back the VM host or false if there is no host for the choosen virtualisation solution.
\end{itemize}

\subsection{VM\_getAllVMHosts}
\textbf{Description:} Returns a list of all VM hosts with a choosen virtualisation software.\\
\textbf{Parameter:}
\begin{itemize}
\item VM\_software: Code number of the virtualisation software.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Associative array with the hostname as key and value.
\end{itemize}

\subsection{VM\_setVisualURL}
\textbf{Description:} Sets the URL to connect to the visual management console.\\
\textbf{Parameter:}
\begin{itemize}
\item VMguest: Name of the guest that is run in the virtualisation software.
\item url: The URL to connect to the visual management console (e.g. 192.168.1.23:23 with VNC).
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item MySQL resource or false on error.
\end{itemize}

\subsection{VM\_setHostInDB}
\textbf{Description:} Sets the password for the login to the visual management console on the host for all guests, the host flag and the type of used virtualisation software.\\
\textbf{Parameter:}
\begin{itemize}
\item VMhost: Name of the host with the virtualisation software.
\item password: Password to set.
\item vmSoftware: Type of the virtualisation software.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item MySQL resource or false on error.
\end{itemize}

\subsection{VM\_setGuestInDB}
\textbf{Description:} Makes the client a VM guest in the DB.\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: Name of the m23 client (VM guest)
\item VMSoftware: Type of the virtualisation software.
\item VMHostName: Name of the m23 client (VM host)
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item MySQL resource or false on error.
\end{itemize}

\subsection{VM\_statusIcons}
\textbf{Description:} Returns HTML codes that include the VM status icons of the client.\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: Name of the m23 client
\item id: ID of the m23 client
\item vmRole: Role of the m23 client (host, guest, no virtualisation)
\item vmSoftware: Number of the used virtualisation software.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item HTML codes with included status icons.
\end{itemize}

\subsection{VM\_createDiskImage}
\textbf{Description:} Creates a new empty virtual harddisk image file.\\
\textbf{Parameter:}
\begin{itemize}
\item type: VM\_SW\_KVM for KVM or VM\_SW\_VBOX for VirtualBox OSE
\item vmname: Name of the VM.
\item diskname: Name of the image file without extension.
\item size: Size of the image file in MB.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item BASH code to create a virtual disk image.
\end{itemize}

\subsection{VM\_delVMCMD}
\textbf{Description:} Deletes a virtual machine.\\
\textbf{Parameter:}
\begin{itemize}
\item type: VM\_SW\_VBOX for VirtualBox OSE
\item vmname: Name of the VM.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item BASH code to delete a virtual machine.
\end{itemize}

\subsection{VM\_activateNetbootCMD}
\textbf{Description:} Generates a BASH command line to (de)activate network booting of a VM.\\
\textbf{Parameter:}
\begin{itemize}
\item type: VM\_SW\_VBOX for VirtualBox OSE
\item vmName: Name of the VM.
\item activate: true for booting from network, false for booting from the HD.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item BASH code to (de)activate network booting of a VM.
\end{itemize}

\subsection{VM\_restoreSnapshot}
\textbf{Description:} Restores a snapshot.\\
\textbf{Parameter:}
\begin{itemize}
\item type: VM\_SW\_VBOX for VirtualBox OSE
\item vmName: Name of the VM.
\item snapshotName: Name of the snapshot to restore.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item BASH code to restore a snapshot.
\end{itemize}

\subsection{VM\_createVM}
\textbf{Description:} Creates a virtual machine.\\
\textbf{Parameter:}
\begin{itemize}
\item type: VM\_SW\_VBOX for VirtualBox OSE
\item vmName: Name of the VM.
\item ramSize: Size of the memory in MB.
\item diskName: Name of the virtual harddisk file.
\item mac: MAC address of the virtual network card. It can be in the format 12:23:34:45:56:78 or 122334455678.
\item netDev: Device of the real network card that is used to let the VM communictae with the outer world.
\item imageDir: Base directory where to create the directory structure for storing the VM files.
\item arch: Architecture of the VM (amd64 or i386)
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item BASH code to create a virtual machine.
\end{itemize}

\subsection{VM\_insertBootISO}
\textbf{Description:} Inserts a bootable ISO into a VM.\\
\textbf{Parameter:}
\begin{itemize}
\item type: VM\_SW\_VBOX for VirtualBox OSE
\item vmName: Name of the VM.
\item iso: ISO file with full path.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item BASH code to insert a bootable ISO into a VM.
\end{itemize}

\subsection{VM\_startVMInExistingXSession}
\textbf{Description:} Starts a virtual machine in an existing X session.\\
\textbf{Parameter:}
\begin{itemize}
\item type: VM\_SW\_VBOX for VirtualBox OSE
\item vmName: Name of the VM.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item BASH code to start a virtual machine and finding the DISPLAY number of the user who runs this script.
\end{itemize}

\subsection{VM\_startVM}
\textbf{Description:} Starts a virtual machine.\\
\textbf{Parameter:}
\begin{itemize}
\item type: VM\_SW\_VBOX for VirtualBox OSE
\item vmName: Name of the VM.
\item vnc: Set to true if the VM should be accessible since the booting via VNC.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item BASH code to start a virtual machine.
\end{itemize}

\subsection{VM\_startVMCommandFile}
\textbf{Description:} Writes a command file with the command(s) to start the VM.\\
\textbf{Parameter:}
\begin{itemize}
\item vmName: Name of the VM.
\item cmd: Bash code to start the VM.
\end{itemize}

\subsection{VM\_stopVMCommandFile}
\textbf{Description:} Removes automatical staring of a VM by removing the command file.\\
\textbf{Parameter:}
\begin{itemize}
\item vmName: Name of the VM.
\item cmd: Bash code to stop the VM.
\end{itemize}

\subsection{VM\_status}
\textbf{Description:} Gets the current status of a virtual machine.\\
\textbf{Parameter:}
\begin{itemize}
\item type: VM\_SW\_VBOX for VirtualBox OSE
\item vmName: Name of the VM.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item BASH code to get the current status of a virtual machine or array containing the status of the VM.
\end{itemize}

\subsection{VM\_parseVBOXdisk}
\textbf{Description:} Parses a harddisk/DVD/floppy status line of VirtualBox.\\
\textbf{Parameter:}
\begin{itemize}
\item param: Parameter line that may contain the complete path to the image file or "empty".
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Name of the assigned image or false of the medium is empty.
\end{itemize}

\subsection{VM\_parseVBOXstate}
\textbf{Description:} Parses the status (on, off, paused) line of VirtualBox.\\
\textbf{Parameter:}
\begin{itemize}
\item param: Parameter line that contains the status string of the VM.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item VM\_STATE\_OFF, VM\_STATE\_PAUSE, VM\_STATE\_ON or false if the line could not be parsed.
\end{itemize}

\subsection{VM\_parseVBOXNic}
\textbf{Description:} Parses the status line of a virtual network card.\\
\textbf{Parameter:}
\begin{itemize}
\item param: Parameter line that contains the status string of the VM.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Array with the current state of the network device.
\end{itemize}

\subsection{VM\_parseStatus}
\textbf{Description:} Parses the complete status of a VM.\\
\textbf{Returns:}
\begin{itemize}
\item Array with the current state of the VM.
\end{itemize}
