
\newpage\section{./inc/assimilate.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: Contains functions for assimilation of clients\\

\subsection{ASSI\_showClientAddDialog}
\textbf{Description:} Shows a dialog for adding a client to assimilate.\\

\subsection{ASSI\_addClient}
\textbf{Description:} Adds needed data for assimilating a client.\\
\textbf{Parameter:}
\begin{itemize}
\item client: name of the client
\item ip: IP of the client
\item password: root password on Debian systems or combines user/root password on Ubuntu systems
\item ubuntuuser: name of the Ubuntu user or empty if a Debian system is meant.
\end{itemize}

\subsection{ASSI\_addUbuntuRoot}
\textbf{Description:} Enables the root account in Ubuntu if a Ubuntu installation is found.\\

\subsection{ASSI\_prepareClient}
\textbf{Description:} Prepares a client for assimilisation.\\

\newpage\section{./inc/autoTest.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: Functions for test automation.\\

\subsection{AUTOTEST\_getKey}
\textbf{Description:} Generates the needed scan codes to produce a given character.\\
\textbf{Parameter:}
\begin{itemize}
\item charIn: Input character.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Needed scan codes to produce a given character.
\end{itemize}

\subsection{AUTOTEST\_calcScancodes}
\textbf{Description:} Converts an input string that may contain special keys into scancodes (e.g. for usage with VirtualBox)\\
\textbf{Parameter:}
\begin{itemize}
\item in: Input string with normal and special keys.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Scancodes that represent the input string.
\end{itemize}

\subsection{AUTOTEST\_keyAndRelease}
\textbf{Description:} Generates (Shift press,) key, key release (and Shift release) codes.\\
\textbf{Parameter:}
\begin{itemize}
\item keyCode: Key (scan) code.
\item pressShift: true, when Shift should be pressed.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item (Shift press,) key, key release (and Shift release)
\end{itemize}

\subsection{AUTOTEST\_VM\_create}
\textbf{Description:} Creates a new VM with virtual hard drive in VirtualBox.\\
\textbf{Parameter:}
\begin{itemize}
\item vmName: Name of the VM.
\item diskSize: Size of the virtual HD in MB.
\item ramSize: Size of RAM in MB.
\item VMCreationMessage: Variable where the VirtualBox (error) messages will be written to.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, when the creation was successfully, otherwise false.
\end{itemize}

\subsection{AUTOTEST\_VM\_enableCapture}
\textbf{Description:} Enables capturing the screen of a VM to a movie file.\\
\textbf{Parameter:}
\begin{itemize}
\item vmName: Name of the VM.
\item movieFile: File to store the capturing in.
\item VMenableCaptureMessage: Variable where the VirtualBox (error) messages will be written to.
\end{itemize}

\subsection{AUTOTEST\_VM\_delete}
\textbf{Description:} Deletes a VM and its virtual hard drive from VirtualBox.\\
\textbf{Parameter:}
\begin{itemize}
\item VMDeletionMessage: Variable where the VirtualBox (error) messages will be written to.
\item vmName: Name of the VM.
\end{itemize}

\subsection{AUTOTEST\_VM\_start}
\textbf{Description:} Starts a virtual machine in an existing X session.\\
\textbf{Parameter:}
\begin{itemize}
\item VMStartMessage: Variable where the VirtualBox (error) messages will be written to.
\item vmName: Name of the VM.
\end{itemize}

\subsection{AUTOTEST\_VM\_insertBootISO}
\textbf{Description:} Inserts a bootable ISO into a VM.\\
\textbf{Parameter:}
\begin{itemize}
\item vmName: Name of the VM.
\item iso: ISO file with full path.
\item VMinsertBootISOMessage: Variable where the VirtualBox (error) messages will be written to.
\end{itemize}

\subsection{AUTOTEST\_VM\_rebootFromHD}
\textbf{Description:} Stops the VM, disables booting from ISO and enables HDD booting and starts the VM again.\\
\textbf{Parameter:}
\begin{itemize}
\item vmName: Name of the VM.
\end{itemize}

\subsection{AUTOTEST\_executePHPFunction}
\textbf{Description:} Executes a PHP function with (optionall) parameters.\\
\textbf{Parameter:}
\begin{itemize}
\item vmName: Name of the VM.
\item params: [0] function name, [1...] parameters for the PHP function.
\end{itemize}

\subsection{AUTOTEST\_VM\_keyboardWrite}
\textbf{Description:} Emulates the keystrokes into a VM.\\
\textbf{Parameter:}
\begin{itemize}
\item vmName: Name of the VM.
\item toType: Input string with normal and special keys.
\end{itemize}

\subsection{AUTOTEST\_VM\_ocrScreen}
\textbf{Description:} Uses gocr to convert the contents of the VirtualBox VM display to text.\\
\textbf{Parameter:}
\begin{itemize}
\item vmName: Name of the VM.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The recognised text of the display.
\end{itemize}

\subsection{AUTOTEST\_VM\_getStatus}
\textbf{Description:} Parses the complete status of a VM.\\
\textbf{Parameter:}
\begin{itemize}
\item vmName: Name of the VM.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Array with the current state of the VM.
\end{itemize}

\subsection{AUTOTEST\_VM\_isRunning}
\textbf{Description:} Checks if a VM is switched on.\\
\textbf{Parameter:}
\begin{itemize}
\item vmName: Name of the VM.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, when the VM is powered on, otherwise false.
\end{itemize}

\newpage\section{./inc/backup.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: functions for controling BackupPC\\

\subsection{BACKUP\_showClientSettings}
\textbf{Description:} Shows the dialog for starting and configuring BackupPC for a special client\\
\textbf{Parameter:}
\begin{itemize}
\item client: name of the client
\end{itemize}

\subsection{BACKUP\_getBackupDirs}
\textbf{Description:} Returns the comma seperated list of directories that should be backupped on the client\\
\textbf{Parameter:}
\begin{itemize}
\item client: name of the client
\end{itemize}

\subsection{BACKUP\_saveBackupDirs}
\textbf{Description:} Saves the list of backup diretories oo the client in the BackupPC file\\
\textbf{Parameter:}
\begin{itemize}
\item client: name of the client
\item dirs: comma seperated list of all directories to backup on the client
\end{itemize}

\subsection{BACKUP\_getAdmins}
\textbf{Description:} Stores informations about known administrators in the BackupPC configuration file in variables.\\
\textbf{Parameter:}
\begin{itemize}
\item adminLine: The current line in config.pl that stores the dsmin informations.
\item admins: Array with all admins.
\end{itemize}

\subsection{BACKUP\_addAdmin}
\textbf{Description:} Adds an admin to the config.pl configuration file of BackupPC.\\
\textbf{Parameter:}
\begin{itemize}
\item admin: Name of the admin.
\end{itemize}

\subsection{BACKUP\_delAdmin}
\textbf{Description:} Deletes an admin from the config.pl configuration file of BackupPC.\\
\textbf{Parameter:}
\begin{itemize}
\item admin: Name of the admin.
\end{itemize}

\newpage\section{./inc/burn.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: functions for burning CDs\\

\subsection{BURN\_listBurners}
\textbf{Description:} returnes a selection of the available burners\\
\textbf{Parameter:}
\begin{itemize}
\item first: entry that should be shown first
\end{itemize}

\subsection{BURN\_getDevice}
\textbf{Description:} returnes the device name for cdrecord from a specific burner\\
\textbf{Parameter:}
\begin{itemize}
\item burner: device name and burner name
\end{itemize}

\subsection{BURN\_blank}
\textbf{Description:} blanks a CD-RW\\
\textbf{Parameter:}
\begin{itemize}
\item dev: device name of the burner
\item method: blanking method (fast, all);
\end{itemize}

\subsection{BURN\_burn}
\textbf{Description:} burns an ISO\\
\textbf{Parameter:}
\begin{itemize}
\item dev: device name of the burner
\item iso: name of the ISO file
\item speed: the write speed
\end{itemize}

\subsection{BURN\_getStatus}
\textbf{Description:} returns the status of the burner (BURNSTATE\_IDLE, BURNSTATE\_BLANK, BURNSTATE\_BURN)\\

\subsection{BURN\_showLog}
\textbf{Description:} shows a status info window about the current burner state\\

\subsection{BURN\_checkISO}
\textbf{Description:} checks, if the client ISO exist and create i otherwise\\
\textbf{Parameter:}
\begin{itemize}
\item arch: Architecture of the ISO (32 bits = i386, 64 bits = amd64).
\end{itemize}

\subsection{BURN\_getISOSize}
\textbf{Description:} Gets the size of an ISO.\\
\textbf{Parameter:}
\begin{itemize}
\item arch: Architecture of the ISO (32 bits = i386, 64 bits = amd64).
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : Size of the ISO or error message, if the ISO could not be found.
\end{itemize}

\newpage\section{./inc/capture.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: routines storing and loading POST and GET values in forms\\

\subsection{CAPTURE\_getKeys}
\textbf{Description:} gets all POST or GET variables and returnes all keys and values as an assiciative array. Values of buttons are filtered out.\\
\textbf{Parameter:}
\begin{itemize}
\item var: set to \$\_POST or \$\_GET
\item allowBut: set to true, if button should be captured too
\end{itemize}

\subsection{CAPTURE\_captureAll}
\textbf{Description:} stores all POST and GET variables to the DB\\
\textbf{Parameter:}
\begin{itemize}
\item step: number of the step, this is used, if there are "subpages" of a page e.g. clientcdistr.php
\item comment: comment to add to the entry
\item allowBut: set to true, if button should be captured too
\end{itemize}

\subsection{CAPTURE\_load}
\textbf{Description:} loads all POST and GET variables for a special page from the DB to emulate the user input while makeing a screenshot\\
\textbf{Parameter:}
\begin{itemize}
\item GET[page]: has to be set to the name of the page
\item GET[captureLoad]: has to be set to "1" to activate loading of the saved values
\end{itemize}

\subsection{CAPTURE\_deActivate}
\textbf{Description:} (de)activates capturing the POST, GET values\\
\textbf{Parameter:}
\begin{itemize}
\item activate: true, if you want to activate capturing. otherwise false
\end{itemize}

\subsection{CAPTURE\_isActive}
\textbf{Description:} returnes true, if capturing of POST, GET values is activated. otherwise false\\

\subsection{CAPTURE\_captureImg}
\textbf{Description:} returnes the status image URL of the current capture state\\

\subsection{CAPTURE\_toggle}
\textbf{Description:} toggles the current capture state\\

\subsection{CAPTURE\_showMessageBox}
\textbf{Description:} shows a message box, if capturing is enabled\\

\subsection{CAPTURE\_showEntries}
\textbf{Description:} shows a table of the captured pages with the possibility to delete entries.\\

\subsection{CAPTURE\_deleteById}
\textbf{Description:} deletes a capture entry.\\
\textbf{Parameter:}
\begin{itemize}
\item id: the id of the capture entry to delete
\end{itemize}

\subsection{CAPTURE\_showMarker}
\textbf{Description:} Shows a new column with a marker that is used for autodetecting the screenshot size by khtml2png.\\

\subsection{CAPTURE\_showTableWith}
\textbf{Description:} Adds a width element if in captureLoad mode.\\

\newpage\section{./inc/CAutoTest.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: Class for test automation.\\

\subsection{CClient::\_\_construct}
\textbf{Description:} Constructor for new CClient objects. The object holds all information about a single client and loads the values from the DB.\\
\textbf{Parameter:}
\begin{itemize}
\item in: ID of an existing client (to load), name of an existing or nonexisting (to create) client or associative array of parameters.
\item checkMode: Check for the input variable.
\end{itemize}

\subsection{CAutoTest::readAndDefineOrDieXML}
\textbf{Description:} Checks, is a given variable has a value that is not NULL (it was read via XML) or let the programm die with an error.\\
\textbf{Parameter:}
\begin{itemize}
\item constant: Name of the constant to define.
\item val: Value read from the XML to check.
\end{itemize}

\subsection{CAutoTest::readSettings}
\textbf{Description:} Reads basic settings from settings.m23test and sets them as constants.\\

\subsection{CAutoTest::VMCreate}
\textbf{Description:} Creates a new VM with virtual hard drive in VirtualBox and (optionally) inserts a bootable ISO into a VM.\\

\subsection{CAutoTest::VMStart}
\textbf{Description:} Starts a virtual machine in an existing X session.\\

\subsection{CAutoTest::setISO}
\textbf{Description:} Sets the filename and path of the ISO image for booting.\\
\textbf{Parameter:}
\begin{itemize}
\item isoFile: Filename and path of the ISO image for booting.
\end{itemize}

\subsection{CAutoTest::getISO}
\textbf{Description:} Get the filename and path to the ISO image for booting.\\
\textbf{Returns:}
\begin{itemize}
\item Filename and path to the ISO image for booting.
\end{itemize}

\subsection{CAutoTest::isVM}
\textbf{Description:} Check, if the the test should be run in a VM.\\
\textbf{Returns:}
\begin{itemize}
\item true, when the test should be run in a VM, otherwise false.
\end{itemize}

\subsection{CAutoTest::getVM\_hdsize}
\textbf{Description:} Get the hard disk size of the virtual machine (to create).\\
\textbf{Returns:}
\begin{itemize}
\item Hard disk size of the VM.
\end{itemize}

\subsection{CAutoTest::getVMRam}
\textbf{Description:} Get the ram size of the virtual machine (to create).\\
\textbf{Returns:}
\begin{itemize}
\item Ram size of the VM.
\end{itemize}

\subsection{CAutoTest::getMachine}
\textbf{Description:} Get the name of the (real or virtual) machine, the test is run on.\\
\textbf{Returns:}
\begin{itemize}
\item Name of the (real or virtual) machine, the test is run on.
\end{itemize}

\subsection{CAutoTest::getMovieFileName}
\textbf{Description:} Get the movie file name for capturing the VM's screen.\\
\textbf{Returns:}
\begin{itemize}
\item Movie file name (with full path) for capturing the VM's screen.
\end{itemize}

\subsection{CAutoTest::getLogFileName}
\textbf{Description:} Get the file name for the log file.\\
\textbf{Returns:}
\begin{itemize}
\item Log file name (with full path).
\end{itemize}

\subsection{CAutoTest::addToLogFile}
\textbf{Description:} Appends lines to the log file.\\
\textbf{Parameter:}
\begin{itemize}
\item lines: The lines to add.
\end{itemize}

\subsection{CAutoTest::getTimestampString}
\textbf{Description:} Returns the date and time in human readable form.\\
\textbf{Returns:}
\begin{itemize}
\item Date and time in human readable form.
\end{itemize}

\subsection{CAutoTest::setTriggered}
\textbf{Description:} Sets the trigger state ofthe current sequence event.\\
\textbf{Parameter:}
\begin{itemize}
\item triggered: true, when the current sequence event was triggered, otherwise false.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, when the current sequence event was triggered.
\end{itemize}

\subsection{CAutoTest::isTriggered}
\textbf{Description:} Checks, if the current sequence event was triggered.\\
\textbf{Returns:}
\begin{itemize}
\item true, when the current sequence event was triggered.
\end{itemize}

\subsection{CAutoTest::setTimeout}
\textbf{Description:} Sets the timeout for the current sequence element.\\

\subsection{CAutoTest::decTimeout}
\textbf{Description:} Decrements the remaining time for the timeout.\\

\subsection{CAutoTest::addToSequence}
\textbf{Description:} Adds an element to the sequence.\\
\textbf{Parameter:}
\begin{itemize}
\item triggerType: Type of the trigger (CAutoTest::TRIGGER\_*) or the type event, that should happen to begin with the given element of the sequence.
\item triggerParam: Parameter for the trigger (e.g. string that should be read from the screen when in CAutoTest::TRIGGER\_OCR mode).
\item answersA: Associative array with the answers and parameters.
\item execType: Type of action (CAutoTest::EXEC\_*), that will be executed when the trigger is hit.
\item execParam: Parameter for the action (e.g. keys to press, when in CAutoTest::EXEC\_KEY mode).
\item timeout: Time to wait (in seconds) until the element of sequence will become a failure.
\item description: Description for the test.
\end{itemize}

\subsection{CAutoTest::matchArray}
\textbf{Description:} Checks, if the search text is found in one of the texts contained in the array.\\
\textbf{Parameter:}
\begin{itemize}
\item search: Text to search in the array elements.
\item array: Array with texts as element values.
\end{itemize}

\subsection{CAutoTest::getAnswersA}
\textbf{Description:} Returns the array with the answers of the current sequence element.\\
\textbf{Returns:}
\begin{itemize}
\item Array with the answers of the current sequence element.
\end{itemize}

\subsection{CAutoTest::getTriggerTypes}
\textbf{Description:} Returns the trigger type of the current sequence element.\\
\textbf{Returns:}
\begin{itemize}
\item Trigger type of the current sequence element.
\end{itemize}

\subsection{CAutoTest::getTriggerParams}
\textbf{Description:} Returns the trigger parameter of the current sequence element.\\
\textbf{Returns:}
\begin{itemize}
\item Trigger parameter of the current sequence element.
\end{itemize}

\subsection{CAutoTest::getExecTypes}
\textbf{Description:} Returns the type of execution of the current sequence element.\\
\textbf{Returns:}
\begin{itemize}
\item Type of execution of the current sequence element.
\end{itemize}

\subsection{CAutoTest::getExecParams}
\textbf{Description:} Returns the parameter for execution of the current sequence element.\\
\textbf{Returns:}
\begin{itemize}
\item Parameter for execution of the current sequence element.
\end{itemize}

\subsection{CAutoTest::checkTriggerResult}
\textbf{Description:} Checks, if the result (e.g. from AUTOTEST\_VM\_ocrScreen) is found in the good, warn or bad array and executes the matching element finish handler.\\

\subsection{CAutoTest::executeTriggerAction}
\textbf{Description:} Executes the action of the current sequence element.\\

\subsection{CAutoTest::waitForTrigger}
\textbf{Description:} Waits for a trigger event, to execute the action.\\

\subsection{CAutoTest::getCurElement}
\textbf{Description:} Returns the current sequence element.\\
\textbf{Returns:}
\begin{itemize}
\item Trigger type of the current sequence element.
\end{itemize}

\subsection{CAutoTest::nextCurElement}
\textbf{Description:} Increments the current sequence element number.\\

\subsection{CAutoTest::showAndLogMessage}
\textbf{Description:} Shows a message and logs it to the log file.\\
\textbf{Parameter:}
\begin{itemize}
\item msg: Message to show in the console and the log file.
\item prefix: A prefix show before the message to indicate the type of the message.
\end{itemize}

\subsection{CAutoTest::elemOk}
\textbf{Description:} The current sequence elements was finished sucessfully.\\
\textbf{Parameter:}
\begin{itemize}
\item msg: Message to show in the console and the log file.
\end{itemize}

\subsection{CAutoTest::elemWarn}
\textbf{Description:} The current sequence elements was finished with a warning.\\
\textbf{Parameter:}
\begin{itemize}
\item msg: Message to show in the console and the log file.
\end{itemize}

\subsection{CAutoTest::elemBad}
\textbf{Description:} There was an error in the current sequence element, so the execution must bestopped.\\
\textbf{Parameter:}
\begin{itemize}
\item msg: Message to show in the console and the log file.
\end{itemize}

\subsection{CAutoTest::setVariableFromXML}
\textbf{Description:} Returns the input value when it is not NULL or exists the script with an error message.\\
\textbf{Parameter:}
\begin{itemize}
\item val: Input value.
\item descr: Description for the value.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Input value when it is not NULL or exists the script with an error message.
\end{itemize}

\subsection{CAutoTest::triggerTypeToConstant}
\textbf{Description:} Tries to convert the trigger type (string) to a trigger type constant.\\
\textbf{Parameter:}
\begin{itemize}
\item type: Trigger type (string).
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Trigger type constant.
\end{itemize}

\subsection{CAutoTest::parseTriggerFromXML}
\textbf{Description:} Parses the trigger and its type from the XML.\\
\textbf{Parameter:}
\begin{itemize}
\item xmlO: Prased XML structure pointing to the trigger.
\item testDescription: Description of the test.
\item testTrigger: Trigger parameter. (Result is written to this pointer)
\item testTriggerType: Trigger type. (Result is written to this pointer)
\end{itemize}

\subsection{CAutoTest::parseActionFromXML}
\textbf{Description:} Parses the action and its type from the XML.\\
\textbf{Parameter:}
\begin{itemize}
\item xmlO: Prased XML structure pointing to the action.
\item testDescription: Description of the test.
\item testAction: Action parameter. (Result is written to this pointer)
\item testActionType: Action type. (Result is written to this pointer)
\end{itemize}

\subsection{CAutoTest::parseAnswersFromXML}
\textbf{Description:} Parses an (good, warn, bad) array from the XML.\\
\textbf{Parameter:}
\begin{itemize}
\item xmlO: Prased XML structure pointing to the array.
\item goodWarnBad: Answer type (CAutoTest::GWB\_GOOD, GWB\_WARN or GWB\_BAD).
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Associative array with the good, warn or bad answers, how to fetch the answer from the client/webbrowser/etc. and the answer type (GWB\_GOOD, GWB\_WARN or GWB\_BAD).
\end{itemize}

\subsection{CAutoTest::parseXML}
\textbf{Description:} Parses the XML test description file.\\
\textbf{Parameter:}
\begin{itemize}
\item xmlFile: File name (with full path) of the XML test description file.
\item argv: Array with the command line parameters.
\end{itemize}

\newpage\section{./inc/CFDiskAlles.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: functions for partition and format of the client. print partition information and do the format itself.\\

\subsection{FDISK\_mdToEndOfArray}
\textbf{Description:} Orders all MD devices from the input array to the end of the output array.\\
\textbf{Parameter:}
\begin{itemize}
\item in: Associative array with devices as keys and values (e.g Array ( [/dev/md0] =$>$ /dev/md0 [/dev/sda1] =$>$ /dev/sda1 [/dev/sdb2] =$>$ /dev/sdb2 )).
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Associative array with devices as keys and values where the MDs are at the end (e.g. Array ( [/dev/sda1] =$>$ /dev/sda1 [/dev/sdb2] =$>$ /dev/sdb2 [/dev/md0] =$>$ /dev/md0 )).
\end{itemize}

\subsection{FDISK\_fdiskSessionReset}
\textbf{Description:} Sets back all session variables (client name optionally) for partitioning and formating a client.\\
\textbf{Parameter:}
\begin{itemize}
\item resetClientName: If set to true, the name of the client will be deleted too (and re-set by FDISK\_fdiskSessionClient).
\end{itemize}

\subsection{FDISK\_fdiskSessionPartMethod}
\textbf{Description:} Stores the partitioning method in the session.\\
\textbf{Parameter:}
\begin{itemize}
\item newMethod: The new method to set or false for not changing.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The current partitioning method.
\end{itemize}

\subsection{FDISK\_fdiskSessionTitle}
\textbf{Description:} Stores the partitioning title in the session.\\
\textbf{Parameter:}
\begin{itemize}
\item newTitle: The new title to set or false for not changing.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The current partitioning title.
\end{itemize}

\subsection{FDISK\_getPartitionByType}
\textbf{Description:} Gets the FIRST partition matching a partition type.\\
\textbf{Parameter:}
\begin{itemize}
\item param: parameter string containing status informations about the harddisks
\item vDev: Virtual (internally used) device number.
\item type: type of the partition (primary, extended, logical)
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Virtual partition number of the FIRST partition matching a partition type or false, if no partition was found.
\end{itemize}

\subsection{FDISK\_listDrivesAndPartitions}
\textbf{Description:} Generates a selection that contains all drives and partitions of a given client.\\
\textbf{Parameter:}
\begin{itemize}
\item param: parameter string containing status informations about the harddisks
\item default: the drive to show first
\item selName: the name the selection is called in PHP and HTML
\item pathFilter: Set this to another value than false if you want only devices with a given string in it.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item String with the HTML selection.
\end{itemize}

\subsection{FDISK\_selectDrives}
\textbf{Description:} creates a selection list of all drives\\
\textbf{Parameter:}
\begin{itemize}
\item param: parameter string containing status informations about the harddisks
\item selName: the name the selection is called in PHP and HTML
\item first: the drive to show first
\end{itemize}

\subsection{FDISK\_getFirstDrive}
\textbf{Description:} return the first drive as installation drive\\
\textbf{Parameter:}
\begin{itemize}
\item param: parameter string containing status informations about the harddisks
\end{itemize}

\subsection{FDISK\_delFstab}
\textbf{Description:} Removes an entry from the fstab array.\\
\textbf{Parameter:}
\begin{itemize}
\item fstab: Array that contains the fstab information. The changed fstab will be written to this parameter too.
\item fstabNr: Number of the fstab entry to delete.
\end{itemize}

\subsection{FDISK\_fstabAddDialog2}
\textbf{Description:} Dialog for adding fstab entries. This version uses the param and fstab parameters from the session.\\

\subsection{FDISK\_adjustFstabParam}
\textbf{Description:} Adjust the parameter block of a fstab line to make it use an supported FS.\\
\textbf{Parameter:}
\begin{itemize}
\item param: The parameter block of a fstab line
\item sourceName: The name of the package source list
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Adjust the parameter block of a fstab line
\end{itemize}

\subsection{FDISK\_genManualFstab}
\textbf{Description:} Generates commands to edit a given fstab, add new entries and remove old ones before.\\
\textbf{Parameter:}
\begin{itemize}
\item param: parameter string containing status informations about the harddisks
\item mntPrefix: Prefix to set before the mountpoint (e.g. /mnt/m23root/)
\end{itemize}

\subsection{FDISK\_getAllDrives}
\textbf{Description:} gets all drives of the client\\
\textbf{Parameter:}
\begin{itemize}
\item partitions: associative array containing status information about the harddisks
\end{itemize}

\subsection{FDISK\_listSupportedFS}
\textbf{Description:} lists all supported fileSystems for the menu.\\
\textbf{Parameter:}
\begin{itemize}
\item selName: name the selection list, used for the html form
\item showFirst: name of file system shown first
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The currently choosen file system.
\end{itemize}

\subsection{FDISK\_listInstPartSelector}
\textbf{Description:} lists all partitions to select for swap and install partition\\
\textbf{Parameter:}
\begin{itemize}
\item param: parameter string containing status informations about the harddisks
\item default: partition that should be shown as selected
\item type: array with filesystems that are possible for installation or swap
\item selName: name of the selection
\end{itemize}

\subsection{FDISK\_defineDrive}
\textbf{Description:} defines drive information for the clientBuilder\\
\textbf{Parameter:}
\begin{itemize}
\item client: client name
\item path: path to the drive (/dev/hda, /dev/hdb, ...)
\item size: size of the drive in MB
\item upperI: upper tolerance border for disks with identical type
\item lowerI: lower tolerance border for disks with identical type
\item upperO: upper tolerance border for disks with other type
\item lowerO: lower tolerance border for disks with other type
\item asSpeciefied: use the speciefied disk, if it exists (is set to "yes" or empty)
\item sizeAdjustmentType: defines how the partitions should be adjusted, if there is more or less space on the client that the defined one. "system" increases or tries to keep the size of the system partition. "percentage" makes a percentage adjustment of all partitions.
\end{itemize}

\subsection{FDISK\_getDiskType}
\textbf{Description:} returnes the type of the drive (CFDiskBasic::DISK\_TYPE\_IDE, CFDiskBasic::DISK\_TYPE\_SCSI)\\
\textbf{Parameter:}
\begin{itemize}
\item path: the path to the device (e.g. /dev/hde)
\end{itemize}

\subsection{FDISK\_getDrivePartitionSize}
\textbf{Description:} Calculates the size of a drive or partition.\\
\textbf{Parameter:}
\begin{itemize}
\item vDev: Virtual (internally used) device number.
\item vPart: Virtual (internally used) partition number. This is normally another number than the physical number (e.g. 0 on /dev/hda1)
\item param: parameter string containing status information about the harddisks
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Size of the drive or partition in MB.
\end{itemize}

\subsection{FDISK\_deleteDriveFromParam}
\textbf{Description:} Deletes all drive and partition parameters of a drive from param without correcting any order.\\
\textbf{Parameter:}
\begin{itemize}
\item vDev: Virtual (internally used) device number of the drive to delete.
\item param: parameter string containing status informations about the harddisks.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Changed param without the drive.
\end{itemize}

\subsection{CFDiskIO::setClientName}
\textbf{Description:} Sets the client name, if given via constructor.\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: String to check, if it is a valid client name.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : true, if it is a valid client name, otherwise false.
\end{itemize}

\subsection{CFDiskIO::getClientName}
\textbf{Description:} Gets the client name, if set via constructor.\\
\textbf{Returns:}
\begin{itemize}
\item : Client name or dies, when no client name was set.
\end{itemize}

\subsection{CFDiskIO::getClientObject}
\textbf{Description:} Gets the client object, of the client the partitioning belongs to.\\
\textbf{Returns:}
\begin{itemize}
\item : Client object.
\end{itemize}

\newpage\section{./inc/checks.php}
 Author: Daniel Kasten (DKasten@pc-kiel.de), Hauke Goos-Habermann (hauke@goos-habermann.de)\\
 Description: different checks for validation of email, ip, netmasks, etc.\\

\subsection{CHECK\_safeFilename}
\textbf{Description:} Make sure, the file/directory name is safe and doesn't contain evil characters.\\
\textbf{Parameter:}
\begin{itemize}
\item fileName: File/directory name to make safe.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The safe made file/directory name.
\end{itemize}

\subsection{CHECK\_text2db}
\textbf{Description:} Makes a text safe for using it in the database.\\
\textbf{Parameter:}
\begin{itemize}
\item val: Text to use;
\item like: Set to true if the text should be used as the LIKE parameter.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The safe made text.
\end{itemize}

\subsection{CHECK\_db2text}
\textbf{Description:} Converts a string from the DB format to a normal string.\\
\textbf{Parameter:}
\begin{itemize}
\item val: String to use.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The safe made text.
\end{itemize}

\subsection{CHECK\_FW}
\textbf{Description:} Variable checking firewall, that checks a bunch of variables if they contain only valid characters.\\
\textbf{Parameter:}
\begin{itemize}
\item List of parameters, where the first of two is the checking parameter and the second the value to check.
\end{itemize}

\subsection{CHECK\_deviceName}
\textbf{Description:} Checks if the input value is a valid device name for a HD drive or partition or a RAID.\\
\textbf{Parameter:}
\begin{itemize}
\item devName: Device name to check.
\item partition: Set to true if you want to check for a partition.
\item diskOrPartition: Set to true, if a disk or partition should be valid. This overwrites the parameter "partition".
\item raidAllowed: Set to true, if RAIDs are allowed too.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The input value is a valid drive, partition or RAID or false on an error.
\end{itemize}

\subsection{CHECK\_mointPoint}
\textbf{Description:} Checks if the input value is a valid mountpoint.\\
\textbf{Parameter:}
\begin{itemize}
\item mountpoint: Mountpoint to check.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The input value is a valid mountpoint or false on an error.
\end{itemize}

\subsection{CHECK\_int}
\textbf{Description:} Checks if the input value is an integer and shuts down the application if not.\\
\textbf{Parameter:}
\begin{itemize}
\item val: Input value to check.
\item allowEmpty: Set to true if you want to allow empty strings.
\item returnNoDie: Set to true if you want to return (instead of aborting the program) when an error in the input is found.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The input value is an integer or false on an error.
\end{itemize}

\subsection{CHECK\_float}
\textbf{Description:} Checks if the input value is a float number and shuts down the application if not.\\
\textbf{Parameter:}
\begin{itemize}
\item val: Input value to check.
\item allowEmpty: Set to true if you want to allow empty strings.
\item returnNoDie: Set to true if you want to return (instead of aborting the program) when an error in the input is found.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The input value if it's a float number or false on an error.
\end{itemize}

\subsection{CHECK\_strAlpha}
\textbf{Description:} Checks if the input value is a string that contains only characters and shuts down the application if not.\\
\textbf{Parameter:}
\begin{itemize}
\item val: Input value to check.
\item maxlen: The maximal length of the the string or 0 if the string length doesn't matter.
\item allowEmpty: Set to true if you want to allow empty strings.
\item returnNoDie: Set to true if you want to return (instead of aborting the program) when an error in the input is found.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The input value if it contains only characters or stops (or false, if \$returnNoDie is true) the program on an error.
\end{itemize}

\subsection{CHECK\_strAlphaNum}
\textbf{Description:} Checks if the input value is a string that contains only characters and digits and shuts down the application if not.\\
\textbf{Parameter:}
\begin{itemize}
\item val: Input value to check.
\item maxlen: The maximal length of the the string or 0 if the string length doesn't matter.
\item allowEmpty: Set to true if you want to allow empty strings.
\item returnNoDie: Set to true if you want to return (instead of aborting the program) when an error in the input is found.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The input value if it contains only characters and digits or stops (or false, if \$returnNoDie is true) the program on an error.
\end{itemize}

\subsection{CHECK\_letFWDie}
\textbf{Description:} Lets the variable checking firewall die with error message and info why and where it stopped executing the script.\\
\textbf{Parameter:}
\begin{itemize}
\item dieMessage: Message to show if the script should be stopped.
\end{itemize}

\subsection{CHECK\_str}
\textbf{Description:} Checks if the input string only contains valid characters and is not longer than the maximum length and shuts down the application if not.\\
\textbf{Parameter:}
\begin{itemize}
\item val: String value to check.
\item maxlen: The maximal length of the the string or 0 if the string length doesn't matter.
\item allowEmpty: Set to true if you want to allow empty strings.
\item returnNoDie: Set to true if you want to return (instead of aborting the program) when an error in the input is found.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The input string or stops the program on an error.
\end{itemize}

\subsection{countLinesInFile}
\textbf{Description:} counts the lines of a file, return value is the amount of lines\\
\textbf{Parameter:}
\begin{itemize}
\item dateiname: file name
\item ignoreEmpty: If set to true, empty lines are ignored.
\end{itemize}

\subsection{checkIP}
\textbf{Description:} checks if an ip is valid\\
\textbf{Parameter:}
\begin{itemize}
\item string: ip value to check
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true if IP is valid, else false
\end{itemize}

\subsection{checkMAC}
\textbf{Description:} Checks if a MAC address is valid.\\
\textbf{Parameter:}
\begin{itemize}
\item mac: MAC address to test.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item 
\end{itemize}

\subsection{checkNetmask}
\textbf{Description:} checks if a netmask is valid\\
\textbf{Parameter:}
\begin{itemize}
\item string: netmask value to check
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true if netmask is valid, else false
\end{itemize}

\subsection{checkEmail}
\textbf{Description:} checks if a email address is valid, returns 1 if it is a valid netmask otherwise 0\\
\textbf{Parameter:}
\begin{itemize}
\item string: email address value to check
\end{itemize}

\subsection{checkFQDN}
\textbf{Description:} Checks if a string contains only characters that are allowed in a FQDN.\\
\textbf{Parameter:}
\begin{itemize}
\item string: string to check for special characters
\end{itemize}

\subsection{checkNormalKeys}
\textbf{Description:} checks if a string doesn't contain any special letters, returns 1 if it doesn't contain special characters otherwise 0\\
\textbf{Parameter:}
\begin{itemize}
\item string: string to check for special characters
\end{itemize}

\newpage\section{./inc/client_details.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: Functions for drawing the buttons etc. in client\_details.php.\\

\subsection{CLIENT\_DETAILS\_beginCategory}
\textbf{Description:} Starts a new named section for icons.\\
\textbf{Parameter:}
\begin{itemize}
\item title: Title of the section.
\item anchor: A HTML anchor where the a special URL can jump to.
\end{itemize}

\subsection{CLIENT\_DETAILS\_endCategory}
\textbf{Description:} Ends the previously opened icon section.\\

\subsection{CLIENT\_DETAILS\_addIcon}
\textbf{Description:} Adds an icon in a section.\\
\textbf{Parameter:}
\begin{itemize}
\item page: The m23 page to link to.
\item urlParams: Additional parameters for the URL (e.g. "\&action=deinstall").
\item icon: File name of the icon placed under /m23/data+scripts/gfx.
\item title: Title for the icon shown under it.
\item tooltip: The tooltip text that is shown when the mouse is over the icon.
\end{itemize}

\subsection{CLIENT\_DETAILS\_addIcon2}
\textbf{Description:} Adds an icon in a section that can link to all URLs.\\
\textbf{Parameter:}
\begin{itemize}
\item url: The URL to link to.
\item icon: File name of the icon placed under /m23/data+scripts/gfx.
\item title: Title for the icon shown under it.
\item tooltip: The tooltip text that is shown when the mouse is over the icon.
\end{itemize}

\newpage\section{./inc/client.php}
 Author: Daniel Kasten (DKasten@pc-kiel.de), Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: a lot of routines for client handling. routines for: install and deinstall packages on clients, get information about a special client, list all clients,...\\

\subsection{CLIENT\_removeServerCache}
\textbf{Description:} Removes the client cache on the m23 server.\\
\textbf{Parameter:}
\begin{itemize}
\item client: Name of the client.
\end{itemize}

\subsection{CLIENT\_touchLiveLogFile}
\textbf{Description:} Touches the live log file of a given client and returns the full name of the log file (with directory).\\
\textbf{Parameter:}
\begin{itemize}
\item client: Name of the client.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The full name of the log file (with directory).
\end{itemize}

\subsection{CLIENT\_getNextFreeIp}
\textbf{Description:} Get the next free IP address that can be used as m23 client.\\
\textbf{Returns:}
\begin{itemize}
\item Next free IP address.
\end{itemize}

\subsection{CLIENT\_getAllAsRes}
\textbf{Description:} Creates and executes an SQL statement for getting all values of all clients.\\
\textbf{Parameter:}
\begin{itemize}
\item order: Name of the field to order the results by.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item MySQL resource ID.
\end{itemize}

\subsection{CLIENT\_touchLogFile}
\textbf{Description:} Touches a log file in the client's directory and returns the full name of the log file (with directory).\\
\textbf{Parameter:}
\begin{itemize}
\item client: Name of the client.
\item base: The base name of the log file.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The full name of the log file (with directory).
\end{itemize}

\subsection{CLIENT\_liveLogJobName}
\textbf{Description:} Generates the job name of the sever's live log job.\\
\textbf{Parameter:}
\begin{itemize}
\item client: Name of the client.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The job name of the sever's live log job.
\end{itemize}

\subsection{CLIENT\_stopLiveScreenRecording}
\textbf{Description:} Stops the screen installation session for real-time client logging.\\
\textbf{Parameter:}
\begin{itemize}
\item client: Name of the client.
\end{itemize}

\subsection{CLIENT\_startLiveScreenRecording}
\textbf{Description:} Saves a screen installation session to a log file on the server in real-time. The server runs a screen for consecutively connecting the client.\\
\textbf{Parameter:}
\begin{itemize}
\item client: Name of the client.
\end{itemize}

\subsection{CLIENT\_getOverviewSearchLine}
\textbf{Description:} Checks all client search dialogs and returns the current search term.\\
\textbf{Parameter:}
\begin{itemize}
\item amount: Amount of client search dialogs to check.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The current client search term.
\end{itemize}

\subsection{CLIENT\_showOverviewSearchDialog}
\textbf{Description:} Shows a client search dialog for the client overview.\\
\textbf{Parameter:}
\begin{itemize}
\item htmlName: Base name for the HTML edit line and the buttons.
\item addTable: If set to true, a table structure is build around the dialog.
\end{itemize}

\subsection{CLIENT\_extraWebAction}
\textbf{Description:} Executes extra actions from the client details page.\\
\textbf{Parameter:}
\begin{itemize}
\item action: The action to execute.
\item client: Name of the client.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item True if the action was executed or false otherwise.
\end{itemize}

\subsection{CLIENT\_getOption}
\textbf{Description:} Returns an option of a client.\\
\textbf{Parameter:}
\begin{itemize}
\item client: Name of the client.
\item optionName: Name of the option to ask (e.g. 'distr' for the client's distribution)
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Value of the option the client uses.
\end{itemize}

\subsection{CLIENT\_getDistribution}
\textbf{Description:} Returns the distribution of a client.\\
\textbf{Parameter:}
\begin{itemize}
\item client: Name of the client.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Name of the distribution, the client uses.
\end{itemize}

\subsection{CLIENT\_runDebconf}
\textbf{Description:} Generates BASH code to import debconf settings from the DB into the debconf of the client.\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: Name of the client.
\end{itemize}

\subsection{CLIENT\_copyDebconfDB}
\textbf{Description:} Copies all debconf values from one client to another.\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: Name of the source client.
\item destClient: Name of the destination client.
\end{itemize}

\subsection{CLIENT\_setDebconfDB}
\textbf{Description:} Sets debconf values for a client and a package.\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: Name of the client.
\item package: Name of the package.
\item variablesValues[varname][val]: Value for the variable "varname".
\item variablesValues[varname][type]: Type of the variable "varname".
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item debconf for debconf-set-selections.
\end{itemize}

\subsection{CLIENT\_getDebconfDB}
\textbf{Description:} Generates the debconf output as debconf-set-selections expects it from the DB value.\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: Name of the client.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item debconf for debconf-set-selections.
\end{itemize}

\subsection{CLIENT\_getDebconfDBValue}
\textbf{Description:} Get the debconf value of a variable of a package.\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: Name of the client.
\item package: Name of the package.
\item var: Name of the variable to ask the value for.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Value of the package variable.
\end{itemize}

\subsection{CLIENT\_getAllClientNames}
\textbf{Description:} Gets the names of all clients.\\
\textbf{Returns:}
\begin{itemize}
\item Array with the names of all clients.
\end{itemize}

\subsection{CLIENT\_getClientAmount}
\textbf{Description:} Gets the amount of all clients.\\
\textbf{Returns:}
\begin{itemize}
\item Amount of all clients.
\end{itemize}

\subsection{CLIENT\_getCurrentMemoryUsage}
\textbf{Description:} Gets the amount of free and total memory on a client or localhost.\\
\textbf{Parameter:}
\begin{itemize}
\item clientNameOrIP: The name of the client or localhost or an IP.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Associative array with the free memory in \$out['free'] and the total memory in \$out['all'] in KB.
\end{itemize}

\subsection{CLIENT\_getCurrentFreeSpaceInDir}
\textbf{Description:} Get the amount of free space in a given directory on a client or localhost.\\
\textbf{Parameter:}
\begin{itemize}
\item clientNameOrIP: The name of the client or localhost or an IP.
\item dir: The directory to check for.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The amount of free space in the directory in 1K blocks.
\end{itemize}

\subsection{CLIENT\_getClientID}
\textbf{Description:} Returnes the ID of the calling client.\\

\subsection{CLIENT\_getActiveNetDevices}
\textbf{Description:} Checks for active network devices on a client or localhost.\\
\textbf{Parameter:}
\begin{itemize}
\item clientNameOrIP: The name of the client or localhost or an IP.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Associtative array with active network cards (e.g. Array ( [0] =$>$ Array ( [dev] =$>$ eth0 [type] =$>$ encap:Ethernet [mac] =$>$ 00:52:66:23:00:23 ) [1] =$>$ Array ( [dev] =$>$ venet0 [type] =$>$ encap:UNSPEC [mac] =$>$ 00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00 ) )
\end{itemize}

\subsection{CLIENT\_executeOnClientOrIP}
\textbf{Description:} Runs a script with "screen" in the background or under a plain BASH under a given user. The script can be executed on the local machine "localhost" or a remote client that is accessible via SSH with a public key and without a password.\\
\textbf{Parameter:}
\begin{itemize}
\item clientNameOrIP: The name of the client or localhost or an IP.
\item jobName: name of the job screen should show
\item cmds: the commands of the script 
\item user: user the script should be run under
\item runInScreen: Set to true if the execution should be done in "screen". False executes it under the normal BASH.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The output of the screen (only available on direct output if \$runInScreen is false.
\end{itemize}

\subsection{CLIENT\_isBasesystemInstalledFromImage}
\textbf{Description:} Detects if the base system should be installed from an image.\\
\textbf{Parameter:}
\begin{itemize}
\item options: Array with the client options.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true if it should be installed from an image, otherwise false
\end{itemize}

\subsection{CLIENT\_addClient}
\textbf{Description:} adds a new client to the database and prepares the client for the installation\\
\textbf{Parameter:}
\begin{itemize}
\item data['client']: client name
\item data['office']: office
\item data['name']: name of the user
\item data['familyname']: family name of the user
\item data['email']: email
\item data['mac']: client MAC
\item data['ip']: IP of the client
\item data['netmask']: netmask of the client
\item data['gateway']: gateway of the client
\item data['dns1']: DNS server 1
\item data['dns2']: DNS server 2
\item data['newgroup']: group of the client
\item data['language']: client language
\item data['firstpw']: password for the first user login
\item data['rootpassword']: root password
\item options['packageProxy']: the ip of the proxy the packages should be fetched from
\item options['packagePort']: the proxy port
\item options['netRootPwd']: password for root during network booting
\item options['ldaptype']: type of the LDAP server
\item options['ldapserver']: name of the LDAP server
\item options['nfshomeserver']: NFS home server with full path
\item options['login']: login name for the user
\item options['userID']: user ID for the LDAP account
\item options['groupID']: group ID for the LDAP account
\item options['addNewLocalLogin']		= \$\_POST[addNewLocalLogin];
\item options['timeZone']: POSIX timezone
\item options['getSystemtimeByNTP']: "yes", if the system time should be set with NTP
\item options['installPrinter']: "yes", if printer drivers should be installed and printers detected
\item clientAddType: can be CLIENT\_ADD\_TYPE\_add if the client should be added, CLIENT\_ADD\_TYPE\_define if it should be defined for mass installation or CLIENT\_ADD\_TYPE\_assimilate if the client should be imported into the m23 system.
\item cryptRootPw: set to true, if the password should be encrypted or false, if it's already encrypted
\end{itemize}

\subsection{CLIENT\_IPexists}
\textbf{Description:} checks if an IP with the selected IP exists and returns true if yes, otherwise false\\
\textbf{Parameter:}
\begin{itemize}
\item ip: IP to check
\end{itemize}

\subsection{CLIENT\_MACexists}
\textbf{Description:} checks if a mac with the selected mac exists and returns true if yes, otherwise false\\
\textbf{Parameter:}
\begin{itemize}
\item mac: MAC to check
\end{itemize}

\subsection{CLIENT\_exists}
\textbf{Description:} checks if a client with the selected name exists and returns true if yes, otherwise false\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client
\end{itemize}

\subsection{CLIENT\_getAskingParams}
\textbf{Description:} returns database parameters of the asking client. The client is authetified by its m23shared clients name, client ID or ip\\

\subsection{CLIENT\_getParams}
\textbf{Description:} returns database parameters of a special client\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client
\end{itemize}

\subsection{CLIENT\_getClientStatus}
\textbf{Description:} returnes the current client status\\
\textbf{Parameter:}
\begin{itemize}
\item client: name of the client
\end{itemize}

\subsection{CLIENT\_getProperty}
\textbf{Description:} fetches a property from the client information of the database\\
\textbf{Parameter:}
\begin{itemize}
\item client: name of the client
\item var: name of the property
\end{itemize}

\subsection{CLIENT\_listPackages}
\textbf{Description:} lists all packages on the client\\
\textbf{Parameter:}
\begin{itemize}
\item client: name of the client
\item key: keyword for searching for packages
\item withActions: you can select to draw te action selection button, if you set it to true, you can delete packages and discard package deletion jobs
\end{itemize}

\subsection{CLIENT\_getPossibleActions}
\textbf{Description:} list the possible actions. e.g. if a package is installed it can be uninstalled\\
\textbf{Parameter:}
\begin{itemize}
\item status: actual status of the package
\item actionNr: number of the action radio button
\item package: name of the package
\end{itemize}

\subsection{CLIENT\_acceptChanges}
\textbf{Description:} removes packages or discards changes\\
\textbf{Parameter:}
\begin{itemize}
\item client: name of zhe client
\item amount: amount of packages in the web interface
\end{itemize}

\subsection{CLIENT\_showHardwareInfo}
\textbf{Description:} prints a table with hardware informations\\
\textbf{Parameter:}
\begin{itemize}
\item client: name of zhe client
\end{itemize}

\subsection{CLIENT\_showGeneralInfo}
\textbf{Description:} prints a table with general information\\
\textbf{Parameter:}
\begin{itemize}
\item id: id of the client
\item generateEnterKeep: set to true, if you want these values to be generated,entered or kept
\end{itemize}

\subsection{CLIENT\_showWaitingJobs}
\textbf{Description:} shows the waiting jobs for the client\\
\textbf{Parameter:}
\begin{itemize}
\item client: name of the client
\end{itemize}

\subsection{CLIENT\_setLastmodify}
\textbf{Description:} sets the last modified time of a client\\
\textbf{Parameter:}
\begin{itemize}
\item id: id of the client
\item client: name of the client
\end{itemize}

\subsection{CLIENT\_getSubnet}
\textbf{Description:} gets the subnet of a given ip and netmask\\
\textbf{Parameter:}
\begin{itemize}
\item ip: ip address
\item netmask: netmask
\end{itemize}

\subsection{CLIENT\_getBroadcast}
\textbf{Description:} gets the broadcast of a given ip and netmask\\
\textbf{Parameter:}
\begin{itemize}
\item ip: ip address
\item netmask: netmask
\end{itemize}

\subsection{CLIENT\_convertMac}
\textbf{Description:} converts a mac address to a 00:11... or 0011 format\\
\textbf{Parameter:}
\begin{itemize}
\item mac: the mac address
\item splitter: select a character to split the mac in couples of two characters, if you leeave it blank, splitting characters will be removed
\end{itemize}

\subsection{CLIENT\_getIPbyName}
\textbf{Description:} returns the ip from a selected clientname\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client
\end{itemize}

\subsection{CLIENT\_getNamebyIP}
\textbf{Description:} returns the clientname from a selected ip\\
\textbf{Parameter:}
\begin{itemize}
\item ip: ip of the client
\end{itemize}

\subsection{CLIENT\_getMACbyName}
\textbf{Description:} returns the mac from a selected clientname\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client
\end{itemize}

\subsection{CLIENT\_sshFetchJob}
\textbf{Description:} Connects to the client via SSH and lets the next job fetch and execute it in a screen (named "m23install").\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client
\item ip: Optional parameter for the client's IP (faster than getting the IP by the client name)
\end{itemize}

\subsection{CLIENT\_backToRed}
\textbf{Description:} Sets a client back to red state, as it was just after adding it.\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client
\end{itemize}

\subsection{CLIENT\_desasterRecovery}
\textbf{Description:} recover a client: all client jobs are done again, status is set to 0\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client
\item addInstallRemovalJobs: If set to true, the names of all installed packages will be combined to a m23normal and all revomed to a m23normalRemove job.
\item addShutdownOrRebootPackage: If set to true, a shutdown or reboot package will be added.
\end{itemize}

\subsection{CLIENT\_wol}
\textbf{Description:} wakes a client over the network\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client
\end{itemize}

\subsection{CLIENT\_recalculateStatusBar}
\textbf{Description:} Recalculates the percent points for the pending jobs on a client.\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client
\end{itemize}

\subsection{CLIENT\_resetStatusBar}
\textbf{Description:} Resets the percent points to 0 for the pending jobs on a client.\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client
\end{itemize}

\subsection{CLIENT\_startInstall}
\textbf{Description:} starts the installation on a client\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client
\end{itemize}

\subsection{CLIENT\_resetAndInstall}
\textbf{Description:} Resets or wakes the client to boot from network and run jobs\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client
\end{itemize}

\subsection{CLIENT\_getBootType}
\textbf{Description:} gets the type of network boot (pxe, etherboot)\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client
\end{itemize}

\subsection{CLIENT\_isrunning}
\textbf{Description:} tests out wether a client is up (running) or not\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client
\end{itemize}

\subsection{CLIENT\_reset}
\textbf{Description:} resets a client\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client
\end{itemize}

\subsection{CLIENT\_showLog}
\textbf{Description:} prints the log information of the client\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client
\end{itemize}

\subsection{CLIENT\_getClientName}
\textbf{Description:} returnes the client name of the calling client or the client given by its ID (\$\_GET['m23clientID']).\\

\subsection{CLIENT\_getAllOptions}
\textbf{Description:} gets all options from the options column of a client as associative array\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client
\end{itemize}

\subsection{CLIENT\_setAllOptions}
\textbf{Description:} sets all options in the options column of a client\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client
\item options: the options as associative array
\end{itemize}

\subsection{CLIENT\_getAllAskingOptions}
\textbf{Description:} gets all options from the options column of the calling client as associative array\\

\subsection{CLIENT\_getSetOption}
\textbf{Description:} checks if a variable is set and places its value under the variable name in the options array\\
\textbf{Parameter:}
\begin{itemize}
\item options: name of the options array
\end{itemize}

\subsection{CLIENT\_options2HiddenForm}
\textbf{Description:} generates hidden fields with the values of the option array\\
\textbf{Parameter:}
\begin{itemize}
\item options: name of the options array
\end{itemize}

\subsection{CLIENT\_hiddenForm2options}
\textbf{Description:} reads the option values of the hidden fields and adds them to the options array\\
\textbf{Parameter:}
\begin{itemize}
\item options: name of the options array
\end{itemize}

\subsection{CLIENT\_getStatusimage}
\textbf{Description:} return the image name with the correct color\\
\textbf{Parameter:}
\begin{itemize}
\item status: the status that should be converted to an image
\end{itemize}

\subsection{CLIENT\_showStatusSelection}
\textbf{Description:} shows a dialog that lets you select the current status of a client\\
\textbf{Parameter:}
\begin{itemize}
\item client: the name of the client
\end{itemize}

\subsection{CLIENT\_listCriticalClients}
\textbf{Description:} lists clients with critical status'\\

\subsection{CLIENT\_isInDebugMode}
\textbf{Description:} returnes "true", if a client is in debug mode\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client
\end{itemize}

\subsection{CLIENT\_toggleDebugMode}
\textbf{Description:} en/disables the debug mode of a client\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client
\item enable: set to "true" to activate debug mode or to "false" to disable
\end{itemize}

\subsection{CLIENT\_getStatusimage}
\textbf{Description:} return the image name with the correct color\\
\textbf{Parameter:}
\begin{itemize}
\item status: the status that should be converted to an image
\end{itemize}

\subsection{CLIENT\_generateHTMLStatusBar}
\textbf{Description:} generates HTML code containing the status of the client with links to the pages\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client
\end{itemize}

\subsection{CLIENT\_showDebugSelection}
\textbf{Description:} shows a dialog that lets you select the current debug state of a client\\
\textbf{Parameter:}
\begin{itemize}
\item client: the name of the client
\end{itemize}

\subsection{CLIENT\_isInRescueMode}
\textbf{Description:} checks if a clients has waiting rescue packages\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: the name of the client
\end{itemize}

\subsection{CLIENT\_showDirectConnectionHelp}
\textbf{Description:} returnes the help file for directConnection and replaces place holders with the correct values\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: the name of the client
\item language: language for the help file
\end{itemize}

\subsection{CLIENT\_isInDebugMode}
\textbf{Description:} returnes "true", if the asking client is in debug mode\\

\subsection{CLIENT\_HTMLBackToDetails}
\textbf{Description:} generates HTML code for returning to the client controll center page\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: the name of the client
\item id: the id of the client
\item section: section to jump on the page
\end{itemize}

\subsection{CLIENT\_getId}
\textbf{Description:} returnes the id of a client\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: the name of the client
\end{itemize}

\subsection{CLIENT\_query}
\textbf{Description:} returnes the result of a query for getting all clients matching selected states and groupNames. Empty values are interpreted as 'all' for this kind of value.\\
\textbf{Parameter:}
\begin{itemize}
\item o1: operator 1 (can be '=', '$<$', '$>$') selects of the first state should be equal, smaler or bigger that the state in s1
\item s1: first state to compare with the state of the client
\item o2: operator 2
\item s2: second state to compare
\item groupName: if you want to filter for special group, set it to the group name
\item o3: operator 3
\item s3: third state to compare
\item search: Search string to search all clients for and only list matching clients or all if \$search is empty.
\end{itemize}

\subsection{CLIENT\_addChangeElement}
\textbf{Description:} Generates a HTML dialog element for changing a client property.\\
\textbf{Parameter:}
\begin{itemize}
\item elem: Name of the element.
\item serverOnlyElement: Set to true if the element could only be changed in the DB and not on the server (e.g. a misspelled MAC)
\end{itemize}

\subsection{CLIENT\_showDelDialog}
\textbf{Description:} Shows the dialog for deleting a client.\\

\subsection{CLIENT\_showAddDialog}
\textbf{Description:} shows the dialog for adding, defining or changing a client\\
\textbf{Parameter:}
\begin{itemize}
\item addType: defines the behaviour and appearance of the dialog
\end{itemize}

\subsection{CLIENT\_deleteClient}
\textbf{Description:} deletes a client and shows an optional message\\
\textbf{Parameter:}
\begin{itemize}
\item client: name of the client to delete
\item showMsg: set to true, is a success message should me shown
\item deleteVM: Set to true to delete the VM too.
\end{itemize}

\subsection{CLIENT\_getNames}
\textbf{Description:} returns an array with all clients\\
\textbf{Parameter:}
\begin{itemize}
\item groupName: if the group is set, only clients in the group are returned, otherwise all clients
\end{itemize}

\subsection{CLIENT\_getNamesWithPackages}
\textbf{Description:} returns an array with all clients having packages installed\\
\textbf{Parameter:}
\begin{itemize}
\item showFakeClients: if set to true, fake clients used to store package lists are shown. false only shows real clients
\end{itemize}

\subsection{CLIENT\_changeClient}
\textbf{Description:} changes values of the clients\\

\subsection{CLIENT\_setAllParams}
\textbf{Description:} Sets all parameters in the columns of a client\\
\textbf{Parameter:}
\begin{itemize}
\item client: name of the client
\item data: the options as assiciative array
\end{itemize}

\subsection{CLIENT\_plinkFetchJob}
\textbf{Description:} Connects to a client over the Putty SSH client and executes a command\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client
\item password: Password for root on the client
\item jobName: name of the screen job on the server
\item ubuntuUser: name of the Ubuntu user or empty if a Debian system is meant.
\end{itemize}

\newpage\section{./inc/CScredit.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: Functions for the embedded script editor.\\

\subsection{CScredit::\_\_construct}
\textbf{Description:} Constructor for new CScredit objects.\\

\subsection{CScredit::setCurrentScriptFilename}
\textbf{Description:} Corrects the given filename to have it a valid prefix and suffix and sets it as current file name.\\
\textbf{Parameter:}
\begin{itemize}
\item filename: The filename to check and correct.
\end{itemize}

\subsection{CScredit::getCurrentScriptFilename}
\textbf{Description:} Gets the current script filename.\\
\textbf{Returns:}
\begin{itemize}
\item Current script filename.
\end{itemize}

\subsection{CScredit::getCurrentScriptFilenameFullPath}
\textbf{Description:} Gets the current script filename with full path.\\
\textbf{Returns:}
\begin{itemize}
\item Current script filename full path.
\end{itemize}

\subsection{CScredit::getCurrentScriptFilenameWithoutInstallPhp}
\textbf{Description:} Gets the current script filename without "Install.php" at its end.\\
\textbf{Returns:}
\begin{itemize}
\item Current script filename without "Install.php" at its end.
\end{itemize}

\subsection{CScredit::getLocalScriptFilenames}
\textbf{Description:} Gets the filenames of local scripts.\\
\textbf{Returns:}
\begin{itemize}
\item Array with the filenames of local scripts.
\end{itemize}

\subsection{CScredit::updateOnlineScriptInfo}
\textbf{Description:} Downloads the information about online available scripts.\\
\textbf{Returns:}
\begin{itemize}
\item true, if the information could be fetched, otherwise false.
\end{itemize}

\subsection{CScredit::getNextOnlineScriptInfo}
\textbf{Description:} Gets an information about all scripts that are available online. Every call of the function fetches the information about one script.\\
\textbf{Parameter:}
\begin{itemize}
\item ts: Timestamp, when the script was uploaded.
\item scriptId: Id of the script (needed for download).
\item scriptName: Name of the script.
\item author: Name of the author.
\item description: Description for the script.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if an entry could be read otherwise (e.g. if all entries were read) false.
\end{itemize}

\subsection{CScredit::loadOnlineScript}
\textbf{Description:} Loads an online script into the editor.\\
\textbf{Parameter:}
\begin{itemize}
\item scriptIdToLoad: Id of the script to load.
\end{itemize}

\subsection{CScredit::getOnlineScriptDialog}
\textbf{Description:} Generates a dialog with JavaScript to get information about online scripts with download option.\\
\textbf{Returns:}
\begin{itemize}
\item Dialog (HTML) with JavaScript to get information about online scripts with download option.
\end{itemize}

\subsection{CScredit::isNotSaved}
\textbf{Description:} Returns if there is no script in the editor (after submitting).\\
\textbf{Returns:}
\begin{itemize}
\item true, if there is no script in the editor (after submitting), otherwise false.
\end{itemize}

\subsection{CScredit::getNewScriptTemplate}
\textbf{Description:} Returns a template for a basic script.\\
\textbf{Returns:}
\begin{itemize}
\item Text of the script template.
\end{itemize}

\subsection{CScredit::uploadScript}
\textbf{Description:} Checks, if all needed information are given before uploading the script.\\
\textbf{Parameter:}
\begin{itemize}
\item author: Name of the script author (or pseudonyme)
\item description: Description for the script.
\item text: The script code itself.
\end{itemize}

\subsection{CScredit::getCurrentScript}
\textbf{Description:} Get the text of the editor window.\\
\textbf{Returns:}
\begin{itemize}
\item Current text of the editor window.
\end{itemize}

\subsection{CScredit::setCurrentScript}
\textbf{Description:} Set the text of the editor window.\\
\textbf{Parameter:}
\begin{itemize}
\item text: Current text of the editor window to set.
\end{itemize}

\subsection{CScredit::deleteCurrentScript}
\textbf{Description:} Deletes the current script, if one is loaded.\\
\textbf{Returns:}
\begin{itemize}
\item true, if the script could be deleted, otherwise false.
\end{itemize}

\subsection{CScredit::getViewScriptOutputDialog}
\textbf{Description:} Generates a dialog with JavaScript to choose a client and to open the script output viewer for the currentry saved script.\\
\textbf{Returns:}
\begin{itemize}
\item Dialog (HTML) with JavaScript to choose a client and to open the script output viewer for the currentry saved script.
\end{itemize}

\subsection{CScredit::saveScript}
\textbf{Description:} Saves the script in the editor to the file.\\

\subsection{CScredit::show}
\textbf{Description:} Shows a script editor with syntax highlighting.\\

\newpage\section{./inc/db.php}
 Author: Daniel Kasten (DKasten@pc-kiel.de) ,Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: database functions, open, close the database, get ip of the calling client\\

\subsection{ip2longSafe}
\textbf{Description:} Special version of ip2long that is safe on 32 bit machines.\\
\textbf{Parameter:}
\begin{itemize}
\item in: Input v4 IP (e.g. 192.168.1.23) or number.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Unsigned long representation of the input IP or the input numer.
\end{itemize}

\subsection{getArchList}
\textbf{Description:} Returns an associative array with the supported CPU architectures as key and value.\\
\textbf{Returns:}
\begin{itemize}
\item Associative array with the supported CPU architectures as key and value.
\end{itemize}

\subsection{isMySQL3used}
\textbf{Description:} checks if MySQL 3 is installed and returnes true if v3 is found, otherwise false\\

\subsection{encryptShadow}
\textbf{Description:} encrypts a password for adding a user to the client\\
\textbf{Parameter:}
\begin{itemize}
\item userName: the username for the account
\item password: the unecrypted password to encrypt
\end{itemize}

\subsection{getClientLanguage}

\subsection{getInstDev}
\textbf{Description:} fetch the device for installation\\
\textbf{Parameter:}
\begin{itemize}
\item id: package ID
\end{itemize}

\subsection{dbConnect}
\textbf{Description:} connects to the m23 database\\

\subsection{dbClose}
\textbf{Description:} closes the connection to the m23 database\\

\subsection{getServerIP}
\textbf{Description:} returnes the IP of the m23 server\\

\subsection{getServerNetmask}
\textbf{Description:} returnes the netmask of the m23 server\\

\subsection{getDNSServers}
\textbf{Description:} Returnes an array with the DNS servers of the m23 server.\\

\subsection{getServerGateway}
\textbf{Description:} Returnes the gateway of the m23 server\\

\subsection{sendClientStatus}
\textbf{Description:} generates a bash script to send a status to the server\\
\textbf{Parameter:}
\begin{itemize}
\item id: package ID
\item status: done, waiting; finished jobs should be set to done, waiting should not be used from this place
\end{itemize}

\subsection{sendClientStageStatus}
\textbf{Description:} generates a bash script to send a stage status to the server\\
\textbf{Parameter:}
\begin{itemize}
\item status: 0: client waiting for hardware detection, 1 hardware detection done, 2 partitionated and formated, base system is installed
\end{itemize}

\subsection{returnClientStageStatus}
\textbf{Description:} generates a bash script to send a stage status to the server\\
\textbf{Parameter:}
\begin{itemize}
\item status: 0: client waiting for hardware detection, 1 hardware detection done, 2 partitionated and formated, base system is installed
\end{itemize}

\subsection{sendClientLogStatus}
\textbf{Description:} generates a bash script to send log status to the server\\
\textbf{Parameter:}
\begin{itemize}
\item status: how the line should be named, that is logged to the server
\item ok: true: operation sucessful, false: failure
\item critical: if it is set to "true" the execution of the script is stopped and a local rescue console is opened
\end{itemize}

\subsection{deleteClientLogs}
\textbf{Description:} deletes the installation logs\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client to delete all logs
\end{itemize}

\subsection{workPhpName}
\textbf{Description:} Generates an unique name for storing the work.php file.\\
\textbf{Returns:}
\begin{itemize}
\item Unique name for storing the work.php file.
\end{itemize}

\subsection{executeNextWork}
\textbf{Description:} generates a bash script that fetches the next work.php from server\\

\subsection{DB\_query}
\textbf{Description:} makes a query and returns the default error message if an error occurs\\
\textbf{Parameter:}
\begin{itemize}
\item sql: sql query
\end{itemize}

\subsection{DB\_queryNoDie}
\textbf{Description:} Executes a SQL query and returns the resource id to access the result.\\
\textbf{Returns:}
\begin{itemize}
\item Ressource id of the query result and DOESN'T die on an error.
\end{itemize}

\subsection{DB\_genPassword}
\textbf{Description:} generates a random password with a specified length\\
\textbf{Parameter:}
\begin{itemize}
\item length: length of password
\end{itemize}

\subsection{getClientIP}
\textbf{Description:} returnes the IP of the calling client\\

\subsection{implodeAssoc}
\textbf{Description:} makes a string from an associative array\\
\textbf{Parameter:}
\begin{itemize}
\item glue: the string to glue the parts of the array with
\item arr: array to implode
\end{itemize}

\subsection{explodeAssoc}
\textbf{Description:} makes an associative array from a string\\
\textbf{Parameter:}
\begin{itemize}
\item glue: the string to glue the parts of the array with
\item arr: array to explode
\end{itemize}

\subsection{sedSearchReplace}
\textbf{Description:} generates BASH code to search and replace a string in a file using sed keeping the ownership an permissions\\
\textbf{Parameter:}
\begin{itemize}
\item pathFile: file with whole path, in that should be searched and replaced
\item search: search pattern
\item replace: replace string
\end{itemize}

\subsection{isProgrammInstalled}
\textbf{Description:} returnes true if a programm can be used\\
\textbf{Parameter:}
\begin{itemize}
\item progName: name of the programm
\end{itemize}

\subsection{pingIP}
\textbf{Description:} tests, if someone is answering the ping on a given IP address. returnes true, if someone answers (needs "iputils-ping" to be installed)\\
\textbf{Parameter:}
\begin{itemize}
\item ip
\end{itemize}

\subsection{delFromArray}
\textbf{Description:} deletes all entries in the array \$arr assigned by the keys stored in the array \$delKeys. the new array without the entries in \$delKeys is returned.\\
\textbf{Parameter:}
\begin{itemize}
\item arr: array with the entries to filter
\item delKeys: array with all keys to delete from \$arr
\end{itemize}

\subsection{delValuesFromArray}
\textbf{Description:} deletes all entries in the array \$arr with values stored in the array \$delVals.\\
\textbf{Parameter:}
\begin{itemize}
\item arr: array with the entries to filter
\item delVals: array with all values to delete from \$arr
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item array without the entries in \$delVals.
\end{itemize}

\subsection{DB\_getLikeableColumns}
\textbf{Description:} Returns an associative array that contains all fields of a table that can be searched by LIKE.\\
\textbf{Parameter:}
\begin{itemize}
\item table: Name of the table to search.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item associative array that contains all fields of a table that can be searched by LIKE.
\end{itemize}

\newpage\section{./inc/dhcp.php}
 Author: Daniel Kasten (DKasten@pc-kiel.de), Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: functions to add and remove a client to/from the dhcp server list.\\

\subsection{DHCP\_exportDHCPSettingsForExternalDHCPServer}
\textbf{Description:} Exports the DHCP settings of m23 clients that are booting over the network and adds settings for external DHCP servers.\\

\subsection{DHCP\_lineNumberAffterLastClient}
\textbf{Description:} Gets the line number with the last client definition in the dhcpd.conf.\\
\textbf{Returns:}
\begin{itemize}
\item Line number with the last client definition in the dhcpd.conf.
\end{itemize}

\subsection{DHCP\_addSubnetDefinition}
\textbf{Description:} Adds the subnet definition to the dhcpd.conf to let the DHCP server give out network information to clients to other subnets.\\
\textbf{Parameter:}
\begin{itemize}
\item subnet: The subnet.
\item netmask: netmask for the ip
\end{itemize}

\subsection{DHCP\_delSubnetDefinition}
\textbf{Description:} Removes a subnet definition from the dhcpd.conf.\\
\textbf{Parameter:}
\begin{itemize}
\item subnet: The subnet.
\item netmask: netmask for the ip
\end{itemize}

\subsection{DHCP\_addDynamicRange}
\textbf{Description:} Adds a dynamic IP range to the dhcpd.conf and restarts the DHCP server.\\
\textbf{Parameter:}
\begin{itemize}
\item firstIP: The first IP marking the begin of the dynamic IP range.
\item lastIP: The last IP marking the end of the dynamic IP range.
\item netmask: Netmask for the IPs.
\item gateway: The gateway IP.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the DHCP server could be restarted with the new settings.
\end{itemize}

\subsection{DHCP\_getDynamicRanges}
\textbf{Description:} Gets all dynamic IP ranges from the dhcpd.conf.\\
\textbf{Returns:}
\begin{itemize}
\item Associative array with the found IP ranges (e.g. Array ( [0] =$>$ Array ( [netmask] =$>$ 255.255.255.0 [firstIP] =$>$ 192.168.1.10 [lastIP] =$>$ 192.168.1.200 [gateway] =$>$ 192.168.1.1 ) [1] =$>$ ...)) or empty array.
\end{itemize}

\subsection{DHCP\_getNetmaskOfDynamicRanges}
\textbf{Description:} Gets the netmask of a dynamic range identified by the first IP of the range.\\
\textbf{Parameter:}
\begin{itemize}
\item firstIP: The first IP marking the begin of the dynamic IP range.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Netmask or false in case of an error.
\end{itemize}

\subsection{DHCP\_delDynamicRange}
\textbf{Description:} Removes a dynamic IP range from the dhcpd.conf and restarts the DHCP server.\\
\textbf{Parameter:}
\begin{itemize}
\item firstIP: The first IP marking the begin of the dynamic IP range.
\item lastIP: The last IP marking the end of the dynamic IP range.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the DHCP server could be restarted with the new settings.
\end{itemize}

\subsection{DHCP\_bootTypeToNewFormat}
\textbf{Description:} Converts a boolean boot type to the new string format.\\
\textbf{Parameter:}
\begin{itemize}
\item bootType: Boolean or string format (e.g. "pxe") boot type.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item String format (e.g. "pxe") boot type.
\end{itemize}

\subsection{DHCP\_addClient}
\textbf{Description:} adds a new client to the dhcpd.conf and restarts the dhcpd-server\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client
\item ip: ip address of the client
\item netmask: netmask for the ip
\item mac: mac addresse of the network card
\item bootType: Parameter can be boolean for backward compatibility: if true use PXE for the client, otherwise use Etherboot
\item bootType: Parameter can a string: pxe, etherboot, gpxe, none
\item gateway: The gateway for the client.
\item updateDB: If set to true, the boot type is set for the client in the DB.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the DHCP server could be restarted with the new settings.
\end{itemize}

\subsection{DHCP\_addLineToDHCPDConf}
\textbf{Description:} Adds a line to the dhcpd.conf file.\\
\textbf{Parameter:}
\begin{itemize}
\item line: Line to add.
\end{itemize}

\subsection{DHCP\_restartDHCPserver}
\textbf{Description:} Restarts the DHCP server.\\
\textbf{Returns:}
\begin{itemize}
\item true if it clould be (re)started otherwise false.
\end{itemize}

\subsection{DHCP\_rmClient}
\textbf{Description:} removes a client from dhcpd.conf and restarts the dhcpd-server\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client
\end{itemize}

\subsection{DHCP\_setBootimage}
\textbf{Description:} sets the bootimage of a client for EtherBoot\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client
\item bootImage: name of the bootimage (hdboot, ip address for name)
\end{itemize}

\subsection{DHCP\_activateBoot}
\textbf{Description:} switches the network boot on or off\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client
\item on: true activates the network boot, false deactivates
\item bootType: The boot type CAN be given here (e.g. pxe or etherboot)
\end{itemize}

\subsection{DHCP\_calcPXEIP}
\textbf{Description:} calculates the ip for the pxe config file\\
\textbf{Parameter:}
\begin{itemize}
\item ip: ip address to convert to the PXE file name
\end{itemize}

\subsection{DHCP\_writePXEcfg}
\textbf{Description:} writes the pxe config file for te client\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client
\item arch: computer architecture (i386 or amd64)
\end{itemize}

\subsection{DHCP\_removePXEcfg}
\textbf{Description:} removes the PXE start file for a special client\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client
\end{itemize}

\subsection{DHCP\_isNetworkBootingActive}
\textbf{Description:} Checks, if a client has network booting enabled.\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : True, if network booting is active, false otherwise.
\end{itemize}

\newpage\section{./inc/distr/halfSister/packages.php}
Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
Description: Basic package operations (search, add,...) for halfSister distributions\\

\subsection{PKG\_updatePackageSearchCacheFile}
\textbf{Description:} Updates the compressed package search file.\\
\textbf{Parameter:}
\begin{itemize}
\item packagesource: Name of the package sources list.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The name of the package cache.
\end{itemize}

\subsection{PKG\_fastGetInstalledPackages}
\textbf{Description:} Gets a list of all installed packages (faster than dpkg --get-selections).\\
\textbf{Parameter:}
\begin{itemize}
\item storeFile: File name to store the list of installed on the client or empty if the list should be outputted to stdout.
\end{itemize}

\subsection{pkgUpdateCacheOnServer}
\textbf{Parameter:}
\begin{itemize}
\item \$1 (packagesourcename): Name der Paketquellenliste
\item \$2 (packagesource): Inhalt der Paketquellenliste
\item \$3 (force): set to true (1) if you want to update the package info and the time is not over
\item \$4 (arch): Architecture (amd64/i386) to get package infos for.
\end{itemize}

\subsection{PKG\_listPackages}
\textbf{Description:} list packages matching the key\\
\textbf{Parameter:}
\begin{itemize}
\item key: search key
\item distr: the distribution name
\item packagesource: name of the package source
\item client: Name of the client the packages are searched for. (Not used here and only for halfSister)
\end{itemize}

\subsection{PKG\_previewInstall}
\textbf{Description:} shows what happens if packages get (de)installed\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client
\item distr: the distribution name
\item packagesource: name of the package source
\item packages: the packages to be installed
\item aptCommand: sets the apt-get command: install, remove
\end{itemize}

\subsection{PKG\_getKernels}
\textbf{Description:} Generates an associative array with the available kernels for an architecture and distribution as keys and values.\\
\textbf{Parameter:}
\begin{itemize}
\item distr: the distribution name
\item packagesource: name of the package source
\item arch: Architecture to get package infos for.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Asssociative array with the available kernels for an architecture and distribution as keys and values.
\end{itemize}

\subsection{PKG\_translateClientPackageStatus}
\textbf{Description:} translates the package status to human language ;)\\
\textbf{Parameter:}
\begin{itemize}
\item status: status code you want to translate
\end{itemize}

\newpage\section{./inc/edit.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: routines for editing files with sed\\

\subsection{EDIT\_writeToFile}
\textbf{Description:} Writes a text to a file on a client.\\
\textbf{Parameter:}
\begin{itemize}
\item file: Name of the file.
\item text: The text to insert.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Code for writing a text to a file on a client.
\end{itemize}

\subsection{EDIT\_setOption}
\textbf{Description:} Changes an option in a configuration file to a given value.\\
\textbf{Parameter:}
\begin{itemize}
\item file: Name of the file to change.
\item option: Name of the option to change.
\item value: Value to set.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item sed code to change the option in the file to the value.
\end{itemize}

\subsection{EDIT\_genClientm23Random}
\textbf{Description:} Generates BASH code to calculate a client-side random MD5 hash that is stored in the variable \$m23Random.\\
\textbf{Returns:}
\begin{itemize}
\item BASH code to generate a random MD5 hash on client-side that is store
\end{itemize}

\subsection{EDIT\_commentoutInsert}
\textbf{Description:} Comments out a matched line and inserts a new line after it.\\
\textbf{Parameter:}
\begin{itemize}
\item file: the name of the file
\item search: Search string to match the line to comment out.
\item lineToInsert: The text of the line to insert.
\item commentStr: string to comment out (e.g. "\#" for BASH or "//" for C/C++ style)
\end{itemize}

\subsection{EDIT\_countMatches}
\textbf{Description:} Generates BASH code that counts how many times the search string can be found in the file. This can be used in ` `.\\
\textbf{Parameter:}
\begin{itemize}
\item file: file name
\item search: search text
\end{itemize}

\subsection{EDIT\_calc}
\textbf{Description:} calculates changes of the variable\\
\textbf{Parameter:}
\begin{itemize}
\item var: name of the BASH variable (e.g. \$nr)
\item calc: calculation that should be done with the var (e.g. incrementation: "+ 1")
\end{itemize}

\subsection{EDIT\_uncomment}
\textbf{Description:} uncomments all with m23 commented lines of a file\\
\textbf{Parameter:}
\begin{itemize}
\item file: the name of the file
\end{itemize}

\subsection{EDIT\_commentout}
\textbf{Description:} comments out lines in range or matching lines\\
\textbf{Parameter:}
\begin{itemize}
\item file: the name of the file
\item from: start commenting out from this line
\item to: stop commenting out at this line
\item commentStr: string to comment out (e.g. "\#" for BASH or "//" for C/C++ style)
\item match: 
\end{itemize}

\subsection{EDIT\_insertAfterLineNumber}
\textbf{Description:} inserts a text AFTER a line number\\
\textbf{Parameter:}
\begin{itemize}
\item file: the name of the file
\item lineNumber: reference line number for inserting
\item insertText: text to insert
\item addIfNotExists: set to true, if the the line should be added only if the line doesn't exist. false, if the line should be added on every execution.
\end{itemize}

\subsection{EDIT\_insertAtLineNumber}
\textbf{Description:} inserts a text AT a line number\\
\textbf{Parameter:}
\begin{itemize}
\item file: the name of the file
\item lineNumber: reference line number for inserting
\item insertText: text to insert
\item addIfNotExists: set to true, if the the line should be added only if the line doesn't exist. false, if the line should be added on every execution.
\end{itemize}

\subsection{EDIT\_insertLineNumber}
\textbf{Description:} inserts a text AT or AFTER a line number\\
\textbf{Parameter:}
\begin{itemize}
\item file: the name of the file
\item lineNumber: reference line number for inserting
\item insertText: text to insert
\item insertMode: "0" insert AT, "1" insert AFTER line number
\item addIfNotExists: set to true, if the the line should be added only if the line doesn't exist. false, if the line should be added on every execution.
\end{itemize}

\subsection{EDIT\_searchLineNumber}
\textbf{Description:} searches for the first line that contains "searchLine" and stores the line number in the BASH variable "m23searchLine"\\
\textbf{Parameter:}
\begin{itemize}
\item file: the name of the file
\item searchLine: line to search
\item startFrom: the line number to start searching from
\end{itemize}

\subsection{EDIT\_searchLastLineNumber}
\textbf{Description:} searches for the last line that contains "searchLine" and stores the line number in the BASH variable "m23searchLine"\\
\textbf{Parameter:}
\begin{itemize}
\item file: the name of the file
\item searchLine: line to search
\end{itemize}

\subsection{EDIT\_searchNextLineNumber}
\textbf{Description:} searches for the next line number that contains "searchLine"\\
\textbf{Parameter:}
\begin{itemize}
\item file: the name of the file
\item searchLine: line to search
\end{itemize}

\subsection{EDIT\_replace}
\textbf{Description:} replaces \$searchLine with \$replaceText\\
\textbf{Parameter:}
\begin{itemize}
\item file: the name of the file
\item searchLine: line to search
\item repaceText: text to replace with
\item mode: can be "g" to replace all matching lines. Any other value will only replace the first occurrence.
\end{itemize}

\subsection{EDIT\_prepareStr}
\textbf{Description:} changes the string to make it compatible with sed\\
\textbf{Parameter:}
\begin{itemize}
\item str: string that should be changed. the string is read and written from/to this variable
\item forSearch: set to true, if the string should be used as a search string
\end{itemize}

\subsection{EDIT\_savePerms}
\textbf{Description:} saves the permissions and owner of a file\\
\textbf{Parameter:}
\begin{itemize}
\item file: the name to the file
\end{itemize}

\subsection{EDIT\_restorePerms}
\textbf{Description:} restores previously saved file permissions and owner\\

\subsection{EDIT\_deleteLines}
\textbf{Description:} Deletes lines from a given line number to a given line number\\
\textbf{Parameter:}
\begin{itemize}
\item file: the name to the file
\item from: start deleting at this line number
\item to: end deleting at this line number
\end{itemize}

\subsection{EDIT\_deleteLinesAmount}
\textbf{Description:} Deletes N lines from a given line number\\
\textbf{Parameter:}
\begin{itemize}
\item file: the name to the file
\item from: start deleting at this line number
\item amount: the amount of lines to delete
\end{itemize}

\subsection{EDIT\_addIfNotExists}
\textbf{Description:} Adds a new line if the search pattern cannot be found.\\
\textbf{Parameter:}
\begin{itemize}
\item file: the name to the file
\item search: regular expression to search
\item add: line to add
\end{itemize}

\subsection{EDIT\_deleteMatching}
\textbf{Description:} Deletes all lines matching the regular expression\\
\textbf{Parameter:}
\begin{itemize}
\item file: the name to the file
\item search: regular expression to search
\end{itemize}

\newpage\section{./inc/fdisk.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: functions for partition and format of the client. print partition information and do the format itself.\\

\subsection{FDISK\_showFdiskCombinedGUIFunctions}
\textbf{Description:} Shows the menu bar with integrated logic for FDISK\_showCombinedFdiskGUIDialog.\\

\subsection{FDISK\_showCombinedFdiskGUIDialog}
\textbf{Description:} Shows the new partition and formating screen.\\

\subsection{FDISK\_mdToEndOfArray}
\textbf{Description:} Orders all MD devices from the input array to the end of the output array.\\
\textbf{Parameter:}
\begin{itemize}
\item in: Associative array with devices as keys and values (e.g Array ( [/dev/md0] =$>$ /dev/md0 [/dev/sda1] =$>$ /dev/sda1 [/dev/sdb2] =$>$ /dev/sdb2 )).
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Associative array with devices as keys and values where the MDs are at the end (e.g. Array ( [/dev/sda1] =$>$ /dev/sda1 [/dev/sdb2] =$>$ /dev/sdb2 [/dev/md0] =$>$ /dev/md0 )).
\end{itemize}

\subsection{FDISK\_getFstabArray}
\textbf{Description:} Gets the fstab of a client as array.\\
\textbf{Parameter:}
\begin{itemize}
\item client: Name of the client.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Array with the fstab (each line of the fstab as item).
\end{itemize}

\subsection{FDISK\_findFstabMountPointByDev}
\textbf{Description:} Searches a client's fstab for a device and figures out the according mount point.\\
\textbf{Parameter:}
\begin{itemize}
\item fstabA: The fstab as array.
\item dev: The device.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Mount point for the device.
\end{itemize}

\subsection{FDISK\_swapFilesystems}
\textbf{Description:} Returns an array with the filesystems usable for swapping.\\

\subsection{FDISK\_formatInstallAndSwappart}
\textbf{Description:} Adds jobs to format the installation and swap partitions and set the boot flag on the installation partition\\

\subsection{FDISK\_finalChecksAndRealPartitionAndFormatStart}
\textbf{Description:} Does some final checks, starts the partitioning and formating and switches to the distribution selection page.\\

\subsection{FDISK\_installFilesystems}
\textbf{Description:} Returns an array with the filesystems usable for installation.\\

\subsection{FDISK\_getUnusedMDs}
\textbf{Description:} Returns an associative array with the unused MDs (e.g. /dev/md0, /dev/md1, ...) as key and value.\\
\textbf{Parameter:}
\begin{itemize}
\item param: parameter string containing status informations about the harddisks
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Associative array with the unused MDs (e.g. /dev/md0, /dev/md1, ...) as key and value.
\end{itemize}

\subsection{FDISK\_listDrivesAndPartitions2}
\textbf{Description:} Generates and defines a selection that contains all drives and partitions of a given client.\\
\textbf{Parameter:}
\begin{itemize}
\item param: parameter string containing status informations about the harddisks
\item default: the drive to show first
\item selName: the name the selection is called in PHP and HTML
\item pathFilter: Set this to another value than false if you want only devices with a given string in it.
\item filterOutSetRaidLvmLock: If set to true, drives and partitions with set raidLvmLock will not be listed.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item String with the HTML selection.
\end{itemize}

\subsection{FDISK\_printAllBars2}
\textbf{Description:} Shows the partition bars of all drives specified for the current client, that is stored in the session.\\

\subsection{FDISK\_showAllPartTables}
\textbf{Description:} Shows the partition tables of all drives specified for the current client, that is stored in the session.\\

\subsection{FDISK\_fdiskSessionPartJobs}
\textbf{Description:} Stores the partition jobs in the session.\\
\textbf{Parameter:}
\begin{itemize}
\item newJobs: The new partition jobs to set or false for not changing.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The current partition jobs.
\end{itemize}

\subsection{FDISK\_fdiskSessionInstPart}
\textbf{Description:} Stores the installation partition in the session.\\
\textbf{Parameter:}
\begin{itemize}
\item newInstPart: The new installation partition to set or false for not changing.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The current installation partition.
\end{itemize}

\subsection{FDISK\_fdiskSessionSwapPart}
\textbf{Description:} Stores the swap partition in the session.\\
\textbf{Parameter:}
\begin{itemize}
\item newSwapPart: The new swap partition to set or false for not changing.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The current swap partition.
\end{itemize}

\subsection{FDISK\_fdiskSessionSetter}
\textbf{Description:} Generic function to store values in the client partition and format session.\\
\textbf{Parameter:}
\begin{itemize}
\item newVal: The value to set or false for not changing.
\item varName: The name the value should be stored under in the client partition and format session.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The current value.
\end{itemize}

\subsection{FDISK\_fdiskSessionClient}
\textbf{Description:} Returns the client name to partition and format.\\
\textbf{Returns:}
\begin{itemize}
\item The client name to partition and format.
\end{itemize}

\subsection{FDISK\_fdiskSessionParam}
\textbf{Description:} Stores the partition parameters in the session.\\
\textbf{Parameter:}
\begin{itemize}
\item newParam: The new partition parameters to set or false for not changing.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The current partition parameters.
\end{itemize}

\subsection{FDISK\_fdiskSessionInstallDrive}
\textbf{Description:} Stores the installation drive in the session.\\
\textbf{Parameter:}
\begin{itemize}
\item newDrive: The new installation drive to set or false for not changing.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The current installation drive.
\end{itemize}

\subsection{FDISK\_fdiskSessionvDevInstall}
\textbf{Description:} Stores the internal virtual installation drive number in the session.\\
\textbf{Parameter:}
\begin{itemize}
\item newDrive: The new internal virtual installation drive number to set or false for not changing.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The current internal virtual installation drive number.
\end{itemize}

\subsection{FDISK\_fdiskSessionFreeSpaces}
\textbf{Description:} Stores the free space parts of the installation drive in the session or recalculates them for the current installation drive.\\
\textbf{Parameter:}
\begin{itemize}
\item newSpaces: The new free spaces to set or false for not changing.
\item reset: Re-calculate the free spaces, if set to true.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The current free spaces.
\end{itemize}

\subsection{FDISK\_fdiskSessionReset}
\textbf{Description:} Sets back all session variables (client name optionally) for partitioning and formating a client.\\
\textbf{Parameter:}
\begin{itemize}
\item resetClientName: If set to true, the name of the client will be deleted too (and re-set by FDISK\_fdiskSessionClient).
\end{itemize}

\subsection{FDISK\_fdiskSessionPartMethod}
\textbf{Description:} Stores the partitioning method in the session.\\
\textbf{Parameter:}
\begin{itemize}
\item newMethod: The new method to set or false for not changing.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The current partitioning method.
\end{itemize}

\subsection{FDISK\_fdiskSessionPage}
\textbf{Description:} Stores the page in the session.\\
\textbf{Parameter:}
\begin{itemize}
\item newPage: The new page to set or false for not changing.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The current page.
\end{itemize}

\subsection{FDISK\_fdiskSessionHelpPage}
\textbf{Description:} Stores the help page in the session.\\
\textbf{Parameter:}
\begin{itemize}
\item newPage: The new help page to set or false for not changing.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The current help page.
\end{itemize}

\subsection{FDISK\_fdiskSessionTitle}
\textbf{Description:} Stores the partitioning title in the session.\\
\textbf{Parameter:}
\begin{itemize}
\item newTitle: The new title to set or false for not changing.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The current partitioning title.
\end{itemize}

\subsection{FDISK\_fdiskSessionFstab}
\textbf{Description:} Stores the fstab in the session.\\
\textbf{Parameter:}
\begin{itemize}
\item newFstab: The new fstab to set or false for not changing.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The current fstab.
\end{itemize}

\subsection{FDISK\_getPartitionByType}
\textbf{Description:} Gets the FIRST partition matching a partition type.\\
\textbf{Parameter:}
\begin{itemize}
\item param: parameter string containing status informations about the harddisks
\item vDev: Virtual (internally used) device number.
\item type: type of the partition (primary, extended, logical)
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Virtual partition number of the FIRST partition matching a partition type or false, if no partition was found.
\end{itemize}

\subsection{FDISK\_getDrivesAndPartitions}
\textbf{Description:} Generates an array that contains all drives and partitions of a given client.\\
\textbf{Parameter:}
\begin{itemize}
\item param: parameter string containing status informations about the harddisks
\item pathFilter: Set this to another value than false if you want only devices with a given string in it. If you add an "!" the beginning all is given out that doesn't contains the filter string (without the "!").
\item addSizesAndTypes: If set to true, the array will contain the sizes, filesystems and types of the partitions and drives.
\item filterOutSetRaidLvmLock: If set to true, drives and partitions with set raidLvmLock will not be listed.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Array with drives and partitions and (optionally) their sizes, filesystems and types.
\end{itemize}

\subsection{FDISK\_listDrivesAndPartitions}
\textbf{Description:} Generates a selection that contains all drives and partitions of a given client.\\
\textbf{Parameter:}
\begin{itemize}
\item param: parameter string containing status informations about the harddisks
\item default: the drive to show first
\item selName: the name the selection is called in PHP and HTML
\item pathFilter: Set this to another value than false if you want only devices with a given string in it.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item String with the HTML selection.
\end{itemize}

\subsection{FDISK\_selectDrives}
\textbf{Description:} creates a selection list of all drives\\
\textbf{Parameter:}
\begin{itemize}
\item param: parameter string containing status informations about the harddisks
\item selName: the name the selection is called in PHP and HTML
\item first: the drive to show first
\end{itemize}

\subsection{FDISK\_printAllBars}
\textbf{Description:} showes the partitions bars of all available drives\\
\textbf{Parameter:}
\begin{itemize}
\item param: parameter string containing status informations about the harddisks
\item fstabA: Associative array with fstab information
\end{itemize}

\subsection{FDISK\_getFirstDrive}
\textbf{Description:} return the first drive as installation drive\\
\textbf{Parameter:}
\begin{itemize}
\item param: parameter string containing status informations about the harddisks
\end{itemize}

\subsection{FDISK\_formatPart}
\textbf{Description:} formats a partition\\
\textbf{Parameter:}
\begin{itemize}
\item param: parameter string containing status informations about the harddisks
\item dev: partition to format (e.g. /dev/hda1)
\item type: type of filesystem
\item partJobs: parted commands
\end{itemize}

\subsection{FDISK\_getBiggestValueOf}
\textbf{Description:} gets the biggest value from a special type of partition\\
\textbf{Parameter:}
\begin{itemize}
\item param: parameter string containing status informations about the harddisks
\item dev: selected device (e.g. hda)
\item partType: type of the partition (logical, primary, extended)
\item varType: define part of the key for the associative array (e.g. "type" means \$param["dev\$vDev"."part\$vPart"."\_type"])
\end{itemize}

\subsection{FDISK\_devNrExists}
\textbf{Description:} checks if a certain device number exists\\
\textbf{Parameter:}
\begin{itemize}
\item param: parameter string containing status informations about the harddisks
\item vDev: Virtual (internally used) device number.
\item devNr: device numer you want to check
\end{itemize}

\subsection{FDISK\_nextLogicalDevNr}
\textbf{Description:} gets the next free logical device number\\
\textbf{Parameter:}
\begin{itemize}
\item param: parameter string containing status informations about the harddisks
\item vDev: Virtual (internally used) device number.
\end{itemize}

\subsection{FDISK\_nextPrimaryDevNr}
\textbf{Description:} gets the next free primary device number\\
\textbf{Parameter:}
\begin{itemize}
\item param: parameter string containing status informations about the harddisks
\item vDev: Virtual (internally used) device number.
\end{itemize}

\subsection{FDISK\_correctLogical}
\textbf{Description:} corrects the order of the logical partitions after deleting \$devNr.\\
\textbf{Parameter:}
\begin{itemize}
\item param: parameter string containing status informations about the harddisks
\item vDev: Virtual (internally used) device number.
\item devNr: the real device number to delete
\end{itemize}

\subsection{FDISK\_findDevNrPosition}
\textbf{Description:} returns the device position for the new device\\
\textbf{Parameter:}
\begin{itemize}
\item start: start position for the search
\item end: end position for the search
\item param: parameter string containing status informations about the harddisks
\item vDev: Virtual (internally used) device number.
\item newPartNr: stores the new device number
\item type: type of the new partition
\end{itemize}

\subsection{FDISK\_partCreationSelect}
\textbf{Description:} retunes a selection for selecting a partition type to create.\\
\textbf{Parameter:}
\begin{itemize}
\item param: parameter string containing status informations about the harddisks
\item vDev: Virtual (internally used) device number.
\end{itemize}

\subsection{FDISK\_canPartTypeBeCreated}
\textbf{Description:} checks if a partition from a certain type can be created\\
\textbf{Parameter:}
\begin{itemize}
\item param: parameter string containing status informations about the harddisks
\item vDev: Virtual (internally used) device number.
\item type: type of the partition (primary, extended, logical)
\end{itemize}

\subsection{FDISK\_checkFreeSpace}
\textbf{Description:} checks if there is a free space between \$start and \$end\\
\textbf{Parameter:}
\begin{itemize}
\item param: parameter string containing status informations about the harddisks
\item vDev: Virtual (internally used) device number.
\item type: type of the partition (primary, extended, logical)
\item start: start position for the search
\item end: end position for the search
\item freeSpaces: array of the free space information
\end{itemize}

\subsection{FDISK\_installExistingDialog}
\textbf{Description:} showes the dialog for installation on existing partitions\\
\textbf{Parameter:}
\begin{itemize}
\item param: parameter string containing status informations about the harddisks
\end{itemize}

\subsection{FDISK\_addFstab}
\textbf{Description:} Adds a new entry to the fstab that is stored in the param array.\\
\textbf{Parameter:}
\begin{itemize}
\item fstab: Array that contains the fstab information. The changed fstab will be written to this parameter too.
\item dev: Device to mount (e.g. /dev/hda1)
\item mountpoint: Location where to mount the device (e.g. /mnt/hda1)
\end{itemize}

\subsection{FDISK\_delFstab}
\textbf{Description:} Removes an entry from the fstab array.\\
\textbf{Parameter:}
\begin{itemize}
\item fstab: Array that contains the fstab information. The changed fstab will be written to this parameter too.
\item fstabNr: Number of the fstab entry to delete.
\end{itemize}

\subsection{FDISK\_listFstab}
\textbf{Description:} Generates a HTML table with all defined mountpoints.\\
\textbf{Parameter:}
\begin{itemize}
\item param: parameter string containing status informations about the harddisks
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item HTML table with the fstab.
\end{itemize}

\subsection{FDISK\_fstabAddDialog2}
\textbf{Description:} Dialog for adding fstab entries. This version uses the param and fstab parameters from the session.\\

\subsection{FDISK\_fstabAddDialog}
\textbf{Description:} Dialog for adding fstab entries.\\
\textbf{Parameter:}
\begin{itemize}
\item param: parameter string containing status informations about the harddisks
\item fstab: Array that contains the fstab information. The changed fstab will be written to this parameter too.
\end{itemize}

\subsection{FDISK\_adjustFstabParam}
\textbf{Description:} Adjust the parameter block of a fstab line to make it use an supported FS.\\
\textbf{Parameter:}
\begin{itemize}
\item param: The parameter block of a fstab line
\item sourceName: The name of the package source list
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Adjust the parameter block of a fstab line
\end{itemize}

\subsection{FDISK\_genManualFstab}
\textbf{Description:} Generates commands to edit a given fstab, add new entries and remove old ones before.\\
\textbf{Parameter:}
\begin{itemize}
\item param: parameter string containing status informations about the harddisks
\item mntPrefix: Prefix to set before the mountpoint (e.g. /mnt/m23root/)
\end{itemize}

\subsection{FDISK\_getBelongingRaidDev}
\textbf{Description:} Searches for the RAID device, a physical partition belongs to, if it is part of a RAID.\\
\textbf{Parameter:}
\begin{itemize}
\item dev: The physical partition (e.g. /dev/hda4) that belongs to a RAID.
\item param: parameter string containing status informations about the harddisks
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The RAID device (e.g. /dev/md0) the physical partition belongs to or false, if no belonging RAID was found.
\end{itemize}

\subsection{FDISK\_delPart}
\textbf{Description:} deletes a partition from the param string and generates the parted commands\\
\textbf{Parameter:}
\begin{itemize}
\item dev: the partition to delete (e.g. /dev/hda4)
\item param: parameter string containing status informations about the harddisks
\item partJobs: parted commands
\item deleteBelongingRaid: If set to true, the RAID, the partition belongs to will be destroyed.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Changed param string.
\end{itemize}

\subsection{FDISK\_addPart}
\textbf{Description:} adds a partition to the param string and generates the parted commands\\
\textbf{Parameter:}
\begin{itemize}
\item param: parameter string containing status informations about the harddisks
\item partJobs: parted commands
\item vDev: virtuell internal used device number.
\item start: start position for the search
\item end: end position for the search
\item type: type of the partition (primary, extended, logical)
\item freeSpaces: array of the free space information
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : Changed param string.
\end{itemize}

\subsection{FDISK\_listPartitions}
\textbf{Description:} lists the partitions (/dev/hda1, /dev/hda2, ...) of a device and generates a selection\\
\textbf{Parameter:}
\begin{itemize}
\item param: parameter string containing status informations about the harddisks
\item vDev: Virtual (internally used) device number or -1, if all partitions on all devices should be listed.
\item selName: name of the selection
\item excludeType: type of partitions, not to show in the selection
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item HTML code for the selection.
\end{itemize}

\subsection{FDISK\_definePartitionSelection}
\textbf{Description:} Defines a HTML selection with the partitions (/dev/hda1, /dev/hda2, ...) of a device\\
\textbf{Parameter:}
\begin{itemize}
\item param: parameter string containing status informations about the harddisks
\item vDev: Virtual (internally used) device number or -1, if all partitions on all devices should be listed.
\item selName: name of the selection
\item excludeType: type of partitions, not to show in the selection
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The selected partition.
\end{itemize}

\subsection{FDISK\_getPartitionsFromParam}
\textbf{Description:} Returns an array with the partitions (/dev/hda1, /dev/hda2, ...) of a device\\
\textbf{Parameter:}
\begin{itemize}
\item param: parameter string containing status informations about the harddisks
\item vDev: Virtual (internally used) device number or -1, if all partitions on all devices should be listed.
\item selName: name of the selection
\item excludeType: type of partitions, not to show in the selection
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Selected partition.
\end{itemize}

\subsection{FDISK\_getAllDrives}
\textbf{Description:} gets all drives of the client\\
\textbf{Parameter:}
\begin{itemize}
\item partitions: associative array containing status information about the harddisks
\end{itemize}

\subsection{FDISK\_colorFS}
\textbf{Description:} get color for a selected filesystem\\
\textbf{Parameter:}
\begin{itemize}
\item fsName: name of the file system: ext3, ext2, linux-swap,...
\end{itemize}

\subsection{FDISK\_getPartitionPercent}
\textbf{Description:} calculates the percent of a selected partition\\
\textbf{Parameter:}
\begin{itemize}
\item param: parameter string containing status informations about the harddisks
\item vDev: Virtual (internally used) device number.
\item vPart: Virtual (internally used) partition number. This is normally another number than the physical number (e.g. 1 on /dev/hda1)
\end{itemize}

\subsection{FDISK\_getAfterPartition}
\textbf{Description:} calculates ??? of free size after a selected partition\\
\textbf{Parameter:}
\begin{itemize}
\item param: parameter string containing status informations about the harddisks
\item vDev: Virtual (internally used) device number.
\item vPart: Virtual (internally used) partition number. This is normally another number than the physical number (e.g. 1 on /dev/hda1)
\item factor: the factor to multiplay percent amount of free space
\end{itemize}

\subsection{FDISK\_getBeforeFristPartition}
\textbf{Description:} gets the free space before the first partition\\
\textbf{Parameter:}
\begin{itemize}
\item param: parameter string containing status informations about the harddisks
\item vDev: virtual device number to access the drive
\item factor: the factor to multiplay percent amount of free space
\end{itemize}

\subsection{FDISK\_getPartitions}
\textbf{Description:} get the partition info for the client from db\\
\textbf{Parameter:}
\begin{itemize}
\item client: name of the client
\end{itemize}

\subsection{FDISK\_getPartInfoString}
\textbf{Description:} Generates an info string, that shows information about the device name of the partition, its filesystem and bolonging to a RAID.\\
\textbf{Parameter:}
\begin{itemize}
\item vDev: Virtual (internally used) device number.
\item vPart: Virtual (internally used) partition number. This is normally another number than the physical number (e.g. 1 on /dev/hda1)
\item param: parameter string containing status informations about the harddisks
\item fstabA: Associative array with fstab information.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Info string.
\end{itemize}

\subsection{FDISK\_getDriveInfoString}
\textbf{Description:} Generates an info string, that shows information about the device name of the drive and bolonging to a RAID.\\
\textbf{Parameter:}
\begin{itemize}
\item vDev: Virtual (internally used) device number.
\item param: parameter string containing status informations about the harddisks
\item fstabA: Associative array with fstab information.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Info string.
\end{itemize}

\subsection{FDISK\_getDriveInfoIcon}
\textbf{Description:} Generates HTML code for showing an icon with status information about a drive.\\
\textbf{Parameter:}
\begin{itemize}
\item vDev: Virtual (internally used) device number.
\item param: parameter string containing status informations about the harddisks
\item fstabA: Associative array with fstab information.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item HTML code for showing an icon with status information about the drive.
\end{itemize}

\subsection{FDISK\_getPartInfoIcon}
\textbf{Description:} Generates HTML code for showing an icon with status information about a drive or partition.\\
\textbf{Parameter:}
\begin{itemize}
\item vDev: Virtual (internally used) device number.
\item vPart: Virtual (internally used) partition number. This is normally another number than the physical number (e.g. 1 on /dev/hda1) and if set to false, the icon and the status information will be generated for a drive and not for a partition.
\item param: parameter string containing status informations about the harddisks
\item fstabA: Associative array with fstab information.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item HTML code for showing an icon with status information about the drive or partition.
\end{itemize}

\subsection{FDISK\_printBars}
\textbf{Description:} prints the partitions as colored table\\
\textbf{Parameter:}
\begin{itemize}
\item param: parameter string containing status informations about the harddisks
\item dev: selected device (e.g. /dev/hda)
\item addJavaScript: Set to true to add JavaScript code that calls the JS function emptySpace(), if empty parts of the drive are clicked, selectPartition(), if a partition is clicked and showPartTable(), if the mouse is over the bar.
\item fstabA: Associative array with fstab information.
\end{itemize}

\subsection{FDISK\_getSupportedFS}
\textbf{Description:} Generates and returns an array with the list of supported file systems.\\
\textbf{Returns:}
\begin{itemize}
\item Array with the list of supported file systems.
\end{itemize}

\subsection{FDISK\_listSupportedFS}
\textbf{Description:} lists all supported fileSystems for the menu.\\
\textbf{Parameter:}
\begin{itemize}
\item selName: name the selection list, used for the html form
\item showFirst: name of file system shown first
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The currently choosen file system.
\end{itemize}

\subsection{FDISK\_deletePartitionFromParam}
\textbf{Description:} Deletes all partition parameters of a partition from param without correcting the other partitions.\\
\textbf{Parameter:}
\begin{itemize}
\item vDev: Virtual (internally used) device number.
\item vPart: Virtual (internally used) partition number. This is normally another number than the physical number (e.g. 1 on /dev/hda1)
\item param: parameter string containing status informations about the harddisks.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Changed param without the partition.
\end{itemize}

\subsection{FDISK\_virtualDeletePartition}
\textbf{Description:} deletes partition from param assigned thru \$vDev and \$vPart.\\
\textbf{Parameter:}
\begin{itemize}
\item vDev: Virtual (internally used) device number.
\item devNr: device number of the real device
\item param: parameter string containing status informations about the harddisks
\end{itemize}

\subsection{FDISK\_virtualAddPartition}
\textbf{Description:} adds a partition to the param param\\
\textbf{Parameter:}
\begin{itemize}
\item vDev: virtuell internal used device number.
\item param: parameter string containing status informations about the harddisks
\item start: start MB of the new partition
\item end: end MB of the new partition
\item type: type of the partition (primary, extended, logical)
\item devNr: returnes the device number
\end{itemize}

\subsection{FDISK\_listPartTable}
\textbf{Description:} lists the partition information as table\\
\textbf{Parameter:}
\begin{itemize}
\item vDev: Virtual (internally used) device number.
\item param: parameter string containing status informations about the harddisks
\end{itemize}

\subsection{FDISK\_listInstPartSelector}
\textbf{Description:} lists all partitions to select for swap and install partition\\
\textbf{Parameter:}
\begin{itemize}
\item param: parameter string containing status informations about the harddisks
\item default: partition that should be shown as selected
\item type: array with filesystems that are possible for installation or swap
\item selName: name of the selection
\end{itemize}

\subsection{FDISK\_formatExisting}
\textbf{Parameter:}
\begin{itemize}
\item instPart: partition to put the operation system on (e.g. /dev/hda1)
\item swapPart: partition to put the swap file system on (e.g. /dev/hdb2)
\item command: parted commands to do the installation
\item param: parameter string containing status informations about the harddisks
\end{itemize}

\subsection{FDISK\_getvPart}
\textbf{Description:} returns vPart with the real device number.\\
\textbf{Parameter:}
\begin{itemize}
\item param: parameter string containing status informations about the harddisks
\item dev: selected device (e.g. hda)
\item devNr: number of partition
\end{itemize}

\subsection{FDISK\_rmJob}
\textbf{Description:} generates a partition remove job\\
\textbf{Parameter:}
\begin{itemize}
\item dev: selected device (e.g. hda)
\item devNr: number of partition, minor number in parted
\item partJobs: associative array with partition jobs
\end{itemize}

\subsection{FDISK\_addJob}
\textbf{Description:} generates a partition add job\\
\textbf{Parameter:}
\begin{itemize}
\item path: selected device (e.g. /dev/hda)
\item start: start point fo the partition
\item end: end point fo the partition
\item type: type of the partition (primary, logical)
\item partJobs: associative array with partition jobs
\item fullPath: full path for the partition
\item devNr: number of the device (e.g. 1 with /dev/hda1)
\end{itemize}

\subsection{FDISK\_bootflagJob}
\textbf{Description:} enables the booting flag on a partition\\
\textbf{Parameter:}
\begin{itemize}
\item path: device to activate booting on (e.g. /dev/hda1)
\item devNr: number of partition, minor number in parted
\item partJobs: associative array with partition jobs
\end{itemize}

\subsection{FDISK\_formatJob}
\textbf{Description:} generates a partition format job\\
\textbf{Parameter:}
\begin{itemize}
\item path: device to format (e.g. /dev/hda1)
\item fileSys: file system of the partition: ext3, ext2, linux-swap
\item partJobs: associative array with partition jobs
\end{itemize}

\subsection{FDISK\_countPartitions}
\textbf{Description:} count all partitions of a selected type\\
\textbf{Parameter:}
\begin{itemize}
\item param: parameter string containing status informations about the harddisks
\item vDev: Virtual (internally used) device number.
\item type: type of the partition (primary, extended, logical)
\end{itemize}

\subsection{FDISK\_getFreeSpaces}
\textbf{Description:} get free spaces as array\\
\textbf{Parameter:}
\begin{itemize}
\item param: parameter string containing status informations about the harddisks
\item dev: selected device (e.g. hda)
\end{itemize}

\subsection{FDISK\_autoPart}
\textbf{Description:} generation of param string and command list for automatic partition\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client
\item command: parted commands are written to \$command
\item dev: selected device (e.g. /dev/hda)
\item param: parameter string containing status informations about the harddisks
\item instPart: the variable the installation device name is written to
\item swapPart: the variable the swap device name is written to
\item minSwap: Minimal size of the swap partition in MB.
\item maxSwap: Maximal size of the swap partition in MB.
\end{itemize}

\subsection{FDISK\_printColorDefinitions}
\textbf{Description:} prints the color definitions for the filesystems\\

\subsection{FDISK\_showDiskDefine}
\textbf{Description:} shows a dialog for defining the type and size of the fake drive for the clientBuilder\\
\textbf{Parameter:}
\begin{itemize}
\item client: client name
\end{itemize}

\subsection{FDISK\_defineDrive}
\textbf{Description:} defines drive information for the clientBuilder\\
\textbf{Parameter:}
\begin{itemize}
\item client: client name
\item path: path to the drive (/dev/hda, /dev/hdb, ...)
\item size: size of the drive in MB
\item upperI: upper tolerance border for disks with identical type
\item lowerI: lower tolerance border for disks with identical type
\item upperO: upper tolerance border for disks with other type
\item lowerO: lower tolerance border for disks with other type
\item asSpeciefied: use the speciefied disk, if it exists (is set to "yes" or empty)
\item sizeAdjustmentType: defines how the partitions should be adjusted, if there is more or less space on the client that the defined one. "system" increases or tries to keep the size of the system partition. "percentage" makes a percentage adjustment of all partitions.
\end{itemize}

\subsection{FDISK\_dev2LDevLPart}
\textbf{Description:} searches a special device (e.g. /dev/hda2) and writes the virtual device and partition numbers to the variables. These values can be used to access the file system via \$param["dev\$vDev"."part\$vPart"."\_fs"]\\
\textbf{Parameter:}
\begin{itemize}
\item param: the associative array containing all values describing the drives of the client
\item dev: the device (e.g. /dev/hda2)
\item vDev: the virtual device number, that is used to build the variable name to access the associative array.
\item vPart: the virtual partition number, that is used to build the variable name to access the associative array. This number has not to be qual to the partition number of the real drive (e.g. /dev/hda5 can be \$vPart == 3). If it is set to "empty", only vDev is calculated.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true if the search worked otherwise false.
\end{itemize}

\subsection{FDISK\_rereadPartTable}
\textbf{Description:} Let the OS re-read the partition table.\\
\textbf{Parameter:}
\begin{itemize}
\item path: The device that was changed/created (e.g. /dev/sda5).
\end{itemize}

\subsection{FDISK\_genPartedCommands}
\textbf{Description:} returnes the partition and formation commands that are generated from partJobs.\\
\textbf{Parameter:}
\begin{itemize}
\item partJobs: string with information about all created partition jobs
\item mkfsextOptions: Extra parameter for mkfs.extX .
\end{itemize}

\subsection{FDISK\_listPartJobs}
\textbf{Description:} print all part jobs in the table\\
\textbf{Parameter:}
\begin{itemize}
\item partJobs: string with information about all created partition jobs
\end{itemize}

\subsection{FDISK\_getDiskType}
\textbf{Description:} returnes the type of the drive (DISK\_TYPE\_IDE, DISK\_TYPE\_SCSI)\\
\textbf{Parameter:}
\begin{itemize}
\item path: the path to the device (e.g. /dev/hde)
\end{itemize}

\subsection{FDISK\_getDriveAndNr}
\textbf{Description:} splits a path (e.g. /dev/hda1) in the device (/dev/hda) and the device number (1). The device is returned as element 0 and the number as element 1 in an array.\\
\textbf{Parameter:}
\begin{itemize}
\item path: the path to partition (e.g. /dev/hde1)
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Array with two parts. \$out[0]=drive (e.g. /dev/hda), \$out[1]=the device number
\end{itemize}

\subsection{FDISK\_getNextFdiskFormatJobNr}
\textbf{Description:} returnes the next free job number for the parameters of a m23fdiskFormat job. (e.g. there are used the following parameters: command0 = rm, command1= add. Then the next command number to use will be command2 =$>$ return value is 2)\\
\textbf{Parameter:}
\begin{itemize}
\item fdiskParams: the parameters of the m23fdiskFormat job
\end{itemize}

\subsection{FDISK\_AFPselectDrive}
\textbf{Description:} selects a drive from the settings in "options" and from available drives.\\
\textbf{Parameter:}
\begin{itemize}
\item drives: all drives available on the client
\item options: options array of the client
\end{itemize}

\subsection{FDISK\_AFPlinearScale}
\textbf{Description:} scales all partitions sizes to match the full disk size.\\
\textbf{Parameter:}
\begin{itemize}
\item driveToUse: device to use (e.g. /dev/hda)
\item driveToUseSize: Size of the real drive to use.
\item options: options array of the client
\item command: array that stores the modificated format parameters
\item formatarr: array that contains the original format parameters
\end{itemize}

\subsection{FDISK\_AFPgetPartSizes}
\textbf{Description:} writes the sizes of the installation, swap and other partitions to the variables.\\
\textbf{Parameter:}
\begin{itemize}
\item formatArr: array that contains the oformat parameters
\item options: options array of the client
\item instPartSize: stores the size of the installation partition
\item instSwapSize: stores the size of the swap partition
\item otherSize: stores the size of the other partition(s)
\end{itemize}

\subsection{FDISK\_adjustFdiskParams}
\textbf{Description:} adjusts the installation and swap drive for a derived client, based on the defined client settings\\
\textbf{Parameter:}
\begin{itemize}
\item path: the path to the device (e.g. /dev/hde)
\end{itemize}

\subsection{FDISK\_virtualAddDrive}
\textbf{Description:} Adds a new drive to the param array.\\
\textbf{Parameter:}
\begin{itemize}
\item param: parameter string containing status informations about the harddisks
\item path: Device name of the new drive (e.g. /dev/md0)
\item size: Size in MB of the new drive.
\end{itemize}

\subsection{FDISK\_getDrivePartitionSize}
\textbf{Description:} Calculates the size of a drive or partition.\\
\textbf{Parameter:}
\begin{itemize}
\item vDev: Virtual (internally used) device number.
\item vPart: Virtual (internally used) partition number. This is normally another number than the physical number (e.g. 0 on /dev/hda1)
\item param: parameter string containing status information about the harddisks
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Size of the drive or partition in MB.
\end{itemize}

\subsection{FDISK\_listRaidTable}
\textbf{Description:} Get informations about the assigned real drives/partitions of a RAID.\\
\textbf{Parameter:}
\begin{itemize}
\item raidDev: Device name of the new drive (e.g. /dev/md0)
\item param: parameter string containing status information about the harddisks
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item HTML table with informations about the assigned real drives/partitions.
\end{itemize}

\subsection{FDISK\_addDrivePartitionToRaid}
\textbf{Description:} Adds a drive or partition to a RAID.\\
\textbf{Parameter:}
\begin{itemize}
\item raidDev: Device name of the new drive (e.g. /dev/md0)
\item raidType: RAID level (this can be 0,1,4,5,6,10)
\item partitionDrive: Partition or drive to add (e.g. /dev/hdc)
\item param: parameter string containing status information about the harddisks
\item raidMode: Raid mode (e.g. 1 for RAID-1, 5 for RAID-5)
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true if the RAID has the minimum amount of assigned drives/partitions and otherwise false.
\end{itemize}

\subsection{FDISK\_buildRaidDialog}
\textbf{Description:} Shows a dialog for creating RAIDs of different types and assign real drives or partitions.\\
\textbf{Parameter:}
\begin{itemize}
\item param: parameter string containing status information about the harddisks
\item partJobs: associative array with partition jobs
\item currentDrive: the current drive to work on (e.g. hda)
\item helpPage: Name of the help page to show.
\item partitionDrive: Partition or drive to add (e.g. /dev/hdc)
\item partMethod: partition method (used for the partition/format dialog). The next step will depend on this value.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true if the RAID has the minimum amount of assigned drives/partitions and otherwise false.
\end{itemize}

\subsection{FDISK\_addRaidJobs}
\textbf{Description:} Generates jobs to create all RAIDs\\
\textbf{Parameter:}
\begin{itemize}
\item partJobs: associative array with partition jobs
\item param: parameter string containing status information about the harddisks
\end{itemize}

\subsection{FDISK\_addRaidBeforeFormat}
\textbf{Description:} Generates and places a job to create a RAID on given drives/partitions before the formating of the RAID device.\\
\textbf{Parameter:}
\begin{itemize}
\item raidDev: RAID device (e.g. /dev/md0)
\item devList: Space separated list of devices to create the RAID on top (e.g. /dev/sda1 /dev/hda /dev/sbd5).
\item partJobs: associative array with partition jobs.
\item raidMode: The type of the RAID (0,1,5, ...)
\end{itemize}

\subsection{FDISK\_raidJob}
\textbf{Description:} Generates a job to create a RAID on given drives/partitions.\\
\textbf{Parameter:}
\begin{itemize}
\item raidDev: RAID device (e.g. /dev/md0)
\item devList: Space separated list of devices to create the RAID on top (e.g. /dev/sda1 /dev/hda /dev/sbd5).
\item partJobs: associative array with partition jobs
\end{itemize}

\subsection{FDISK\_virtualDeleteDrive}
\textbf{Description:} Deletes a (RAID) drive from param assigned thru \$vDev.\\
\textbf{Parameter:}
\begin{itemize}
\item vDev: Virtual (internally used) device number.
\item param: parameter string containing status informations about the harddisks
\end{itemize}

\subsection{FDISK\_deleteDriveFromParam}
\textbf{Description:} Deletes all drive and partition parameters of a drive from param without correcting any order.\\
\textbf{Parameter:}
\begin{itemize}
\item vDev: Virtual (internally used) device number of the drive to delete.
\item param: parameter string containing status informations about the harddisks.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Changed param without the drive.
\end{itemize}

\newpage\section{./inc/groups.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: group management funtions\\

\subsection{GRP\_exists}
\textbf{Description:} checks, if a group exists\\
\textbf{Parameter:}
\begin{itemize}
\item groupName: name of the group to check
\end{itemize}

\subsection{GRP\_add}
\textbf{Description:} adds a group\\
\textbf{Parameter:}
\begin{itemize}
\item groupName: name of the group to add
\end{itemize}

\subsection{GRP\_getIdByName}
\textbf{Description:} gets the Id of a groupname\\
\textbf{Parameter:}
\begin{itemize}
\item groupName: name of the group
\end{itemize}

\subsection{GRP\_del}
\textbf{Description:} deletes all clients from the group and the group itself\\
\textbf{Parameter:}
\begin{itemize}
\item groupName: name of the group
\end{itemize}

\subsection{GRP\_isClientInGroup}
\textbf{Description:} returnes true, if a client is in the selected group, otherwise false\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client 
\item groupName: name of the group
\end{itemize}

\subsection{GRP\_addClientToGroup}
\textbf{Description:} adds a client to a group\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client 
\item groupName: name of the group
\end{itemize}

\subsection{GRP\_delClientFromGroup}
\textbf{Description:} removes a client from a group\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client 
\item groupName: name of the group
\end{itemize}

\subsection{GRP\_listGroupsAndCount}
\textbf{Description:} returnes a associative array with all groupnames and the amount of clients in each group\\

\subsection{GRP\_showGroupsAndCount}
\textbf{Description:} generates a table with all groupnames and the amount of clients in each group\\

\subsection{GRP\_ren}
\textbf{Description:} renames a group\\
\textbf{Parameter:}
\begin{itemize}
\item groupName: name of the group
\item newGroupName: name of the new group
\end{itemize}

\subsection{GRP\_HTMLBackToDetails}
\textbf{Description:} generates HTML code to return to the group details page\\
\textbf{Parameter:}
\begin{itemize}
\item groupName: name of the group
\item section: name of the section to jump to
\end{itemize}

\subsection{GRP\_countClients}
\textbf{Description:} returns the amount of client of a certain group\\
\textbf{Parameter:}
\begin{itemize}
\item groupName: name of the group
\end{itemize}

\subsection{GRP\_showGeneralInfo}
\textbf{Description:} shows a table with general information about the group\\
\textbf{Parameter:}
\begin{itemize}
\item groupName: name of the group
\end{itemize}

\subsection{GRP\_showRenDialog}
\textbf{Description:} shows a dialog to rename a group\\

\subsection{GRP\_moveClientToGroup}
\textbf{Description:} moves a client from one group to another\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: client to move
\item oldGroup: name of the old group
\item newGroup: name of the new group
\end{itemize}

\subsection{GRP\_listGroups}
\textbf{Description:} returnes all groups in an array\\

\subsection{GRP\_groupSelection}
\textbf{Description:} generates a HTML selection with all groups as options\\
\textbf{Parameter:}
\begin{itemize}
\item selName: name of the selection
\item first: the group that should be shown first
\end{itemize}

\subsection{GRP\_showDelDialog}
\textbf{Description:} shows a dialog for deleting a group\\
\textbf{Parameter:}
\begin{itemize}
\item groupName: name of the group
\end{itemize}

\subsection{GRP\_doClientMoreGroups}
\textbf{Description:} dialog and logic for adding and removing the client to and from multiple groups\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client
\item type: type of the action ("add" for adding,"del" for removing)
\end{itemize}

\subsection{GRP\_listClientGroups}
\textbf{Description:} returnes an array containing all groups a client is in\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client
\end{itemize}

\subsection{GRP\_showClientGroups}
\textbf{Description:} Shows a list containing all groups a client is in\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client
\item link: if there should be links to the group page
\item output: If set to true, the list will be shown, if set to false returned instead.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Nothing or the list containing all groups a client is in.
\end{itemize}

\subsection{GRP\_listAllClientsInGroup}
\textbf{Description:} returns an array that consists of all client names that are in a group\\
\textbf{Parameter:}
\begin{itemize}
\item groupName: name of the group to check
\end{itemize}

\subsection{GRP\_getDistrsAndSourcesLists}
\textbf{Description:} writes the differnt distributions and package sources of the clients in a group as array to the both variables\\
\textbf{Parameter:}
\begin{itemize}
\item distrs: variable that should store the distributions
\item sourceslists: variable that should store the sourceslist names
\end{itemize}

\subsection{GRP\_showSelDistrSources}
\textbf{Description:} shows a dialog for selection of distribution and package source name. The choices are taken form distr and packagesource values of the clients in the group. If there is only one entry for one or both of the values, the value is written back to the input variable otherwise a HTML selection is shown.\\
\textbf{Parameter:}
\begin{itemize}
\item groupNames: group names stores in an array
\item distr: distribution to show first and variable to write the distribution name back
\item sourceslist: sources list to show first and variable to write the sources list name back
\end{itemize}

\subsection{GRP\_listAllClientsInGroups}
\textbf{Description:} returns an array with all client names contained in the groups\\
\textbf{Parameter:}
\begin{itemize}
\item groupNames: the names of the groups stored in an array
\end{itemize}

\subsection{GRP\_HTMLBackToOverview}
\textbf{Description:} generates HTML code to return to the group overview page\\

\subsection{GRP\_getAllPackages}
\textbf{Description:} shows a list of all packages on all clients in the selected groups. the packages can be selected by checkboxes\\
\textbf{Parameter:}
\begin{itemize}
\item groupNames: group names stores in an array
\item key: keyword for searching for packages
\item withActions: you can select to draw te action 
\end{itemize}

\subsection{GRP\_desasterRecovery}
\textbf{Description:} recovers all selected clients and shows a message afterwards\\
\textbf{Parameter:}
\begin{itemize}
\item clients: an array containing all clients that should be recovered
\end{itemize}

\newpage\section{./inc/helper.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: Helper functions that did not fit into another include file.\\

\subsection{HELPER\_URIencode}
\textbf{Description:} Encodes a string like the JavaScript function URIencode would do it.\\
\textbf{Parameter:}
\begin{itemize}
\item in: Input string to be encoded.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Encoded version of the string
\end{itemize}

\subsection{HELPER\_isUpper}
\textbf{Description:} Checks, if a character is upper case\\
\textbf{Parameter:}
\begin{itemize}
\item char: Character to check.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, when upper case otherwise false
\end{itemize}

\subsection{HELPER\_filesize}
\textbf{Description:} Gets the correct file size of a file, even if it is bigger than 2 GB.\\
\textbf{Parameter:}
\begin{itemize}
\item fileName: Name of the file with full path.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The file size of the file in bytes.
\end{itemize}

\subsection{HELPER\_isExecutedInCLI}
\textbf{Description:} Checks, if it is run in CLI.\\
\textbf{Returns:}
\begin{itemize}
\item True, when run in CLI otherwise false.
\end{itemize}

\subsection{HELPER\_getContentFromURL}
\textbf{Description:} Downloads an URL via curl and gives back the site code.\\
\textbf{Parameter:}
\begin{itemize}
\item url: The URL to download.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The downloaded site code or false in case of an error.
\end{itemize}

\subsection{HELPER\_trimValue}
\textbf{Description:} Runs trim on the input parameter and writes the result back.\\
\textbf{Parameter:}
\begin{itemize}
\item value: Value to trim.
\end{itemize}

\subsection{HELPER\_xargsRecursive}
\textbf{Description:} Executes a BASH command with a list of arguments. If the BASH command fails, the argument list is split in two parts and recursively executed again.\\
\textbf{Parameter:}
\begin{itemize}
\item cmd: BASH command
\item argsA: Array of commands for the BASH command.
\item tabAmount: Amount of identing to start with.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Recursive calls of the BASH command with error checking.
\end{itemize}

\subsection{HELPER\_getNewLogLines}
\textbf{Description:} Gets the last (new) lines of a (growing) log file.\\
\textbf{Parameter:}
\begin{itemize}
\item log: Name of the log file.
\item sessionPrefix: Prefix for storing the last read line number in the session.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item UTF8-encoded new lines of the log file.
\end{itemize}

\subsection{HELPER\_rmRecursive}
\textbf{Description:} Removes a directory with sub-directories and contained files.\\
\textbf{Parameter:}
\begin{itemize}
\item : dir: Full path to the directory.
\end{itemize}

\subsection{HELPER\_showBAfH}
\textbf{Description:} Shows the German BAfH excuse of the day.\\

\subsection{HELPER\_ucrc32}
\textbf{Description:} Returns the unsigned crc32 sum of an input value.\\
\textbf{Parameter:}
\begin{itemize}
\item : in: Input to crc.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Unsigned crc32 sum of an input value.
\end{itemize}

\subsection{HELPER\_md5x5}
\textbf{Description:} Hashes an input value 5 times with MD5.\\
\textbf{Parameter:}
\begin{itemize}
\item : in: Input to hash.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Hashed value.
\end{itemize}

\subsection{HELPER\_netmaskCalculator}
\textbf{Description:} Converts a short netmask (e.g. 24 for 255.255.255.0) into the decimal notation.\\
\textbf{Parameter:}
\begin{itemize}
\item : nm: The netmask to convert. If a netmask in decimal notation is given, no conversation is done.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Netmask in decimal notation.
\end{itemize}

\subsection{HELPER\_importAllIntoPOST}
\textbf{Description:} Imports all values into the \$\_POST array in case that there are too much array keys for the normal processing.\\

\subsection{HELPER\_randomUsername}
\textbf{Description:} Generates a random username with a given length.\\
\textbf{Parameter:}
\begin{itemize}
\item length: Length of the username to create.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The random username.
\end{itemize}

\subsection{HELPER\_createSelfSignedCAAndServerCertificate}
\textbf{Description:} Creates a selfsigned CA and a server certificate.\\
\textbf{Parameter:}
\begin{itemize}
\item CADn: Information about the CA.
\item serverDn: Information about the server.
\item password: Password for the private server key.
\item expirationDate: Expiration of the certificates in days.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Associative array with the certificate of the CA, the certificate and private key of the server.
\end{itemize}

\subsection{HELPER\_arrayReOrderKeynumbers}
\textbf{Description:} Changes all keys of the input array to simple ascending numbers, if the key of the inpur array is a number (if not, the key will be left unchanged). The order of the keys is preserved.\\
\textbf{Parameter:}
\begin{itemize}
\item inArray: The input array.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item New array with the ascending key numbers.
\end{itemize}

\subsection{HELPER\_arrayInsertBeforeKeynumber}
\textbf{Description:} Inserts a value into an array (that has simple numbers as keys) before a given key.\\
\textbf{Parameter:}
\begin{itemize}
\item inArray: The input array.
\item beforeKeynumber: The key number the value should be inserted before.
\item val: The value that should be inserted.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item New array with the new value inserted.
\end{itemize}

\subsection{HELPER\_arrayInsertAfterKeynumber}
\textbf{Description:} Inserts a value into an array (that has simple numbers as keys) after a given key.\\
\textbf{Parameter:}
\begin{itemize}
\item inArray: The input array.
\item afterKeynumber: The key number the value should be inserted after.
\item val: The value that should be inserted.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item New array with the new value inserted.
\end{itemize}

\subsection{HELPER\_m23Array2Array}
\textbf{Description:} Converts an m23 array to a normal array.\\
\textbf{Parameter:}
\begin{itemize}
\item m23Array: The m23 array to convert. The m23 array is a 2D array, that consists of keys build of a parameter names combined with a parameter number. Parameter names with the same parameter number belong together. (e.g. [command0] =$>$ format, [path0] =$>$ /dev/md0, [fs0] =$>$ ext4, ...)
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item A normal array, that may be edited more easyly. (e.g [0] =$>$ Array([command] =$>$ format, [path] =$>$ /dev/md0, [fs] =$>$ ext4 ))
\end{itemize}

\subsection{HELPER\_array2m23Array}
\textbf{Description:} Converts a normal array to an m23 array.\\
\textbf{Parameter:}
\begin{itemize}
\item array: A normal array, that may be edited more easyly. (e.g [0] =$>$ Array([command] =$>$ format, [path] =$>$ /dev/md0, [fs] =$>$ ext4 ))
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The m23 array, that is a 2D array, that consists of keys build of a parameter names combined with a parameter number. Parameter names with the same parameter number belong together. (e.g. [command0] =$>$ format, [path0] =$>$ /dev/md0, [fs0] =$>$ ext4, ...)
\end{itemize}

\subsection{print\_r2}
\textbf{Description:} Function like print\_r, but sorts the entries, if the input is an array and converts newlines to HTML breaks.\\
\textbf{Parameter:}
\begin{itemize}
\item in: Value to print.
\end{itemize}

\subsection{HELPER\_debugBacktraceToFile}
\textbf{Description:} Writes/Appends debug information about all calling functions and parameters into a file.\\
\textbf{Parameter:}
\begin{itemize}
\item file: File name with full path, where the debug information should be stored.
\end{itemize}

\subsection{HELPER\_getRemoteFileContents}
\textbf{Description:} Downloads a file if it is not older than a given time and returns its contents.\\
\textbf{Parameter:}
\begin{itemize}
\item url: The URL where to download the file from.
\item storeFile: The file name to store the download in.
\item refreshTime: The time in minutes the file is downloaded again.
\item forceOverwrite: Set to true if the file should be overwritten even if the new file is epmty.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The contents of the files from chache or from download or false if no file could be found.
\end{itemize}

\subsection{HELPER\_passGenerator}
\textbf{Description:} Generates semi-random passwords via pwgen or DB\_genPassword.\\
\textbf{Parameter:}
\begin{itemize}
\item length: The length of the passwords.
\item amount: The amount of passwords to generate.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Array with the generated passwords if \$amount $>$ 1 or the password string directly if \$amount = 1.
\end{itemize}

\subsection{HELPER\_array2AssociativeArray}
\textbf{Description:} Copies the values of an array as keys AND values to a new assiciative array.\\
\textbf{Parameter:}
\begin{itemize}
\item in: Input array.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Associative array with equal keys and values.
\end{itemize}

\subsection{HELPER\_randomMAC}
\textbf{Description:} Generates a random MAC address.\\
\textbf{Returns:}
\begin{itemize}
\item Random MAC address in the format XX:XX:XX:XX:XX:XX (e.g. 70:c4:d4:49:6e:27).
\end{itemize}

\subsection{HELPER\_generateSalt}
\textbf{Description:} Generates a random salt string.\\
\textbf{Parameter:}
\begin{itemize}
\item length: Length of the salt.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Random salt of given length.
\end{itemize}

\subsection{HELPER\_grubMd5Crypt}
\textbf{Description:} Encrypts a password to the MD5 hash as expected by grub.\\
\textbf{Parameter:}
\begin{itemize}
\item password: Password to encrypt.
\item length: Length of the salt.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Encrypted password in grub style or false if MD5 hash function isn't available.
\end{itemize}

\subsection{HELPER\_listFilesInDir}
\textbf{Description:} Lists all files in a directory and returns an array with all file names.\\
\textbf{Parameter:}
\begin{itemize}
\item dirname: Name of the directory.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Array with all file names.
\end{itemize}

\subsection{HELPER\_getBootLoaders}
\textbf{Description:} Returns a list of available bootloaders.\\
\textbf{Returns:}
\begin{itemize}
\item Array with available bootloaders.
\end{itemize}

\subsection{HELPER\_getTimeZones}
\textbf{Description:} Searches for all time zones.\\
\textbf{Parameter:}
\begin{itemize}
\item country: two letter country name that is used to select a timezone if none is set with \$first.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Array with all time zones.
\end{itemize}

\subsection{HELPER\_calcMBSize}
\textbf{Description:} calculates the size in MB from a given input that can be a GB value or measured in %\\
\textbf{Parameter:}
\begin{itemize}
\item number: the number to convert
\item from: if number is a percent value, the output will be the percentage of the from value
\item trunc: set to true, if the output value should be trunced
\end{itemize}

\subsection{HELPER\_grep}
\textbf{Description:} returnes all lines from \$string seperated by \$cut that contain \$search\\
\textbf{Parameter:}
\begin{itemize}
\item string: the text, that should be searched
\item search: the string to be searched
\item cut: seperator for the input and output lines
\end{itemize}

\subsection{HELPER\_getFdiskMountPoints}
\textbf{Description:} Returnes an array with all mount points listed in /etc/fstab\\
\textbf{Parameter:}
\begin{itemize}
\item excludeExtra: set to true, if you want to exclude /proc and /sys from the array
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Found mount points as array keys and values.
\end{itemize}

\subsection{HELPER\_getApacheUser}
\textbf{Description:} returnes the name of the Apache user\\

\subsection{HELPER\_getApacheGroup}
\textbf{Description:} returnes the group of the Apache user\\

\subsection{HELPER\_putFileContents}
\textbf{Description:} Writes data to a file.\\
\textbf{Parameter:}
\begin{itemize}
\item fileName: name of the file to write
\item contents: Text or data that should be written to the file.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Error code from fwrite.
\end{itemize}

\subsection{HELPER\_getFileContents}
\textbf{Description:} returnes the contents of a file (the file is read to a maximum of 5 MB)\\
\textbf{Parameter:}
\begin{itemize}
\item fileName: name of the file to read
\end{itemize}

\subsection{HELPER\_showFileContents}
\textbf{Description:} Shows the contents of a file (the file is read to a maximum of 5 MB)\\
\textbf{Parameter:}
\begin{itemize}
\item fileName: name of the file to read
\end{itemize}

\subsection{HELPER\_maxPhpUploadSize}
\textbf{Description:} Returns the maximum file upload size allowed by php.ini.\\

\subsection{HELPER\_compareLengthAbc}
\textbf{Description:} Compares the length of two strings and then by alphabet\\
\textbf{Parameter:}
\begin{itemize}
\item \$a: string of a certain length
\item \$b: string of a certain length
\end{itemize}

\subsection{HELPER\_sortByLength}
\textbf{Description:} Sorts an array by length of its values, shortest value first, keeping key-value pairs\\
\textbf{Parameter:}
\begin{itemize}
\item \$array: The array you want to sort by length
\end{itemize}

\newpage\section{./inc/help.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: function to show the help box in the correct language\\

\subsection{HELP\_showHelp}
\textbf{Description:} showes the help block for the online help\\
\textbf{Parameter:}
\begin{itemize}
\item topic: the name of the help file
\item language: two character language description (e.g. de, en, fr,...)
\end{itemize}

\subsection{HELP\_getHelp}
\textbf{Description:} Returnes the help block for the online help\\
\textbf{Parameter:}
\begin{itemize}
\item topic: the name of the help file or name of a man page starting with "man://" e.g. man://tar
\item language: two character language description (e.g. de, en, fr,...)
\item fileName: full path to a help file in a directory with language short name
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item help block string
\end{itemize}

\subsection{HELP\_getHelpString}
\textbf{Description:} returns the help block for the online help\\
\textbf{Parameter:}
\begin{itemize}
\item topic: the name of the help file
\item language: two character language description (e.g. de, en, fr,...)
\end{itemize}

\subsection{HELP\_showHelpTex}
\textbf{Description:} shows the help file converted to LaTeX code\\
\textbf{Parameter:}
\begin{itemize}
\item fileName: name of the help file
\end{itemize}

\newpage\section{./inc/html.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: functions for generating often used HTML code\\

\subsection{HTML\_imgSwitch}
\textbf{Description:} Defines an image button with two states and a text next to it.\\
\textbf{Parameter:}
\begin{itemize}
\item \$htmlName: Name of the html image input element.
\item \$off\_img: Name and path of image to be displayed if its state is "off"
\item \$on\_img: Name and path of image to be displayed it its state is "on"
\item \$off\_text: Text to be displayed if state is "off"
\item \$on\_text: Text to be displayed if state is "on"
\item \$separator: Anything which shall be displayed between the picture (clickable) and the text (not clickable)
\item \$default: State of the image input element on first load of page ("on" or "off")
\item \$outState: Current state of element (true for "on" or false for "off").
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the button was clicked otherwise false.
\end{itemize}

\subsection{HTML\_uploadFile}
\textbf{Description:} Shows a dialog for uploading image files.\\
\textbf{Parameter:}
\begin{itemize}
\item htmlName: Name of the HTML element
\item label: The visual naming of the HTML element.
\item maxFileSize: The maximum allowed filesize in bytes.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The full path to the uploaded file or false in case of an error.
\end{itemize}

\subsection{HTML\_urlButton}
\textbf{Description:} Defines a link that appears like a button.\\
\textbf{Parameter:}
\begin{itemize}
\item htmlNames: Name of the constant.
\item label: Label of the button.
\item url: The URL where the link button should point to.
\end{itemize}

\subsection{HTML\_sourceViewer}
\textbf{Description:} Creates a source code viewer area with syntax highlighting.\\
\textbf{Parameter:}
\begin{itemize}
\item htmlNames: Name of the source viewer.
\item code: The source code to show.
\item highlighting: The GeSHi language of the source code (e.g. bash).
\end{itemize}

\subsection{HTML\_getOutputBuffer}
\textbf{Description:} Gets the complete (previously rendered) HTML output buffer.\\
\textbf{Returns:}
\begin{itemize}
\item The complete contents of the (previously rendered) HTML output buffer.
\end{itemize}

\subsection{HTML\_setOutputBuffer}
\textbf{Description:} Sets (replaces) the complete (previously rendered) HTML output buffer, that will be sent to the webbrowser.\\
\textbf{Parameter:}
\begin{itemize}
\item HTMLOutputBuffer: New HTML codes that should replace the complete current output buffer.
\end{itemize}

\subsection{HTML\_AJAXAutoSubmit}
\textbf{Description:} Defines AJAX code that clicks a submit button when the given URL returns 'submit'. The defined constant should be used as LAST part of the \$extra parameter in the HTML\_submit function.\\
\textbf{Parameter:}
\begin{itemize}
\item htmlNames: Name of the HTML submit element (button).
\item url: The HTTP URL to poll.
\item timeout: Time in milliseconds to poll the URL for new status.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Constant name to insert into \$extra.
\end{itemize}

\subsection{HTML\_liveSpan}
\textbf{Description:} Creates a span that updates itself via AJAX by polling from a given URL.\\
\textbf{Parameter:}
\begin{itemize}
\item htmlNames: Name of the span.
\item url: The HTTP URL to poll.
\item staticValue: Value that should be shown, when AJAX is not available (e.g. when JavaScript is disabled)
\item timeout: Time in milliseconds to poll the URL for new status.
\end{itemize}

\subsection{HTML\_manipulateOutputBuffer}
\textbf{Description:} Manipulates the output buffer with already generated HTML code and replaces all occurrences the search term with the replace term.\\
\textbf{Parameter:}
\begin{itemize}
\item search: The search term.
\item replace: The replace text.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the search term was found.
\end{itemize}

\subsection{HTML\_showTitle}
\textbf{Description:} Shows a title.\\
\textbf{Parameter:}
\begin{itemize}
\item title: Text of the title.
\end{itemize}

\subsection{HTML\_showSmallTitle}
\textbf{Description:} Shows a title of the second tier.\\
\textbf{Parameter:}
\begin{itemize}
\item title: Text of the small title.
\end{itemize}

\subsection{HTML\_hiddenVar}
\textbf{Description:} Create a hidden HTML variable to store values in an HTML form.\\
\textbf{Parameter:}
\begin{itemize}
\item var: Name of the hidden variable.
\item val: Its value.
\end{itemize}

\subsection{HTML\_liveLogArea}
\textbf{Description:} Creates a log area that updates itself via AJAX by polling from a given URL.\\
\textbf{Parameter:}
\begin{itemize}
\item htmlNames: Name of the log area.
\item width: The width in characters of the log area.
\item height: The height in characters of the log area.
\item url: The HTTP URL to poll.
\item timeout: Time in milliseconds to poll the URL for new status.
\item maxLines: Maximum amount of lines to show in the log area (older lines are removed, when there are too many).
\end{itemize}

\subsection{HTML\_checkboxChangerButtons}
\textbf{Description:} Defines buttons for changing all check boxes.\\
\textbf{Parameter:}
\begin{itemize}
\item htmlNames: Name of the HTML elements.
\end{itemize}

\subsection{HTML\_jsCheckboxChanger}
\textbf{Description:} Generates JavaScript code for changing all check boxes.\\
\textbf{Parameter:}
\begin{itemize}
\item jsBlockName: Name of the JS block constant.
\end{itemize}

\subsection{HTML\_logArea}
\textbf{Description:} Shows a text area for log information (readonly).\\
\textbf{Parameter:}
\begin{itemize}
\item htmlName: Name of the HTML element.
\item cols: Number of columns.
\item rows: Number of rows to show.
\item text: The log information to show.
\end{itemize}

\subsection{HTML\_getQuestionnaireURL}
\textbf{Description:} Returns the complete URL to the m23 questionnaire in the language of the webinterface.\\
\textbf{Returns:}
\begin{itemize}
\item Complete URL to the m23 questionnaire in the language of the webinterface.
\end{itemize}

\subsection{HTML\_questionnaire}
\textbf{Description:} Shows the questionnairem window.\\
\textbf{Parameter:}
\begin{itemize}
\item disable: Set to true to disable showing of the window again.
\end{itemize}

\subsection{HTML\_esel}
\textbf{Description:} Shows an dog-ear that can be opened to show "goos-habermann.de/m23ad".\\

\subsection{HTML\_JSMenuCloseAllEntries}
\textbf{Description:} Closes all menu entries for a menu. This should be called at the end of a page to get it executed after loading.\\

\subsection{HTML\_JSMenuOpener}
\textbf{Description:} Opens a menu entry when moving the mouse over the title and closes all other entries of the same menu.\\
\textbf{Parameter:}
\begin{itemize}
\item menuName: Name of the complete menu. This name must be the same on all entries belonging to the same menu.
\item entryName: Name of the entry. This name must be unique.
\item title: Title for the menu entry.
\item html: HTML code of the menu entry. Here can stand all that is expressable with HTML. This part is shown and hidden.
\item titleCSS: CSS class for marking the title.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The HTML code for displaying the menu entry.
\end{itemize}

\subsection{HTML\_jQueryMenu}
\textbf{Description:} Creates an entry for the jQuery accordion menu\\
\textbf{Parameter:}
\begin{itemize}
\item title: Title for the menu entry.
\item html: HTML code of the menu entry. Here can stand all that is expressable with HTML. This part is shown and hidden.
\item titleCSS: CSS class for marking the title.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The jQuery code for the menu entry.
\end{itemize}

\subsection{HTML\_jQueryMenuHeader}
\textbf{Description:} Generate code for beginning a the jQuery accordion menu.\\
\textbf{Parameter:}
\begin{itemize}
\item menuName: Name of the menu.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The jQuery code for beginning the menu.
\end{itemize}

\subsection{HTML\_jQueryReStoreYWindowPosition}
\textbf{Description:} Generates jQuery code for storing the Y scroll position of the window and to restore the position after a submit.\\
\textbf{Parameter:}
\begin{itemize}
\item variablePrefix: Prefix for the hidden variable with the Y position.
\item hiddenPosCode: Variable where the hidden variable HTML code is written to.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The jQuery code for storing the Y scroll position of the window and to restore the position after a submit.
\end{itemize}

\subsection{HTML\_jQueryMenuEnd}
\textbf{Description:} Generates code for ending a the jQuery accordion menu.\\
\textbf{Parameter:}
\begin{itemize}
\item menuName: Name of the menu.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The jQuery code for ending the menu.
\end{itemize}

\subsection{HTML\_incStatusBarPercentByName}
\textbf{Description:} Increments the status bar percent by a given amount.\\
\textbf{Parameter:}
\begin{itemize}
\item statusBarName: The name of the status bar.
\item client: The name of the client, the status bar belongs to (or other values for identifying the object the status bar belongs to)
\item percent: Percent value of the current job.
\end{itemize}

\subsection{HTML\_setStatusBarPercentPointByName}
\textbf{Description:} Calculates the value of a percent point according to the amount of waiting packages and stores the result in the DB.\\
\textbf{Parameter:}
\begin{itemize}
\item statusBarName: The name of the status bar.
\item client: The name of the client, the status bar belongs to (or other values for identifying the object the status bar belongs to)
\item recalculate: true, if the remaining percent value of the status bar should be used to calculate a new (better fitting) percentpoint.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item false on errors, otherwise true.
\end{itemize}

\subsection{HTML\_setStatusBarStatusByName}
\textbf{Description:} Sets new percent value and/or new status text by clientname AND status bar name.\\
\textbf{Parameter:}
\begin{itemize}
\item statusBarName: The name of the status bar.
\item client: The name of the client, the status bar belongs to (or other values for identifying the object the status bar belongs to)
\item percent: Percent value to write into the DB (may be false, if it should not be changed).
\item statustext: A text message that should be shown under the status bar and written to the DB (may be false, if it should not be changed).
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : false on parameter error.
\end{itemize}

\subsection{HTML\_setStatusBarStatusByID}
\textbf{Description:} Sets new percent value and/or new status text by status bar ID.\\
\textbf{Parameter:}
\begin{itemize}
\item id: ID of the status bar
\item percent: Percent value to write into the DB (may be false, if it should not be changed).
\item statustext: A text message that should be shown under the status bar and written to the DB (may be false, if it should not be changed).
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : false on parameter error.
\end{itemize}

\subsection{HTML\_setStatusBarStatus}
\textbf{Description:} Sets new percent value and/or new status text by status bar ID or clientname AND status bar name.\\
\textbf{Parameter:}
\begin{itemize}
\item id: ID of the status bar (Optional parameter to set values of status bar with given ID).
\item percent: Percent value to write into the DB (may be false, if it should not be changed).
\item statustext: A text message that should be shown under the status bar and written to the DB (may be false, if it should not be changed).
\item statusBarName: The name of the status bar.
\item client: The name of the client, the status bar belongs to (or other values for identifying the object the status bar belongs to)
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : false on parameter error.
\end{itemize}

\subsection{HTML\_getStatusBarID}
\textbf{Description:} Returns the status bar ID of the searched status bar.\\
\textbf{Parameter:}
\begin{itemize}
\item name: The name of the status bar.
\item client: The name of the client, the status bar belongs to (or other values for identifying the object the status bar belongs to)
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : The status bar ID of the searched status bar or false if none could be found.
\end{itemize}

\subsection{HTML\_newStatusBar}
\textbf{Description:} Shows the iframe for a status bar. This actually displays the status bar.\\
\textbf{Parameter:}
\begin{itemize}
\item name: The name of the status bar.
\item client: The name of the client, the status bar belongs to (or other values for identifying the object the status bar belongs to)
\item type: The method of calculating/getting the percentage to display in the status bar.
\item cmd: BASH command, if type is STATUSBAR\_TYPE\_bash.
\item refreshtime: Time (in seconds) between refreshes of the status bar.
\item statustext: A text message that should be shown under the status bar.
\item percent: Percent value to write into the DB.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : The status bar ID of the just created status bar or false, if it could not be created.
\end{itemize}

\subsection{HTML\_showStatusBar}
\textbf{Description:} Shows the iframe for a status bar. This actually displays the status bar.\\
\textbf{Parameter:}
\begin{itemize}
\item id: ID of the status bar.
\item width: The width of the status bar iframe.
\item height: The height of the status bar iframe.
\end{itemize}

\subsection{HTML\_showStatusBarHTML}
\textbf{Description:} Shows the status bar, that is drawn in the iframe (this function is only called by statusBar.php).\\
\textbf{Parameter:}
\begin{itemize}
\item id: ID of the status bar.
\end{itemize}

\subsection{HTML\_multiCheckBox}
\textbf{Description:} Defines a list of checkboxes, that represent a value each. The values of checked checkboxes are stored in an array and returned.\\
\textbf{Parameter:}
\begin{itemize}
\item htmlName: Name of the HTML element.
\item valuesLabels: Array with the values and labels for the checkboxes.
\item defaultChecked: Array with values that are checked by default.
\item forceReload: Set to true if the check box should be set to the state of \$defaultCheck in any case.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : Array with the values of all checked checkboxes.
\end{itemize}

\subsection{HTML\_multiCheckBoxShow}
\textbf{Description:} Shows a list of checkboxes, that represent a value each. The values of checked checkboxes are stored in an array and returned.\\
\textbf{Parameter:}
\begin{itemize}
\item valuesLabels: Array with the values and labels for the checkboxes.
\item defaultChecked: Array with values that are checked by default.
\item forceReload: Set to true if the check box should be set to the state of \$defaultCheck in any case.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : Array with the values of all checked checkboxes.
\end{itemize}

\subsection{HTML\_setPage}
\textbf{Description:} Sets the m23 page as hidden value.\\
\textbf{Parameter:}
\begin{itemize}
\item page: Name of the page.
\end{itemize}

\subsection{HTML\_storableInput}
\textbf{Description:} HTML text or password edit line with loading and storing the values to and from the session.\\
\textbf{Parameter:}
\begin{itemize}
\item htmlName: Name of the HTML element.
\item prefKey: Variable name of the preference the dialog element stands for.
\item initValue: The initial value if the element is shown first.
\item storePointer: Additional pointer to the variable where to store the entered value.
\item size: Size (in characters) of the input line.
\item maxlength: The maximum length of the entered text.
\item type: Type of the edit line (INPUT\_TYPE\_text or INPUT\_TYPE\_password)
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Returns the entered value, the default value or false.
\end{itemize}

\subsection{HTML\_storableSelection}
\textbf{Description:} Shows a list of radio buttons or a selection with loading and storing the checking state to and from the session.\\
\textbf{Parameter:}
\begin{itemize}
\item htmlName: Name of the HTML element.
\item prefKey: Variable name of the preference the dialog element stands for.
\item array: An array that hold the returned values (array keys) the naming for the elements (array values).
\item type: SELTYPE\_selection for a selection or SELTYPE\_radio for radio buttons.
\item vertical: Set to true if the radio buttons should be aligned vertically or to false for horizontal aligning. This parameter is ignored by selections.
\item defaultSelection: The value of the item to select by default.
\item storePointer: Additional pointer to the variable where to store the entered value.
\item js: Here can JavaScript or other parameters be added.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true if the check box is checked.
\end{itemize}

\subsection{HTML\_storableCheckBox}
\textbf{Description:} Shows a check box with label with loading and storing the checking state to and from the session.\\
\textbf{Parameter:}
\begin{itemize}
\item htmlName: Name of the HTML element.
\item label: Label of the element.
\item prefKey: Variable name of the preference the dialog element stands for.
\item defaultCheck: Set to true if the check box should be checked if no HTML value is given.
\item storePointer: Additional pointer to the variable where to store the entered value.
\item checkedValue: The value that should be stored into \$storePointer if the check box is checked.
\item unCheckedValue: The value that should be stored into \$storePointer if the check box is NOT checked.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true if the check box is checked.
\end{itemize}

\subsection{HTML\_getElementValue}
\textbf{Description:} Gets the value for a HTML element by the session data or POST value.\\
\textbf{Parameter:}
\begin{itemize}
\item htmlName: Name of the HTML element.
\item prefKey: Variable name of the preference the dialog element stands for.
\item initValue: The initial value if the element is shown first.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Returns the default value, the session value or false.
\end{itemize}

\subsection{HTML\_listSelection}
\textbf{Description:} shows a selection with options stored in an array\\
\textbf{Parameter:}
\begin{itemize}
\item selName: name of the selection
\item list: array with the entries. The array can be a simple numeric array or an associative array with discrete entries for the shown name and the value. e.g. : \$l[name0]="public"; \$l[val0]="internal"; \$l[name1]="public1"; \$l[val1]="internal1"; public and public1 will be shown the user in the webbrowser, while internal and internal1 are the values that are transfered to the server.
\item first: entry that should be shown first (this is the internal value and NOT the name shown to the user). the first value from the list will be written to \$first. set first to "false" to disable writing the first entry.
\item firstName: if you want to use the associative array variant and a first value, you need to set the name that should be shown to the user. This name is stored in firstName
\end{itemize}

\subsection{HTML\_showTableHeader}
\textbf{Description:} prints the header of a shadowed table\\
\textbf{Parameter:}
\begin{itemize}
\item centerTable: set to true if the table should be centered vertically
\item tableStyle: CSS class of the inner table.
\item width: Width of the table.
\end{itemize}

\subsection{HTML\_showTableEnd}
\textbf{Description:} prints the end of a shadowed table\\
\textbf{Parameter:}
\begin{itemize}
\item centerTable: set to true if the table should be centered vertically
\end{itemize}

\subsection{HTML\_showFormHeader}
\textbf{Description:} Shows the header of a formular\\
\textbf{Parameter:}
\begin{itemize}
\item addAction: set it, if additional parameters to index.php should be used
\item method: default is POST, but you can set it to GET
\end{itemize}

\subsection{HTML\_showFormEnd}
\textbf{Description:} Shows the end of a formular\\

\subsection{HTML\_submit}
\textbf{Description:} Defines a submit button.\\
\textbf{Parameter:}
\begin{itemize}
\item htmlName: Name of the HTML element.
\item label: Label of the element.
\item extra: Extra options for the HTML input tag.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item True if it was clicked otherwise false.
\end{itemize}

\subsection{HTML\_submitImg}
\textbf{Description:} Defines a graphical submit button.\\
\textbf{Parameter:}
\begin{itemize}
\item htmlName: Name of the HTML element.
\item img: Name of the image to show.
\item alt: Alternative text to show when no images can be shown.
\item extra: Extra options for the HTML input tag.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item True if it was clicked otherwise false.
\end{itemize}

\subsection{HTML\_input}
\textbf{Description:} HTML text or password edit line.\\
\textbf{Parameter:}
\begin{itemize}
\item htmlName: Name of the HTML element.
\item htmlValue: The default text to show in the edit line if nothing was submitted.
\item size: Size (in characters) of the input line.
\item maxlength: The maximum length of the entered text.
\item type: Type of the edit line (INPUT\_TYPE\_text or INPUT\_TYPE\_password)
\item Returns the entered value, the default value or false.
\end{itemize}

\subsection{array\_makeFirst}
\textbf{Description:} special sort function that makes a special element the first element and leaves the other elements in its previous order.\\
\textbf{Parameter:}
\begin{itemize}
\item arr: Array to sort
\item first: Value of the element that should be put on top
\end{itemize}

\subsection{HTML\_getValidSelected}
\textbf{Description:} Checks for a valid selected value from a list of possible values. In case the value could not be found, a default value is taken.\\
\textbf{Parameter:}
\begin{itemize}
\item selected: Array or single value to check, if it is on the list aof array keys.
\item arrayKeys: An array that holds the possible returned values (array keys).
\item defaultSelection: The value of the item to select by default.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item A valid value from a list of possible values.
\end{itemize}

\subsection{HTML\_selection}
\textbf{Description:} Shows a list of radio buttons or a selection.\\
\textbf{Parameter:}
\begin{itemize}
\item htmlName: Name of the HTML element.
\item array: An array that hold the returned values (array keys) the naming for the elements (array values).
\item type: SELTYPE\_selection for a selection or SELTYPE\_radio for radio buttons.
\item vertical: Set to true if the radio buttons should be aligned vertically or to false for horizontal aligning. This parameter is ignored by selections.
\item defaultSelection: The value of the item to select by default.
\item prefKey: Variable name of the preference the dialog element stands for.
\item js: Here can JavaScript or other parameters be added.
\item multipleSize: If set to a number (and not to false) a multi selection is generated, where the user can select multiple entries. The number sets the amount of entries to show the user.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The value of the selected element or false if nothing was selected.
\end{itemize}

\subsection{HTML\_checkBox}
\textbf{Description:} Shows a check box with label.\\
\textbf{Parameter:}
\begin{itemize}
\item htmlName: Name of the HTML element.
\item label: Label of the element.
\item defaultCheck: Set to true if the check box should be checked if no HTML value is given.
\item prefKey: Variable name of the preference the dialog element stands for.
\item htmlValue: Value of the checkbox if clicked.
\item forceReload: Set to true if the check box should be set to the state of \$defaultCheck in any case.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item True if the check box is checked.
\end{itemize}

\subsection{HTML\_checkBoxCheckAll}
\textbf{Description:} Generates an array with all checked checkboxes. It assumes that value of a checked checkbox is 1.\\
\textbf{Parameter:}
\begin{itemize}
\item filter: Filter to get only the POST elements which begin with the filter string.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Array with all checked checkboxes.
\end{itemize}

\subsection{HTML\_submitDefine}
\textbf{Description:} Defines but does not show a button.\\
\textbf{Parameter:}
\begin{itemize}
\item htmlName: Name of the HTML element.
\item label: Label of the element.
\item extra: Extra options for the HTML input tag.
\end{itemize}

\subsection{HTML\_submitCheck}
\textbf{Description:} Checks if a previously defined button was clicked.\\
\textbf{Parameter:}
\begin{itemize}
\item htmlName: Name of the HTML element.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item True if the button was clicked.
\end{itemize}

\subsection{HTML\_showTableRow}
\textbf{Description:} Shows a table row with a variable amount of entries. The parameters are shown side by side as rows in a table. If more than one HTML\_showTableRow commands are executed in one table it is needed to always use the same amount of paramaters in each call.\\
\textbf{Parameter:}
\begin{itemize}
\item Arbitrary amount of cells to show in a table.
\end{itemize}

\subsection{HTML\_showTableHeading}
\textbf{Description:} Shows a table heading row with a variable amount of entries. The parameters are shown side by side as rows in a table. If more than one HTML\_showTableRow commands are executed in one table it is needed to always use the same amount of paramaters in each call.\\
\textbf{Parameter:}
\begin{itemize}
\item Arbitrary amount of cells to show in a table.
\end{itemize}

\subsection{HTML\_textArea}
\textbf{Description:} Shows a text area to insert text.\\
\textbf{Parameter:}
\begin{itemize}
\item htmlName: Name of the HTML element.
\item cols: Number of columns.
\item rows: Number of rows to show.
\item default: Text to show by default.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : The entered text.
\end{itemize}

\subsection{HTML\_showPagePrintButton}
\textbf{Description:} Shows a print button that allows easy printing of the current m23 administration interface.\\

\newpage\section{./inc/hwinfo.php}
 Author: Daniel Kasten (DKasten@pc-kiel.de) ,Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: functions to view the hardware information of the client.\\

\subsection{HWINFO\_getParam}
\textbf{Description:} get hardware infos\\
\textbf{Parameter:}
\begin{itemize}
\item paramName: parameter to read from the hardware info (e.g. cpu, mem, ...)
\item clientName: name of the client
\end{itemize}

\subsection{HWINFO\_getMemory}
\textbf{Description:} returns the size of memory\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client
\end{itemize}

\subsection{HWINFO\_getHDSize}
\textbf{Description:} Returnes the sizes of all harddisks in a string, sperated by html breaks\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client
\end{itemize}

\subsection{HWINFO\_printPartitions}
\textbf{Description:} prints the partition information\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client
\end{itemize}

\subsection{DMI\_getAllTextBox}
\textbf{Description:} Get all DMI info in a text box.\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item All DMI info in a text box.
\end{itemize}

\subsection{DMI\_getParam}
\textbf{Description:} get dmi info for a special parameter\\
\textbf{Parameter:}
\begin{itemize}
\item paramName: name of dmi setting
\item clientName: name of the client
\end{itemize}

\subsection{DMI\_getBoard}
\textbf{Description:} get the dmi board informations\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client
\end{itemize}

\subsection{DMI\_getMemory}
\textbf{Description:} get the dmi memory informations\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client
\end{itemize}

\subsection{DMI\_getCPU}
\textbf{Description:} get the dmi cpu informations\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client
\end{itemize}

\subsection{DMI\_getSlot}
\textbf{Description:} get the dmi information about slots\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client
\end{itemize}

\newpage\section{./inc/i18n.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: functions for multi language handling in m23.\\

\subsection{I18N\_number\_format}
\textbf{Description:} Converts numbers to the language specific number formating.\\
\textbf{Parameter:}
\begin{itemize}
\item in: Input number.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Language specific number formated number.
\end{itemize}

\subsection{I18N\_convertToHumanReadableName}
\textbf{Description:} Converts a short language into a human readable name.\\
\textbf{Parameter:}
\begin{itemize}
\item lang: Two letter TLD (or longer code for countries that have more than a language (e.g. be-nl, be-fr))
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Language in human readable notation.
\end{itemize}

\subsection{I18N\_m23instLanguage}
\textbf{Description:} Checks if a m23inst.php exists for the given language and returns "en" if not.\\
\textbf{Parameter:}
\begin{itemize}
\item shortLanguage: Two letter TLD (or longer code for countries that have more than a language (e.g. be-nl, be-fr))
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Language code with available m23inst.php file.
\end{itemize}

\subsection{I18N\_addLanguage}
\textbf{Description:} Adds a new language to the i18n table.\\
\textbf{Parameter:}
\begin{itemize}
\item webinterface: Set to true, if it is a webinterface language. Set to false, for marking a client language.
\item shortLanguage: Two letter TLD (or longer code for countries that have more than a language (e.g. be-nl, be-fr))
\item longLanguage: Long human readable country/language name.
\item country: Two letter TLD.
\item lang: Locale setting (e.g. for locale and KDM)
\item keymap: Available keymaps for the console etc.
\item xkeyboard: X11 keybord setting.
\item kdekeyboard: Language setting for the KDE keyboard.
\item locale: List of locales (seperated by newlines) for the locale tool.
\item kdekeyboards: List of additional KDE keyboards (seperated by commata).
\item timezone: The timezone matching the language.
\item packagelang: Language suffix that is added to the packages (e.g. language-pack-gnome-XX)
\end{itemize}

\subsection{I18N\_listClientLanguages}
\textbf{Description:} Lists all languages, the m23 clients can be installed with.\\
\textbf{Parameter:}
\begin{itemize}
\item default: the language that should be shown first
\item directOutputtedSelection: Set to true, if the selection should be shown instead of returned.
\end{itemize}

\subsection{I18N\_countCachedLanguages}
\textbf{Description:} Counts the cached languages for a type.\\
\textbf{Parameter:}
\begin{itemize}
\item webinterface: Set to true, if it is a webinterface language. Set to false, for marking a client language.
\end{itemize}

\subsection{I18N\_cacheWebinterfaceLanguages}
\textbf{Description:} Caches the language information from the language.info files to the DB.\\

\subsection{I18N\_getAllCachedLanguages}
\textbf{Description:} Returns an associative array with the shortnames of the language as keys and the longnames as value.\\
\textbf{Parameter:}
\begin{itemize}
\item webinterface: Set to true, if it is a webinterface language. Set to false, for marking a client language.
\end{itemize}

\subsection{I18N\_listWebinterfaceLanguages}
\textbf{Description:} Lists all languages, the m23 webinterface is available in, as option lines\\
\textbf{Parameter:}
\begin{itemize}
\item default: the language that should be shown first
\item directOutputtedSelection: Set to true, if the selection should be shown instead of returned.
\end{itemize}

\subsection{I18N\_addClientLanguageToCache}
\textbf{Description:} Adds a new client language to the i18n DB cache.\\
\textbf{Parameter:}
\begin{itemize}
\item shortLanguage: Two letter TLD (or longer code for countries that have more than a language (e.g. be-nl, be-fr))
\item longLanguage: Long human readable country/language name.
\item in: Associative array with the information for the language.
\end{itemize}

\subsection{I18N\_cacheClientLanguages}
\textbf{Description:} Caches the client languages in the DB.\\

\subsection{I18N\_getLangVars}
\textbf{Description:} Returns an associative array with language settings for the client.\\
\textbf{Parameter:}
\begin{itemize}
\item shortLanguage: Two letter TLD (or longer code for countries that have more than a language (e.g. be-nl, be-fr))
\end{itemize}

\newpage\section{./inc/ldap.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: Functions for using a LDAP server\\

\subsection{LDAP\_getTypes}
\textbf{Description:} Returns an array with the known LDAP types.\\
\textbf{Returns:}
\begin{itemize}
\item Aarray with the known LDAP types.
\end{itemize}

\subsection{LDAP\_connectServer}
\textbf{Description:} Connects with read/write access to the LDAP server on the m23 server.\\
\textbf{Parameter:}
\begin{itemize}
\item name: name of the LDAP server stored in the configuration file
\end{itemize}

\subsection{LDAP\_makeConnection}
\textbf{Description:} Connects to a LDAP server.\\
\textbf{Parameter:}
\begin{itemize}
\item host: hostname or IP of the LDAP server
\item baseDN: baseDN for the LDAP server
\item pwd: password for the administrator or empty for anonymous access
\end{itemize}

\subsection{LDAP\_listServers}
\textbf{Description:} Returns an associative array with the LDAP server names as keys and values.\\
\textbf{Returns:}
\begin{itemize}
\item Associative array with the LDAP server names as keys and values.
\end{itemize}

\subsection{LDAP\_loadServer}
\textbf{Description:} Loads the variables from a LDAP server.\\
\textbf{Parameter:}
\begin{itemize}
\item name: server name
\end{itemize}

\subsection{LDAP\_addPosix}
\textbf{Description:} Adds a posix account to the LDAP server and encrypts the password with MD5.\\
\textbf{Parameter:}
\begin{itemize}
\item ldapServer: name of the LDAP server stored in the configuration file
\item account: the login name
\item forename: the forename of the user
\item familyname: the familyname of the user
\item pwd: the unencrypted password
\item uid: Linux user ID
\item gid: Linux group ID
\end{itemize}

\subsection{LDAP\_fqdn2dn}
\textbf{Description:} Returns the DN converted from a FQDN\\
\textbf{Parameter:}
\begin{itemize}
\item domain: a full qualified domain name (e.g. test.m23.de)
\end{itemize}

\subsection{LDAP\_installServer}
\textbf{Description:} Generates a script that installs and configures an openLDAP server\\
\textbf{Parameter:}
\begin{itemize}
\item host: the IP or hostname of the LDAP server
\item org: name of the organisation
\item domain: the DN (e.g. foo.m23.de)
\item pwd: the unencrypted password for the admin
\end{itemize}

\subsection{LDAP\_addServerTophpLdapAdmin}
\textbf{Description:} Adds an LDAP server to the phpLDAPadmin configuration file.\\
\textbf{Parameter:}
\begin{itemize}
\item name: how the LDAP server should be called
\item host: the IP or hostname of the LDAP server
\item base: the base DN (e.g. dc=m23, dc=de)
\item pwd: the unencrypted password for the admin
\end{itemize}

\subsection{LDAP\_delServerFromphpLdapAdmin}
\textbf{Description:} Deletes a LDAP server from the phpLDAPadmin configuration file.\\
\textbf{Parameter:}
\begin{itemize}
\item name: the name of the LDAP server that should be deleted
\end{itemize}

\subsection{LDAP\_checkphpLdapAdminConfiguration}
\textbf{Description:} Checks if the phpLDAPadmin configuration file is existing and creates it if it's missing\\

\subsection{LDAP\_showServerManagementDialog}
\textbf{Description:} Shows a dialog for adding, removing and changing LDAP servers.\\

\subsection{LDAP\_I18NLdapType}
\textbf{Description:} Returns the human readable description of the LDAP usage type \\
\textbf{Parameter:}
\begin{itemize}
\item status: status string
\end{itemize}

\subsection{LDAP\_getNextID}
\textbf{Description:} Returns the next higher than the highest ID\\
\textbf{Parameter:}
\begin{itemize}
\item type: "user" for user IDs
\end{itemize}

\subsection{LDAP\_getNextUserID}
\textbf{Description:} Returns the next higher than the highest user ID\\

\subsection{LDAP\_addNewID}
\textbf{Description:} Adds a new ID to the table of used IDs or returns "false" if the ID exists\\
\textbf{Parameter:}
\begin{itemize}
\item type: "user" for user IDs
\item id: number of the new ID
\end{itemize}

\subsection{LDAP\_deleteID}
\textbf{Description:} Delets an ID from the table of used IDs\\
\textbf{Parameter:}
\begin{itemize}
\item type: "user" for user IDs
\item id: number of the new ID
\end{itemize}

\subsection{LDAP\_addNewUserID}
\textbf{Description:} Adds a new user ID to the table\\
\textbf{Parameter:}
\begin{itemize}
\item id: number of the new ID
\end{itemize}

\subsection{LDAP\_addNewGroupID}
\textbf{Description:} Adds a new user ID to the table\\
\textbf{Parameter:}
\begin{itemize}
\item id: number of the new ID
\end{itemize}

\subsection{LDAP\_getNextGroupID}
\textbf{Description:} Returns the next higher than the highest group ID\\

\subsection{LDAP\_getFreeIDs}
\textbf{Description:} Returns an array with free IDs of the selected type.\\
\textbf{Parameter:}
\begin{itemize}
\item type: "user" for user IDs
\item start: start ID to check if it's free
\item amount: the amount of IDs to return
\end{itemize}

\subsection{LDAP\_getFreeUserIDs}
\textbf{Description:} Returns an array with free user IDs of the selected type.\\
\textbf{Parameter:}
\begin{itemize}
\item start: start ID to check if it's free
\item amount: the amount of IDs to return
\end{itemize}

\subsection{LDAP\_getFreeGroupIDs}
\textbf{Description:} Returns an array with free group IDs of the selected type.\\
\textbf{Parameter:}
\begin{itemize}
\item start: start ID to check if it's free
\item amount: the amount of IDs to return
\end{itemize}

\subsection{LDAP\_matchLDAPserver}
\textbf{Description:} Searches for the name of a LDAP server and returns the name of the found server or false\\
\textbf{Parameter:}
\begin{itemize}
\item host: the IP or hostname of the LDAP server
\item base: the base DN (e.g. dc=m23, dc=de)
\end{itemize}

\newpage\section{./inc/m23shared/m23shared.php}
 Author: Hauke Goos-Habermann (HHabermann@goos-habermann.de)\\
 Description: database functions, open, close the database, get ip of the calling client\\

\subsection{m23SHARED\_deleteBills}
\textbf{Description:} Deletes all bills.\\

\subsection{m23SHARED\_deleteUserdataFromDB}
\textbf{Description:} Deletes user data not needed for archiving purpose.\\

\subsection{m23SHARED\_isMarkedForDeletion}
\textbf{Description:} Checks if the current user is marked for deletion.\\
\textbf{Returns:}
\begin{itemize}
\item True, if the user should be deleted on the next call or false if not.
\end{itemize}

\subsection{m23SHARED\_markForDeletion}
\textbf{Description:} Marks the current user's data for deletion and disable his login.\\

\subsection{m23SHARED\_DBname}
\textbf{Description:} Generates a database name for m23 shared by input and salt.\\
\textbf{Parameter:}
\begin{itemize}
\item adminName: Name of the m23shared admin
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Database name.
\end{itemize}

\subsection{m23SHARED\_getDBnameByInterface}
\textbf{Description:} Calculates the database name for m23 shared by setting in the user interface\\
\textbf{Returns:}
\begin{itemize}
\item Database name or false if there is no user logged in.
\end{itemize}

\subsection{m23SHARED\_getDBnameByClient}
\textbf{Description:} Gets the database name for m23 shared as part of the client ID.\\
\textbf{Returns:}
\begin{itemize}
\item Database name or false if there is no DB name in the ID.
\end{itemize}

\subsection{m23SHARED\_init}
\textbf{Description:} Checks if a m23shared environment is present, sets the variables in the session and chooses the according DB.\\
\textbf{Returns:}
\begin{itemize}
\item True if an m23 m23shared environment is present, false on error or no m23shared.
\end{itemize}

\subsection{m23SHARED\_new}
\textbf{Description:} Adds a new m23shared user and creates a new DB.\\
\textbf{Parameter:}
\begin{itemize}
\item user: The name of the new user.
\item password: The according password.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item True if the creation was sucessfully, otherwise false.
\end{itemize}

\subsection{m23SHARED\_setLicense}
\textbf{Description:} Sets the maximum allowed amount of clients and the evaluation time in days.\\
\textbf{Parameter:}
\begin{itemize}
\item payType: Payment type (M23SHARED\_PAYTYPE\_EVAL, M23SHARED\_PAYTYPE\_PROFESSIONAL)
\item clientAmount: Amount of clients that can be manages with the license.
\item evaluationDays: Days for evaluation time.
\end{itemize}

\subsection{m23SHARED\_evaluationDaysLeft}
\textbf{Description:} Calculates how many days are left from evaluation period.\\
\textbf{Returns:}
\begin{itemize}
\item : Amount of days left (can be negative too if the evaluation time is over)
\end{itemize}

\subsection{m23SHARED\_evaluationEndDate}
\textbf{Description:} Generates a string with the end date and time in current selected language of the evaluation period.\\
\textbf{Returns:}
\begin{itemize}
\item : String with the end date and time in current selected language of the evaluation period.
\end{itemize}

\subsection{m23SHARED\_paidClients}
\textbf{Description:} Calculates and returns the amount of clients the customer has paid for.\\
\textbf{Returns:}
\begin{itemize}
\item : Amount of clients the customer has paid for.
\end{itemize}

\subsection{m23SHARED\_getCompleteClientName}
\textbf{Description:} Returns the complete name of a m23 shared client (\$\_SESSION variables need to be set).\\
\textbf{Parameter:}
\begin{itemize}
\item : clientName: Name of the client (if the value from the session should not/cannot be taken)
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : Client name of a m23 shared client (e.g. m23SrGH1ikdPZ8.test)
\end{itemize}

\subsection{m23SHARED\_getServerIP}
\textbf{Description:} Returns the FQDN of the m23shared server.\\
\textbf{Returns:}
\begin{itemize}
\item : FQDN of the m23shared server.
\end{itemize}

\subsection{m23SHARED\_getPayTypeArray}
\textbf{Description:} Returns an array with the nummeric pay types as index and the human readable translations as values.\\
\textbf{Parameter:}
\begin{itemize}
\item withoutEval: If set to true the evaluation entry will not be added.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : Array with assignment of nummeric pay types and human readable translations.
\end{itemize}

\subsection{m23SHARED\_getSalutationsArray}
\textbf{Description:} Returns an array with salutation forms.\\
\textbf{Returns:}
\begin{itemize}
\item : Array with gender character as key and localised salutation.
\end{itemize}

\subsection{m23SHARED\_getSalutationHeadline}
\textbf{Description:} Returns a saluation headline that can be used as beginning of an email.\\
\textbf{Returns:}
\begin{itemize}
\item : Salutation headline in current language.
\end{itemize}

\subsection{m23SHARED\_getPayTypeHumanReadable}
\textbf{Description:} Returns the license and payment type of the m23@web account as human readable string.\\
\textbf{Returns:}
\begin{itemize}
\item : Human readable string with license and payment type of the m23@web account.
\end{itemize}

\subsection{m23SHARED\_getMonthlyFee}
\textbf{Description:} Calculates the monthly fee with the given amount af paid clients.\\
\textbf{Returns:}
\begin{itemize}
\item : Monthly price.
\end{itemize}

\subsection{m23SHARED\_getCustomerEmail}
\textbf{Description:} Returns the eMail address of customer.\\
\textbf{Returns:}
\begin{itemize}
\item : eMail address of customer.
\end{itemize}

\subsection{m23SHARED\_setCustomerEmail}
\textbf{Description:} Sets the eMail address of customer.\\

\subsection{m23SHARED\_generateActivationKey}
\textbf{Description:} Calculates a random activation key and stores it into the DB.\\
\textbf{Returns:}
\begin{itemize}
\item : Random activation key.
\end{itemize}

\subsection{m23SHARED\_getActivationKey}
\textbf{Description:} Returns the activation key for this customer.\\
\textbf{Returns:}
\begin{itemize}
\item : Activation key.
\end{itemize}

\subsection{m23SHARED\_generateCustomerNumber}
\textbf{Description:} Calculates the customer number by current time and random value and stores it into the DB.\\
\textbf{Returns:}
\begin{itemize}
\item : Customer number.
\end{itemize}

\subsection{m23SHARED\_getCustomerNr}
\textbf{Description:} Returns the customer number for this customer.\\
\textbf{Returns:}
\begin{itemize}
\item : Customer number.
\end{itemize}

\subsection{m23SHARED\_activate}
\textbf{Description:} Activates a customer account identified by user and activation code, makes some checks if the data is correct and sends a welcome email.\\
\textbf{Parameter:}
\begin{itemize}
\item user: The user name of the customer.
\item code: The activation code for the account.
\end{itemize}

\subsection{m23SHARED\_setCustomerLanguage}
\textbf{Description:} Sets the language for this customer.\\
\textbf{Parameter:}
\begin{itemize}
\item lang: Language for the customer.
\end{itemize}

\subsection{m23SHARED\_getCustomerLanguage}
\textbf{Description:} Returns the language setting for this customer.\\
\textbf{Returns:}
\begin{itemize}
\item : Language for this customer.
\end{itemize}

\subsection{m23SHARED\_sendActivationMail}
\textbf{Description:} Prepares and sends the activation mail.\\
\textbf{Parameter:}
\begin{itemize}
\item eMail: eMail address of the new customer.
\item username: Username of the new customer.
\item lang: Language that should be used in the eMail.
\end{itemize}

\subsection{m23SHARED\_sendActivationMail}
\textbf{Description:} Prepares and sends the welcome mail.\\
\textbf{Parameter:}
\begin{itemize}
\item eMail: eMail address of the new customer.
\item username: Username of the new customer.
\item lang: Language that should be used in the eMail.
\end{itemize}

\subsection{m23SHARED\_setRealName}
\textbf{Description:} Sets the real name of the customer.\\
\textbf{Parameter:}
\begin{itemize}
\item name: Real name of the customer.
\end{itemize}

\subsection{m23SHARED\_getRealName}
\textbf{Description:} Returns the real name of the customer.\\
\textbf{Returns:}
\begin{itemize}
\item : Real name of the customer.
\end{itemize}

\subsection{m23SHARED\_changeClientAmount}
\textbf{Description:} Changes the amount of paid clients for the current customer.\\
\textbf{Parameter:}
\begin{itemize}
\item newClientAmount: The amount of clients, the customer wants to pay for.
\end{itemize}

\subsection{m23SHARED\_showBill}
\textbf{Description:} Shows the bill for a selected month.\\
\textbf{Parameter:}
\begin{itemize}
\item month: The month the bill should be generated.
\item year: The year of the bill.
\end{itemize}

\subsection{m23SHARED\_billDateSelection}
\textbf{Description:} Creates an HTML selection with valid billing months.\\
\textbf{Parameter:}
\begin{itemize}
\item htmlName: Name of the HTML selection.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The selected month and year.
\end{itemize}

\subsection{m23SHARED\_priceFormater}
\textbf{Description:} Formats a price with two digit decimal place.\\
\textbf{Parameter:}
\begin{itemize}
\item price: The price to format.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The formatted price.
\end{itemize}

\subsection{m23SHARED\_calculateBill}
\textbf{Description:} Calculates the bill for a choosen month in a selected year.\\
\textbf{Parameter:}
\begin{itemize}
\item month: Month to get the bill for.
\item year: Year to get the bill for.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Associative array with the bill data.
\end{itemize}

\subsection{m23SHARED\_getLicenseType}
\textbf{Description:} Returns the m23shared license of the current m23shared user.\\
\textbf{Returns:}
\begin{itemize}
\item License type as constant.
\end{itemize}

\subsection{m23SHARED\_sendAdminMail}
\textbf{Description:} Sends an GPG encrypted eMail to the admin.\\
\textbf{Parameter:}
\begin{itemize}
\item subject: The subject of the eMail.
\item text: The eMail message.
\end{itemize}

\subsection{m23SHARED\_getCurrentUser}
\textbf{Description:} Returns the current m23shared user.\\
\textbf{Returns:}
\begin{itemize}
\item Current m23shared user.
\end{itemize}

\subsection{m23SHARED\_changePasswordDialog}
\textbf{Description:} Tries to change the password for the current m23shared user and shows an error or sucess message. Both of the entered passwords must be identically.\\
\textbf{Parameter:}
\begin{itemize}
\item pwd1: The password.
\item pwd2: The retyped password.
\end{itemize}

\subsection{m23SHARED\_changePasswordDialog}
\textbf{Description:} Tries to change the eMail for the current m23shared user and shows an error or sucess message.\\
\textbf{Parameter:}
\begin{itemize}
\item email: New eMail address.
\end{itemize}

\subsection{m23SHARED\_getBillDates}
\textbf{Description:} Returns an array filled with all month and years where bills are present.\\
\textbf{Returns:}
\begin{itemize}
\item Associative array with all month and years where bills are present as array name and value.
\end{itemize}

\subsection{m23SHARED\_downloadBillPDFLink}
\textbf{Description:} Generates a HTML link that points to the script that generates the bill for a given monath and year.\\
\textbf{Parameter:}
\begin{itemize}
\item month: Month to get the bill for.
\item year: Year to get the bill for.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : HTML link to the bill PDF.
\end{itemize}

\subsection{m23SHARED\_getCustomerAddress}
\textbf{Description:} Returns HTML formatted address information for the current customer.\\
\textbf{Returns:}
\begin{itemize}
\item Address information for the current customer.
\end{itemize}

\subsection{m23SHARED\_getCustomerBankHTML}
\textbf{Description:} Returns HTML formatted bank account information for the current customer.\\
\textbf{Returns:}
\begin{itemize}
\item Bank account information for the current customer.
\end{itemize}

\subsection{m23SHARED\_pdfBill}
\textbf{Description:} Generates a bill in PDF format for a choosen month in a selected year.\\
\textbf{Parameter:}
\begin{itemize}
\item month: Month to get the bill for.
\item year: Year to get the bill for.
\end{itemize}

\subsection{m23SHARED\_setBankAccount}
\textbf{Description:} Sets bank account information for the current customer.\\
\textbf{Parameter:}
\begin{itemize}
\item bankAccountHolder: Name of the account holder.
\item bank: Name of the bank.
\item accountNumber: The number of the bank account.
\item bankCode: The bank code number.
\end{itemize}

\subsection{m23SHARED\_setAddress}
\textbf{Description:} Sets address information for the current customer.\\
\textbf{Parameter:}
\begin{itemize}
\item resident: The name of the resident or his company.
\item postCode: Postcode.
\item city: City.
\item street: Street.
\item houseNumber: House number.
\end{itemize}

\subsection{m23SHARED\_unusedPaidClientsAvailable}
\textbf{Description:} Checks if there are unused paid clients and shows an error message if not.\\
\textbf{Returns:}
\begin{itemize}
\item : true if there are unused clients, false otherwise.
\end{itemize}

\subsection{m23SHARED\_showLicenseDialog}
\textbf{Description:} Shows a dialog for viewing and changing the license and paid client amount.\\

\subsection{m23SHARED\_getAllm23sharedUsers}
\textbf{Description:} Gets all m23shared users.\\
\textbf{Parameter:}
\begin{itemize}
\item onlyWithBillTable: If set to true, only m23shared users with existing bill table will be returned.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : Array with all m23 shared users.
\end{itemize}

\subsection{m23SHARED\_switchUser}
\textbf{Description:} Changes the current m23shared user.\\

\subsection{m23SHARED\_prepareBillMailSending}
\textbf{Description:} Prepares the bill mail sending queue.\\
\textbf{Parameter:}
\begin{itemize}
\item month: Month to mail the bill for.
\item year: Year to mail the bill for.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Array with all users that have bill mails to send.
\end{itemize}

\subsection{m23SHARED\_markBillMailAsSent}
\textbf{Description:} Marks a bill mail as sent.\\
\textbf{Parameter:}
\begin{itemize}
\item month: Month to mail the bill for.
\item year: Year to mail the bill for.
\item user: DB name of the customer.
\end{itemize}

\subsection{m23SHARED\_sendAllBillMails}
\textbf{Description:} Sends the bills of all users from the previous month as PDF attachement. This should be run at the beginning of a month.\\

\subsection{m23SHARED\_addExtraBill}
\textbf{Description:} Adds an extra entry to the bill.\\
\textbf{Parameter:}
\begin{itemize}
\item amount: Amount of good.
\item description: Description of the good.
\item unitprice: Price per unit.
\end{itemize}

\subsection{m23SHARED\_showDonationDialog}
\textbf{Description:} Shows a dialog where the user can donate to the m23 project.\\

\subsection{m23SHARED\_showBootMediaDownloadDialog}
\textbf{Description:} Shows a dialog with download icons for the different boot media.\\

\subsection{m23SHARED\_allUserDBQuery}
\textbf{Description:} Executes an SQL query on all m23shared databases and returns an associated array with all results.\\
\textbf{Parameter:}
\begin{itemize}
\item sqlIN: The input query string that MUST include m23SHAREDDB as placeholder for the current m23shared DB name.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Associated array with the query result of all m23shared DBs.
\end{itemize}

\subsection{m23SHARED\_getUserByResident}
\textbf{Description:} Gets the user name of m23shared customer by the resident name.\\
\textbf{Parameter:}
\begin{itemize}
\item resident: Resident name of the customer.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item m23shared user name for the searched customer or empty string if none was found.
\end{itemize}

\subsection{m23SHARED\_getUserByCustomerNr}
\textbf{Description:} Gets the user name of m23shared customer by the customer number.\\
\textbf{Parameter:}
\begin{itemize}
\item customerNr: Customer number of the m23shared customer.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item m23shared user name for the searched customer or empty string if none was found.
\end{itemize}

\subsection{m23SHARED\_getUserByInfo}
\textbf{Description:} Gets the user name of m23shared customer by searching all m23shared DBs for var and value in the remotevar table.\\
\textbf{Parameter:}
\begin{itemize}
\item remotevarVar: Variable name to search in the remotevar table.
\item remotevarValue: Value to search in the remotevar table.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item m23shared user name for the searched customer or empty string if none was found.
\end{itemize}

\subsection{m23SHARED\_showAdminDialog}
\textbf{Description:} Shows a dialog for the admin to search users for and change values.\\

\subsection{m23SHARED\_blockAccount}
\textbf{Description:} Blocks or unblocks an account.\\
\textbf{Parameter:}
\begin{itemize}
\item block: Set to true blocks, false unblocks.
\end{itemize}

\subsection{m23SHARED\_isAccountBlocked}
\textbf{Description:} Checks if an account is blocked.\\
\textbf{Returns:}
\begin{itemize}
\item : True if the account is blocked, false if not.
\end{itemize}

\subsection{m23SHARED\_showAddExtraBillDialog}
\textbf{Description:} Shows a dialog for adding extra entries to the bill.\\

\subsection{m23SHARED\_showBillDialog}
\textbf{Description:} Shows a dialog for viewing and choosing the bill.\\

\subsection{m23SHARED\_showPriceListTable}
\textbf{Description:} Shows a table with the price list.\\

\subsection{m23SHARED\_getInformationForBootingYourClientLink}
\textbf{Description:} Generates a link to the help page information for booting the client.\\
\textbf{Parameter:}
\begin{itemize}
\item : client: Name of the client (if the value from the session should not/cannot be taken)
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Link to the help page information for booting the client.
\end{itemize}

\newpage\section{./inc/massTools.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: routines for mass installations\\

\subsection{MASS\_EGKradioBoxes}
\textbf{Description:} Generates HTML code for showing 3 elements, that can be each a "radio button", selection "disabled" or "always selected".\\
\textbf{Parameter:}
\begin{itemize}
\item RB\_name: name of the radio button
\item arr: array with 3 values for [Enter,Generate,Keep]. Setting a value to "e" means that the user can select, "n" selection is disabled, "y" is always select.
\item checkNr: the number of radio button that is enabled by default.
\end{itemize}

\subsection{MASS\_FHradioBoxes}
\textbf{Description:} Generates HTML code for showing 2 radio buttons for selecting file or handy source \\
\textbf{Parameter:}
\begin{itemize}
\item RB\_name: name of the radio button
\item checkNr: the number of radio button that is enabled by default.
\end{itemize}

\subsection{MASS\_showFileHandDialog}
\textbf{Description:} shows a dialog for selecting "by file" or "by hand" for the "enter" properties.\\
\textbf{Parameter:}
\begin{itemize}
\item EGKparams: enter generate keep parameters, that hold information about handling of the properties
\end{itemize}

\subsection{MASS\_propertyKeys}
\textbf{Description:} returns the keys for all properties\\

\subsection{MASS\_showFileFormatDialog}
\textbf{Description:} shows a dialog that lets the user select a DB file and assign the columns to the fields of the file\\
\textbf{Parameter:}
\begin{itemize}
\item EGKparams: enter generate keep parameters, that hold information about handling of the properties
\end{itemize}

\subsection{MASS\_keyToI18N}
\textbf{Description:} converts the property names to I18N names\\
\textbf{Parameter:}
\begin{itemize}
\item key: property name
\end{itemize}

\subsection{MASS\_I18NTokey}
\textbf{Description:} converts the I18N names to property names\\
\textbf{Parameter:}
\begin{itemize}
\item key: property name
\end{itemize}

\subsection{MASS\_showTableDefinition}
\textbf{Description:} shows a dialog that lets the user define which field in the DB file should be assigned to which property\\
\textbf{Parameter:}
\begin{itemize}
\item EGKparams: enter generate keep parameters, that hold information about handling of the properties
\item DBfileName: file name of the DB file
\end{itemize}

\subsection{MASS\_checkAndSaveFields}
\textbf{Description:} saved the assignments from field number to property and other information to EGKparams and performes a simple check, to verify that the values of the properties are valuable. An error message is returned or an empty string, if all is ok.\\
\textbf{Parameter:}
\begin{itemize}
\item EGKparams: enter generate keep parameters, that hold information about handling of the properties
\end{itemize}

\subsection{MASS\_openDBFile}
\textbf{Description:} opens a DB file\\
\textbf{Parameter:}
\begin{itemize}
\item fileName: name of the DB file
\end{itemize}

\subsection{MASS\_readDBFile}
\textbf{Description:} reads a line from the DB file and returnes an associated array with the properties as key and the fields of the file as values.\\
\textbf{Parameter:}
\begin{itemize}
\item fileName: name of the DB file
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Associative array with the values of the DB line or false, if the line was empty.
\end{itemize}

\subsection{MASS\_readDBFileRaw}
\textbf{Description:} reads a line from the DB file and returnes the fields splitted to a normal array.\\
\textbf{Parameter:}
\begin{itemize}
\item file: file pointer
\item glue: the seperator used to seperate the fields
\end{itemize}

\subsection{MASS\_closeDBFile}
\textbf{Description:} closes the DB file.\\
\textbf{Parameter:}
\begin{itemize}
\item file: file pointer
\end{itemize}

\subsection{MASS\_getXProperties}
\textbf{Description:} returnes the amount and keys of a secial kind (enter, generate, keep, hand, file)\\
\textbf{Parameter:}
\begin{itemize}
\item EGKparams: enter generate keep parameters, that hold information about handling of the properties
\item x: the 1-letter code of enter, generate, keep, hand or file
\item pre: set if there is a prefix before the key name
\end{itemize}

\subsection{MASS\_showGeneratorOptions}
\textbf{Description:} shows the dialog for configuring the generator options\\
\textbf{Parameter:}
\begin{itemize}
\item EGKparams: enter generate keep parameters, that hold information about handling of the properties
\end{itemize}

\subsection{MASS\_passGenerator}
\textbf{Description:} generates the selected amount of passwords with a random algorithm or the pwgen tool.\\
\textbf{Parameter:}
\begin{itemize}
\item length: length of the passwords to generate
\item method: random or pwgen generated passwords that can be memorized by humans easily
\item amount: the amount of passwords to generate
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Array with the generated passwords as keys.
\end{itemize}

\subsection{MASS\_loginGenerator}
\textbf{Description:} generates the selected amount of logins\\
\textbf{Parameter:}
\begin{itemize}
\item base: the base name of the login
\item start: start number for incremental logins
\item forenames: array with all forenames
\item familynames: array with all familynames
\item type: "incremental" if you want to add a incrementing number after the base name, "ForeFamilyName" if the logins should be created from fore- and familynames
\item amount: the amount of logins to generate
\end{itemize}

\subsection{MASS\_ipGenerator}
\textbf{Description:} generates the selected amount of IPs in the selected ranges. Only IPs are generated that aren't in use by m23 or (if activated) pingable.\\
\textbf{Parameter:}
\begin{itemize}
\item amount: the amount of IPs to generate
\item rangeStr: string with IP range information
\item ping: set to true, if each IP should be pinged before it becomes valid
\end{itemize}

\subsection{MASS\_minMaxIP}
\textbf{Description:} calculates the possible minimum and maximum IP of a given netmask. The IPs are returned as an array: index 0 = minimum; index 1 = maximum.\\
\textbf{Parameter:}
\begin{itemize}
\item netmask: netmask to use
\item ip: is used if the can only be set the current part of the ip (max and min ip part == 255)
\end{itemize}

\subsection{MASS\_generateNetmask}
\textbf{Description:} generate netmasks from ip addresses via network class definitions.\\
\textbf{Parameter:}
\begin{itemize}
\item ip: the ip that shoulb be used to calculate the netmask
\end{itemize}

\subsection{MASS\_generateClientNames}
\textbf{Description:} generates client names through appending of numbers.\\
\textbf{Parameter:}
\begin{itemize}
\item base: the client base name
\item start: the start number
\item amount: the amount of client names to generate
\end{itemize}

\subsection{MASS\_saveGeneratorOptions}
\textbf{Description:} saves all geneator options to EGKparams\\
\textbf{Parameter:}
\begin{itemize}
\item EGKparams: enter generate keep parameters, that hold information about handling of the properties
\end{itemize}

\subsection{MASS\_showOverview}
\textbf{Description:} shows a table with all generated client settings, that can be edited\\
\textbf{Parameter:}
\begin{itemize}
\item EGKparams: enter generate keep parameters, that hold information about handling of the properties
\end{itemize}

\subsection{MASS\_getAllFromFile}
\textbf{Description:} returnes all values from one key of the DB file as an array.\\
\textbf{Parameter:}
\begin{itemize}
\item key: the key of the property
\item generateAmount: the amount of values to be read from the DB file
\item EGKparams: enter generate keep parameters, that hold information about handling of the properties
\item fromDBFile: 2D array filled with the values for the keys
\end{itemize}

\subsection{MASS\_getLongestLength}
\textbf{Description:} returnes the length of the longest entry in the array or max if bigger than max\\
\textbf{Parameter:}
\begin{itemize}
\item arr: the array
\item amount: the amount of entries in the array
\item max: maximal value to be returned
\end{itemize}

\subsection{MASS\_startInstall}
\textbf{Description:} starts the installation of all client with all paramaters defined in the table\\
\textbf{Parameter:}
\begin{itemize}
\item EGKparams: enter generate keep parameters, that hold information about handling of the properties
\end{itemize}

\newpage\section{./inc/menu.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: functions for menus\\

\subsection{MENU\_showEntry}
\textbf{Description:} generates a menu entry, highlights it (if selected) and removes menu entry formatting tags from the menu entry label\\
\textbf{Parameter:}
\begin{itemize}
\item text: label of the menu entry
\item link: link to the page
\item icon: directory and name of the icon to show in front of the entry
\end{itemize}

\subsection{MENU\_startGroup}
\textbf{Description:} shows the start of a menu group\\
\textbf{Parameter:}
\begin{itemize}
\item name: name of the menu group
\end{itemize}

\subsection{MENU\_endGroup}
\textbf{Description:} shows the end of a menu group\\

\newpage\section{./inc/message.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: function to show an info box\\

\subsection{MSG\_showMessageBoxPlaceholder}
\textbf{Description:} Shows a placeholder for message boxes at the position of execution.\\

\subsection{MSG\_placeOrReturnMessageBox}
\textbf{Description:} Replaces a (maybe) existing message box placeholder with the given text.\\
\textbf{Parameter:}
\begin{itemize}
\item text: Message to embed in the placeholder.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Empty string, if the text could be inserted into the existing placeholder or the message, if no placeholder was found.
\end{itemize}

\subsection{MSG\_getm23UpdateFeed}
\textbf{Description:} Shows the m23 server update feed.\\
\textbf{Parameter:}
\begin{itemize}
\item width: Width of the box
\item refreshTime: The time in minutes the file is downloaded again.
\end{itemize}

\subsection{MSG\_getm23DevelopmentBlog}
\textbf{Description:} Shows the m23 development blog.\\
\textbf{Parameter:}
\begin{itemize}
\item width: Width of the box
\item refreshTime: The time in minutes the file is downloaded again.
\end{itemize}

\subsection{MSG\_getRSSFeed}
\textbf{Description:} Shows a RSS feed.\\
\textbf{Parameter:}
\begin{itemize}
\item url: The URL pointing to the RSS XML file.
\item tableType: Name of the CSS table type
\item width: Width of the box
\item storeFile: The file name to store the download in.
\item refreshTime: The time in minutes the file is downloaded again.
\end{itemize}

\subsection{MSG\_showInfo}
\textbf{Description:} Shows the help block for the online help.\\
\textbf{Parameter:}
\begin{itemize}
\item message: the text for the info message
\item language: two character language description (e.g. de, en, fr,...)
\item width: width of the box
\end{itemize}

\subsection{MSG\_showError}
\textbf{Description:} Shows the error block for the error messages.\\
\textbf{Parameter:}
\begin{itemize}
\item message: the text for the info message
\item language: two character language description (e.g. de, en, fr,...)
\item width: width of the box
\end{itemize}

\subsection{MSG\_showWarning}
\textbf{Description:} Shows the warning block for the warning messages.\\
\textbf{Parameter:}
\begin{itemize}
\item message: the text for the info message
\item language: two character language description (e.g. de, en, fr,...)
\item width: width of the box
\end{itemize}

\subsection{MSG\_show}
\textbf{Description:} Shows the message block for the messages.\\
\textbf{Parameter:}
\begin{itemize}
\item message: the text for the info message
\item language: two character language description (e.g. de, en, fr,...)
\item width: width of the box
\item urgency: type of message (e.g. errortable, warningtable, infotable)
\end{itemize}

\subsection{MSG\_showMessageBoxHeader}
\textbf{Description:} shows the header of the message block for the online help\\
\textbf{Parameter:}
\begin{itemize}
\item tableType: name of the CSS table type
\item type: the heading of the box
\item width: width of the box
\item dontShowButReturn: Set to true if the HTML output should be returned rather than show.
\end{itemize}

\subsection{MSG\_showMessageBoxFooter}
\textbf{Description:} shows the footer of the message block for the online help\\
\textbf{Parameter:}
\begin{itemize}
\item dontShowButReturn: Set to true if the HTML output should be returned rather than show.
\end{itemize}

\subsection{MSG\_showMessageBox}
\textbf{Description:} shows the message block for the online help\\
\textbf{Parameter:}
\begin{itemize}
\item message: the text for the info message
\item tableType: name of the CSS table type
\item type: the heading of the box
\item width: width of the box
\item dontShowButReturn: Set to true if the HTML output should be returned rather than show.
\end{itemize}

\subsection{MSG\_showUpdateInfo}
\textbf{Description:} shows a info message about the stored update jobs\\
\textbf{Parameter:}
\begin{itemize}
\item unr: the amount of update jobs and clients
\item language: two character language description (e.g. de, en, fr,...)
\end{itemize}

\subsection{MSG\_showUpdateInfo}
\textbf{Description:} shows a info message about stored jobs on N clients\\
\textbf{Parameter:}
\begin{itemize}
\item jobNr: the amount of jobs
\item clNr: the amount of clients
\item language: two character language description (e.g. de, en, fr,...)
\end{itemize}

\subsection{MSG\_showNewFeature}
\textbf{Description:} shows the new feature block\\
\textbf{Parameter:}
\begin{itemize}
\item url: the url to the forum for the new feature
\item language: two character language description (e.g. de, en, fr,...)
\item width: width of the box
\end{itemize}

\subsection{MSG\_DeActivateBlogDialog}
\textbf{Description:} Creates a dialog to en/disable a blog. The displaying state is written to the DB.\\
\textbf{Parameter:}
\begin{itemize}
\item blogVarName: Variable name of the blog to store in the DB.
\item css: Name of the CSS class to color the dialog.
\item blogName: Name of the blog als human readle heading.
\item width: Width of the box containing the switch dialog.
\item dialogCode: The HTML code of the dialog element is written to this variable.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : True if the blog should be shown otherwise false.
\end{itemize}

\newpage\section{./inc/packages.php}
Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
Description: basic package operations (search, add,...)\\

\subsection{PKG\_addHSUser}
\textbf{Description:} Adds a job for creating an user on a halfSister client.\\
\textbf{Parameter:}
\begin{itemize}
\item client: Name of the client.
\item login: Login name of the new user.
\item firstpw: Password for the new user.
\item uid: Optional user ID of the new user.
\item gid: Optional group ID of the new user.
\end{itemize}

\subsection{PKG\_addUbuntuUser}
\textbf{Description:} Adds a job for creating an user on a Ubuntu client.\\
\textbf{Parameter:}
\begin{itemize}
\item client: Name of the client.
\item login: Login name of the new user.
\item firstpw: Password for the new user.
\item uid: Optional user ID of the new user.
\item gid: Optional group ID of the new user.
\end{itemize}

\subsection{PKG\_addDebianUser}
\textbf{Description:} Adds a job for creating an user on a Debian client.\\
\textbf{Parameter:}
\begin{itemize}
\item client: Name of the client.
\item login: Login name of the new user.
\item firstpw: Password for the new user.
\item uid: Optional user ID of the new user.
\item gid: Optional group ID of the new user.
\end{itemize}

\subsection{PKG\_addUser}
\textbf{Description:} Adds a job for creating an user on the client.\\
\textbf{Parameter:}
\begin{itemize}
\item client: Name of the client.
\item login: Login name of the new user.
\item firstpw: Password for the new user.
\item groups: Array of groups the user should be added.
\item uid: Optional user ID of the new user.
\item gid: Optional group ID of the new user.
\end{itemize}

\subsection{PKG\_cleanPackageLine}
\textbf{Description:} Removes unwanted characters from a line containing package names and makes sure that there is only one line without line breaks.\\
\textbf{Parameter:}
\begin{itemize}
\item packageLine: Space seperated line containing the package names. The changed line will be written to the parameter too.
\end{itemize}

\subsection{PKG\_combinem23normal}
\textbf{Description:} Combines the package names of multiple entries for m23normal and m23normalRemove jobs in a package selection.\\
\textbf{Parameter:}
\begin{itemize}
\item packageSelectionName: Name of the package selection to optimise.
\end{itemize}

\subsection{PKG\_importSelectedPackagesFromFile}
\textbf{Description:} Imports space-seperated packages from a file and adds them to the wait4acc/selected packages of a client.\\
\textbf{Parameter:}
\begin{itemize}
\item client: Name of the client or empty.
\item file: Name of the file with full path containing space-seperated packages.
\end{itemize}

\subsection{PKG\_exportSelectedPackages}
\textbf{Description:} Exports the wait4acc/selected packages of a client.\\
\textbf{Parameter:}
\begin{itemize}
\item client: Name of the client or empty.
\end{itemize}

\subsection{PKG\_getDebootstrapCacheFilename}
\textbf{Description:} Returns the file name of the debootstrap cache file (without path).\\
\textbf{Parameter:}
\begin{itemize}
\item release: Select the Debian/Ubuntu suite (squeeze, sarge, sid, precise).
\item arch: the computer architecture of the client
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The file name of the debootstrap cache file (without path).
\end{itemize}

\subsection{PKG\_getDebootstrapCacheSfURL}
\textbf{Description:} Returns the URL to the debootstrap cache file on the SourceForge server.\\
\textbf{Parameter:}
\begin{itemize}
\item release: Select the Debian/Ubuntu suite (squeeze, sarge, sid, precise).
\item arch: the computer architecture of the client
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The URL to the debootstrap cache file on the SourceForge server.
\end{itemize}

\subsection{PKG\_getDebootstrapCacheServerURL}
\textbf{Description:} Returns the URL to the debootstrap cache file on the m23 server.\\
\textbf{Parameter:}
\begin{itemize}
\item release: Select the Debian/Ubuntu suite (squeeze, sarge, sid, precise).
\item arch: the computer architecture of the client
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The URL to the debootstrap cache file on the m23 server.
\end{itemize}

\subsection{PKG\_getDebootstrapCacheServerFile}
\textbf{Description:} Returns the full path to the debootstrap cache file on the m23 server.\\
\textbf{Parameter:}
\begin{itemize}
\item release: Select the Debian/Ubuntu suite (squeeze, sarge, sid, precise).
\item arch: the computer architecture of the client
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The full path to the debootstrap cache file on the m23 server.
\end{itemize}

\subsection{PKG\_isReconfiguredWithExtraDistr}
\textbf{Description:} Checks, if the distribution is used for configuring a system that was installed via image.\\
\textbf{Parameter:}
\begin{itemize}
\item pkgID: The ID of the base installation package.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item True, if the distribution is used for configuring, otherwise false.
\end{itemize}

\subsection{PKG\_translateClientjobsStatus}
\textbf{Description:} Translates the clientjobs status from the DB into a human readable form.\\
\textbf{Parameter:}
\begin{itemize}
\item status: Status code from the DB.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Human readable translation of the clientjobs status.
\end{itemize}

\subsection{PKG\_isSpecialPackageAvailableForClient}
\textbf{Description:} Checks if a special package is available for the client's distribution.\\
\textbf{Parameter:}
\begin{itemize}
\item client: Name of the client.
\item package: Name of the special package.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item True if the special package is available otherwise false.
\end{itemize}

\subsection{PKG\_OptionPageHeader2}
\textbf{Description:} Starts the option page for debconf settings with all necessary options.\\
\textbf{Parameter:}
\begin{itemize}
\item title: the window title of the OptionPage
\end{itemize}

\subsection{PKG\_OptionPageTail2}
\textbf{Description:} Generates the bottom of the OptionPage for debconf settings.\\
\textbf{Parameter:}
\begin{itemize}
\item elem: The elements (variable name, type (string, boolean, (multi)select), default value, description) of the debconf templates.
\end{itemize}

\subsection{PKG\_decodeDebconfDescription}
\textbf{Description:} Decodes and HTML-formats the description of a debconf template and extracts its title.\\
\textbf{Parameter:}
\begin{itemize}
\item descr: Text of the debconf description.
\item title: Variable to write the title to.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : The decoded and HTML-formated description.
\end{itemize}

\subsection{PKG\_OptionPageRender2}
\textbf{Description:} Renderes the layout of an OptionPage for debconf and stored the debconf settings into the DB.\\
\textbf{Parameter:}
\begin{itemize}
\item layout: The elements (variable name, type (string, boolean, (multi)select), default value, description) of the debconf templates.
\item client: The name of the client, the debconf settings should be stored for.
\item package: Name of the package, the debconf settings should be stored for.
\end{itemize}

\subsection{PKG\_countSpecialPackages}
\textbf{Description:} counts the special packages of a clients matching the package name and status\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client 
\item packageName: name of the special package
\item status: status of the package
\end{itemize}

\subsection{PKG\_countWaitingJobs}
\textbf{Description:} returns the amount of a special waiting package\\
\textbf{Parameter:}
\begin{itemize}
\item client: name of the client
\item package: name of the package you want to know the amount
\end{itemize}

\subsection{PKG\_closeSearch}
\textbf{Description:} closes a search request\\
\textbf{Parameter:}
\begin{itemize}
\item file: file handle
\end{itemize}

\subsection{PKG\_getNextPackage}
\textbf{Description:} fetches the next package\\
\textbf{Parameter:}
\begin{itemize}
\item file: file handle
\end{itemize}

\subsection{PKG\_listRecommendPackages}
\textbf{Description:} lists recommended packages matching the key\\
\textbf{Parameter:}
\begin{itemize}
\item key: search key
\item install: set to true, if the selection for installing all packages should be first
\end{itemize}

\subsection{PKG\_listRecommendSubPackages}
\textbf{Description:} returnes subpackages of a package\\
\textbf{Parameter:}
\begin{itemize}
\item cut: cuts the packages by \$cut
\item params: variable to write package names to
\end{itemize}

\subsection{PKG\_addRecommendPackages}
\textbf{Description:} adds recommeded packages to db\\
\textbf{Parameter:}
\begin{itemize}
\item amount: amount of selected packages
\item client: name of client to install packages on
\item normalPackageType2: m23normal, m23normalRemove or orig: select if the packages should be (de)installed or use the saved action
\item distr: Name of the distribution.
\end{itemize}

\subsection{PKG\_addPackageSelection}
\textbf{Description:} Adds a package selections to the list of packages to install.\\
\textbf{Parameter:}
\begin{itemize}
\item client: name of client to install packages on
\item packageSelectionName: Name of the package selection to install.
\item normalPackageType2: m23normal, m23normalRemove or orig: select if the packages should be (de)installed or use the saved action
\item distr: Name of the distribution.
\end{itemize}

\subsection{PKG\_addNormalPackagesToWait4Aac}
\textbf{Description:} adds a package to waiting 4 accept status\\
\textbf{Parameter:}
\begin{itemize}
\item client: name of client to install packages on
\item priority: priority of the package
\item params: parameter for installing the package
\end{itemize}

\subsection{PKG\_addSpecialPackagesToWait4Aac}
\textbf{Description:} adds a special package to waiting 4 accepts status\\
\textbf{Parameter:}
\begin{itemize}
\item client: name of client to install packages on
\item priority: priority of the package
\item params: parameter for installing the package
\item distr: Name of the distribution.
\end{itemize}

\subsection{PKG\_countJobsWithStatus}
\textbf{Description:} Counts named jobs on a client that have a special status.\\
\textbf{Parameter:}
\begin{itemize}
\item client: name of the client
\item package: name of the package
\item status: The status to search for
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The amount of packages on the client with the given status.
\end{itemize}

\subsection{PKG\_getClientjobsStatus}
\textbf{Description:} return the status of a job\\
\textbf{Parameter:}
\begin{itemize}
\item client: name of the client
\item package: name of the package
\item distr: the name of the distribution
\item params: parameter for installing the package
\item normalPackage: the name of a normal package
\end{itemize}

\subsection{PKG\_addNormalPackages}
\textbf{Description:} adds normal packages to db\\
\textbf{Parameter:}
\begin{itemize}
\item amount: amount of selected packages
\item client: name of client to install packages on
\end{itemize}

\subsection{PKG\_changePrioritySelectedPackages}
\textbf{Description:} Changes the priority of selected wait4acc packages.\\
\textbf{Parameter:}
\begin{itemize}
\item amount: amount of selected packages
\item client: name of client to install packages on
\item newPriority: The new priority to set.
\end{itemize}

\subsection{PKG\_rmSelectedPackages}
\textbf{Description:} removes normal packages from db\\
\textbf{Parameter:}
\begin{itemize}
\item amount: amount of selected packages
\item client: name of client to install packages on
\end{itemize}

\subsection{PKG\_listSelectedpackages}
\textbf{Description:} lists the packages with wait4acc status\\
\textbf{Parameter:}
\begin{itemize}
\item client: name of client to install packages on
\item distr: the name of the distribution
\item release: release of the distribution
\end{itemize}

\subsection{PKG\_countSelectedpackages}
\textbf{Description:} counts the preselected packages\\
\textbf{Parameter:}
\begin{itemize}
\item client: name of client to install packages on
\end{itemize}

\subsection{PKG\_countJobs}
\textbf{Description:} counts all packages of a client with a given status\\
\textbf{Parameter:}
\begin{itemize}
\item client: name of client
\item status: status of the packages to be count or empty to count all jobs
\end{itemize}

\subsection{PKG\_hasOptions}
\textbf{Description:} generates a link to the package option page (if it exists)\\
\textbf{Parameter:}
\begin{itemize}
\item package: name of package
\item packageID: id for the selected package
\item distr: the name of the distribution
\item client: Name of the current client.
\item release: The release of the client's distribution.
\end{itemize}

\subsection{PKG\_savePackageselection}
\textbf{Description:} saves all selected packages a package selection\\
\textbf{Parameter:}
\begin{itemize}
\item client: name of client to install packages on
\item selectionName: name for the package selection
\item showMsg: set to true, if a message should be shown
\item status: Status of the clientjobs that should be added.
\end{itemize}

\subsection{PKG\_addPackageToPackageselection}
\textbf{Description:} Add packages to selection\\
\textbf{Parameter:}
\begin{itemize}
\item client: name of client to install packages on
\item selectionName: name for the package selection
\item packageName: name of the normal package
\item params: parameter for the package
\item normalPackage: the name of a normal package
\item installedSize: the size of the package if it is installed
\item priority: The priority of the package.
\end{itemize}

\subsection{PKG\_listSpecialpackages}
\textbf{Description:} lists special packages matching a key\\
\textbf{Parameter:}
\begin{itemize}
\item key: search key
\end{itemize}

\subsection{PKG\_addSpecialPackages}
\textbf{Description:} adds normal packages to db\\
\textbf{Parameter:}
\begin{itemize}
\item amount: amount of selected packages
\item client: name of client to install packages on
\end{itemize}

\subsection{PKG\_getSpecialPackagePriority}
\textbf{Description:} gets the priority of a special package\\
\textbf{Parameter:}
\begin{itemize}
\item package: name of package
\end{itemize}

\subsection{PKG\_getSpecialPackageDescription}
\textbf{Description:} gets the description of a special package\\
\textbf{Parameter:}
\begin{itemize}
\item package: name of package
\end{itemize}

\subsection{PKG\_getSpecialPackageInfo}
\textbf{Description:} gets informations from special packages\\
\textbf{Parameter:}
\begin{itemize}
\item package: name of package
\item infoType: the type of information you want to get
\item dist: shortname of the distribution
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The information or false, if no information could be got.
\end{itemize}

\subsection{PKG\_getPackageID}
\textbf{Description:} get the id for a wait4acc job\\
\textbf{Parameter:}
\begin{itemize}
\item client: name of the client
\item package: name of the package
\end{itemize}

\subsection{PKG\_rmNormalJob}
\textbf{Description:} adds a normal package removal job to the clientjobs table\\
\textbf{Parameter:}
\begin{itemize}
\item client: name of the client
\item packageName: name of the package
\item priority: The priority of the job.
\end{itemize}

\subsection{PKG\_addJob}
\textbf{Description:} adds a job to the clientjobs table\\
\textbf{Parameter:}
\begin{itemize}
\item client: name of the client
\item packageName: name of the package
\item priority: priority of the package
\item params: parameter for installing the package
\end{itemize}

\subsection{PKG\_discardNormalJob}
\textbf{Description:} discards all normal packages from the clientjobs table, that match the param\\
\textbf{Parameter:}
\begin{itemize}
\item client: name of the client
\item packageName: name of the package
\end{itemize}

\subsection{PKG\_addWait4AccJob}
\textbf{Description:} adds a wait 4 accept job to the clientjobs table\\
\textbf{Parameter:}
\begin{itemize}
\item client: name of the client
\item packageName: name of the package
\item priority: priority of the package
\item params: parameter for installing the package
\end{itemize}

\subsection{PKG\_addStatusJob}
\textbf{Description:} adds a job to the clientjobs table\\
\textbf{Parameter:}
\begin{itemize}
\item client: name of the client
\item packageName: name of the package
\item priority: priority of the package
\item params: parameter for installing the package
\item status: the status of the package
\end{itemize}

\subsection{PKG\_acceptJobs}
\textbf{Description:} accepts all preselected jobs\\
\textbf{Parameter:}
\begin{itemize}
\item client: name of the client
\item showMsg: set to true, if a message about assigned jobs should be shown
\end{itemize}

\subsection{PKG\_discardJobs}
\textbf{Description:} discards all preselected jobs\\
\textbf{Parameter:}
\begin{itemize}
\item client: name of the client
\end{itemize}

\subsection{PKG\_discardJob}
\textbf{Description:} discards a selected job\\
\textbf{Parameter:}
\begin{itemize}
\item client: name of the client
\item package: name of package you want to discard
\end{itemize}

\subsection{PKG\_changeClientPackageAction}
\textbf{Description:} changes the status of a allready installed package\\
\textbf{Parameter:}
\begin{itemize}
\item client: name of the client
\item package: name of package you want to discard
\item action: the action you want the package set to
\end{itemize}

\subsection{PKG\_setClientPackageWait4Rm}
\textbf{Description:} changes the status of a allready installed package to wait 4 delete\\
\textbf{Parameter:}
\begin{itemize}
\item client: name of the client
\item package: name of package
\end{itemize}

\subsection{PKG\_setClientPackageInstalledOK}
\textbf{Description:} changes the status of a package to "installed ok"\\
\textbf{Parameter:}
\begin{itemize}
\item client: name of the client
\item package: name of package
\end{itemize}

\subsection{PKG\_addShutdownPackage}
\textbf{Description:} adds a shutdown package, but only if the client is NOT running. returns true, if a schutdown package is added\\
\textbf{Parameter:}
\begin{itemize}
\item client: name of the client
\end{itemize}

\subsection{PKG\_addShutdownOrRebootPackage}
\textbf{Description:} Adds a shutdown or a reboot package. No new job is addedm if there is already a waiting shutdown or reboot job. A shutdown package is added if the client can't be pinged and a reboot package if it is reachable via the network.\\
\textbf{Parameter:}
\begin{itemize}
\item client: name of the client
\end{itemize}

\subsection{PKG\_getAllParams}
\textbf{Description:} gets all parameters of the parameters column of a clientjob\\
\textbf{Parameter:}
\begin{itemize}
\item packageID: the ID of the package
\end{itemize}

\subsection{PKG\_setAllParams}
\textbf{Description:} sets all parameters in the parameters column of a clientjob\\
\textbf{Parameter:}
\begin{itemize}
\item packageID: the ID of the package
\item params: the parameters as assiciative array
\end{itemize}

\subsection{PKG\_OptionPageHeader}
\textbf{Description:} starts the option page with all necessary options\\
\textbf{Parameter:}
\begin{itemize}
\item title: the window title of the OptionPage
\end{itemize}

\subsection{PKG\_OptionPageRender}
\textbf{Description:} renderes the layout of a OptionPage\\
\textbf{Parameter:}
\begin{itemize}
\item layout: for the definition of the layout array see the development guide
\end{itemize}

\subsection{PKG\_OptionPageTail}
\textbf{Description:} generates the bottom of the OptionPage\\
\textbf{Parameter:}
\begin{itemize}
\item layout: for the definition of the layout array see the development guide
\end{itemize}

\subsection{PKG\_OptionPageSaveAlsParameters}
\textbf{Description:} saves the entered values in the packagejobs params\\
\textbf{Parameter:}
\begin{itemize}
\item layout: for the definition of the layout array see the development guide
\end{itemize}

\subsection{PKG\_OptionPageGetValue}
\textbf{Description:} gets tha value from a variable. The function tries to get the value from the \$\_GET array, if it doesn't work it falls back to the params array\\
\textbf{Parameter:}
\begin{itemize}
\item variable: the name of the variable you want to get the value from
\item params: the parameters as assiciative array
\end{itemize}

\subsection{PKG\_listParams}
\textbf{Description:} lists the parameters from a package in a nice format\\
\textbf{Parameter:}
\begin{itemize}
\item paramStr: the parameters as string (simply read from the packagejobs table)
\end{itemize}

\subsection{PKG\_getRecommendPackageAllInstalledSize}
\textbf{Description:} calculates the whole sum of the installedSizes of all recommend packages of one package selection\\
\textbf{Parameter:}
\begin{itemize}
\item packageSelection: the name of the package selection
\end{itemize}

\subsection{PKG\_previewInstallationDeinstallation}
\textbf{Description:} showes what happens if a client deinstalls/ installs waiting packages and generates a table with title\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client
\item install: set to true, if packages should be installed. if false the packages should be deinstalled
\end{itemize}

\subsection{PKG\_showPreviewInstallationDeinstallation}
\textbf{Description:} showes what happens if a client installs / deinstalls waiting packages and generates a table with title\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client
\item install: set to true, if packages should be installed. if false the packages should be deinstalled
\end{itemize}

\subsection{PKG\_updateSourcesListAtAllClients}
\textbf{Description:} updates the sources.list at all clients using it\\
\textbf{Parameter:}
\begin{itemize}
\item sourcename: name of the sources.list that should be updated
\end{itemize}

\subsection{PKG\_executeOnClientJobs}
\textbf{Description:} Executes a sql statement on all package IDs.\\
\textbf{Parameter:}
\begin{itemize}
\item sql: initial SQL statement e.g. "DELETE FROM `clientjobs` WHERE "
\item packageIDList: the list of IDs of jobs to be deleted
\end{itemize}

\subsection{PKG\_removeFromJobList}
\textbf{Description:} removes all jobs identified by the IDs in packageIDList\\
\textbf{Parameter:}
\begin{itemize}
\item packageIDList: the list of IDs of jobs to be deleted
\end{itemize}

\subsection{PKG\_changeClientJobsStatus}
\textbf{Description:} Sets a new status on all jobs identified by the IDs in packageIDList\\
\textbf{Parameter:}
\begin{itemize}
\item packageIDList: the list of IDs of jobs to be deleted
\item status: New status to set
\end{itemize}

\subsection{PKG\_removeSpecialFromJobList}
\textbf{Description:} Removes a special job from the joblist identified by package name and priority.\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: Name of the client
\item package: Name of the package.
\item priority: Priority of the job.
\end{itemize}

\subsection{PKG\_previewUpdateSystem}
\textbf{Description:} returns the information of an system update request\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client 
\item completeUpdate: set it to "true", if it should be a full update (installation and removal of packages) or to "false" for an update of existing packages
\end{itemize}

\subsection{PKG\_showPreviewUpdateSystem}
\textbf{Description:} generates HTML code woth inormation about the update preview\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client 
\item completeUpdate: set it to "true", if it should be a full update (installation and removal of packages) or to "false" for an update of existing packages
\end{itemize}

\subsection{PKG\_rmAllSpecialPackagesByName}
\textbf{Description:} deletes all special packages from a client matching the package name\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client 
\item packageName: name of the special package
\end{itemize}

\subsection{PKG\_getClientsWithPackage}
\textbf{Description:} Gets all clients that have the specific package installed (or with another status).\\
\textbf{Parameter:}
\begin{itemize}
\item packageName: Name of the package.
\item status: The status the package should have.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Array with all clients that have the specific package installed (or with another status).
\end{itemize}

\subsection{PKG\_getClientsWithWaitingJobs}
\textbf{Description:} Gets all clients that have waiting jobs.\\
\textbf{Returns:}
\begin{itemize}
\item Array with all clients that have waiting jobs.
\end{itemize}

\subsection{PKG\_getClientsByPackages}
\textbf{Description:} Gets all clients that have the specific packages (not) installed (or with another given status).\\
\textbf{Parameter:}
\begin{itemize}
\item packageNames: Array with the packages to check.
\item status: Debian status code or true for "installed".
\item and: Set to true, if all packages must (not) match the status or, if false, at least one package must match the status.
\item not: If set to true, only clients, that have no packes with the given status will be added to the output array.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Array with all clients that have the specific package (not) installed (or with another given status).
\end{itemize}

\subsection{PKG\_countPackages}
\textbf{Description:} counts all packages on a client\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: name of the client 
\end{itemize}

\subsection{PKG\_copyWait4accPackagesToClient}
\textbf{Description:} copies the waiting jobs from one client to another\\
\textbf{Parameter:}
\begin{itemize}
\item from: the source client
\item to: the destination client
\end{itemize}

\subsection{PKG\_copyPackagesToClient}
\textbf{Description:} copies all with a selected status jobs from one client to another\\
\textbf{Parameter:}
\begin{itemize}
\item from: the source client
\item to: the destination client
\item status: can be set to a package status or be empty to copy all jobs
\end{itemize}

\subsection{PKG\_remNormalPackages}
\textbf{Description:} adds normal deinstallation jobs to db\\
\textbf{Parameter:}
\begin{itemize}
\item amount: amount of selected packages
\item client: name of client to deinstall packages on
\end{itemize}

\subsection{PKG\_addRemovePackagesToWait4Aac}
\textbf{Description:} adds a remove job to waiting 4 accept status\\
\textbf{Parameter:}
\begin{itemize}
\item client: name of client to frinstall packages from
\item priority: priority of the package
\item params: parameter for deinstalling the package
\end{itemize}

\subsection{PKG\_discardRemoveJob}
\textbf{Description:} discards all remove jobs from the clientjobs table, that match the param\\
\textbf{Parameter:}
\begin{itemize}
\item client: name of the client
\item packageName: name of the package
\end{itemize}

\subsection{PKG\_deletePackageselection}
\textbf{Description:} delete all packages from package selection\\
\textbf{Parameter:}
\begin{itemize}
\item selectionName: name for the package selection
\end{itemize}

\subsection{PKG\_getAllPackageSelections}
\textbf{Description:} returns all package selection names\\
\textbf{Parameter:}
\begin{itemize}
\item addEmpty: set to true to add an empty entry at the beginning.
\end{itemize}

\subsection{PKG\_multiPackageSelectionsSelection}
\textbf{Description:} Generates a multi selection with all package selections.\\
\textbf{Parameter:}
\begin{itemize}
\item selName: name of the selection
\item first: entry that should be shown first (this is the internal value and NOT the name shown to the user). the first value from the list will be written to \$first. set first to "false" to disable writing the first entry.
\item addEmpty: set to true to add an empty entry at the beginning.
\end{itemize}

\subsection{PKG\_showAllPackageSelections}
\textbf{Description:} returns all package selection as HTML selection\\
\textbf{Parameter:}
\begin{itemize}
\item selName: name of the selection
\item first: entry that should be shown first (this is the internal value and NOT the name shown to the user). the first value from the list will be written to \$first. set first to "false" to disable writing the first entry.
\item addEmpty: set to true to add an empty entry at the beginning.
\end{itemize}

\subsection{PKG\_getPackageParams}
\textbf{Description:} gets the parameters for a selected package\\
\textbf{Parameter:}
\begin{itemize}
\item id: package ID
\end{itemize}

\subsection{PKG\_getClientbyPackageID}
\textbf{Description:} gets the clientname that owns a selected package ID\\
\textbf{Parameter:}
\begin{itemize}
\item id: package ID
\end{itemize}

\subsection{PKG\_getInfoFromPackageID}
\textbf{Description:} gets a row from "clientjobs" for a given package ID\\
\textbf{Parameter:}
\begin{itemize}
\item id: package ID
\item variable: the name of the row (e.g. client)
\end{itemize}

\subsection{PKG\_getClientIDbyPackageID}
\textbf{Description:} returns the ID of a client that owns a selected package ID\\
\textbf{Parameter:}
\begin{itemize}
\item id: package ID
\end{itemize}

\subsection{PKG\_getPackageParamsVar}
\textbf{Description:} fetch the device for installation\\
\textbf{Parameter:}
\begin{itemize}
\item id: package ID
\item var: name of variable you want to get the value of
\end{itemize}

\subsection{PKG\_getPackageIDsByName}
\textbf{Description:} returnes all IDs as an array for jobs matching the client and job name and are a normal or special package.\\
\textbf{Parameter:}
\begin{itemize}
\item client: the name of the client, the jobs are for
\item packageName: name of the package, can be the name of a normal or special package
\item specialPackage: set to true, if you want to search for a special package
\end{itemize}

\subsection{PKG\_getClientPackages}
\textbf{Description:} returns an array or a space separated list of all packages installed on a client\\
\textbf{Parameter:}
\begin{itemize}
\item client: the name of the client
\item key: if it is not empty only packages that contain the key are returned
\item arr: set to true if the result should be an array otherwise it's a string
\item status: If set only returns packages of the given status
\end{itemize}

\subsection{PKG\_getPackagesListMarker}
\textbf{Description:} returns the string to mark client names to store packages\\

\subsection{PKG\_savePackagesList}
\textbf{Description:} stores the package names in the DB\\
\textbf{Parameter:}
\begin{itemize}
\item listName: name of the list to store the packages 
\item packages: array or blank seperated list of packages
\end{itemize}

\subsection{PKG\_loadPackagesList}
\textbf{Description:} returns an array or a blank seperated list of all packages in the list\\
\textbf{Parameter:}
\begin{itemize}
\item listName: name of the list to store the packages 
\item arr: set to true if the result should be an arry otherwise it's a string
\end{itemize}

\subsection{PKG\_deletePackagesList}
\textbf{Description:} deletes a packages list\\
\textbf{Parameter:}
\begin{itemize}
\item listName: name of the list to delete
\end{itemize}

\subsection{PKG\_addNormalJob}
\textbf{Description:} Adds a normal package to the installation queue.\\
\textbf{Parameter:}
\begin{itemize}
\item client: the name of the client, the jobs are for
\item packageName: name of the normal package
\item priority: The priority of the job.
\end{itemize}

\newpage\section{./inc/pdf.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: Functions for generating PDF files\\

\subsection{PDF\_showTableRow}
\textbf{Description:} Shows a table row with a variable amount of entries. The parameters are shown side by side as rows in a table. If more than one PDF\_showTableRow commands are executed in one table it is needed to always use the same amount of paramaters in each call.\\
\textbf{Parameter:}
\begin{itemize}
\item Arbitrary amount of cells to show in a table.
\end{itemize}

\subsection{PDF\_showTableHeader}
\textbf{Description:} Inits some values for starting a new PDF table.\\

\subsection{PDF\_showTableEnd}
\textbf{Description:} Prints the PDF table.\\

\subsection{PDF\_init}
\textbf{Description:} Inits some basic variables for PDF creation.\\
\textbf{Parameter:}
\begin{itemize}
\item orientation: Orientation of the PDF document (P or Portrait, L or Landscape)
\item unit: pt (point), mm (millimeter), cm (centimeter) or in (inch)
\item format: PDF page format A3, A4, A5, Letter or Legal
\end{itemize}

\subsection{PDF\_output}
\textbf{Description:} Shows the created PDF.\\

\newpage\section{./inc/plugin.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: functions dealing with (de)installation of plugins and status information.\\

\subsection{PLG\_listMenuPlugins}
\textbf{Description:} generate the menu entries for the plugins\\
\textbf{Parameter:}
\begin{itemize}
\item path: the path you want to scan for plugins
\end{itemize}

\subsection{PLG\_isPluginSelected}
\textbf{Description:} checkes if the plugin was clicked\\
\textbf{Parameter:}
\begin{itemize}
\item path: path where to find the plugin files
\item value: value the menu item should have to load the plugin page
\end{itemize}

\subsection{PLG\_isPluginSelected}
\textbf{Description:} gets values from the plugins like plugin name, version,...\\
\textbf{Parameter:}
\begin{itemize}
\item fileName: file name with whole path to the plugin file
\item var: variable you want to get the value from
\end{itemize}

\subsection{PLG\_getPLGName}
\textbf{Description:} gets the name of the plugin\\
\textbf{Parameter:}
\begin{itemize}
\item fileName: file name with whole path to the plugin file
\end{itemize}

\subsection{PLG\_getPLGPage}
\textbf{Description:} gets the page of the plugin\\
\textbf{Parameter:}
\begin{itemize}
\item fileName: file name with whole path to the plugin file
\end{itemize}

\subsection{PLG\_getPLGAuthor}
\textbf{Description:} gets the author of the plugin\\
\textbf{Parameter:}
\begin{itemize}
\item fileName: file name with whole path to the plugin file
\end{itemize}

\subsection{PLG\_getPLGUpdateURL}
\textbf{Description:} gets the update address of the plugin\\
\textbf{Parameter:}
\begin{itemize}
\item fileName: file name with whole path to the plugin file
\end{itemize}

\subsection{PLG\_getPLGClientRequires}
\textbf{Description:} gets the "client requires" packages of the plugin\\
\textbf{Parameter:}
\begin{itemize}
\item fileName: file name with whole path to the plugin file
\end{itemize}

\subsection{PLG\_getPLGVersion}
\textbf{Description:} gets the version of the plugin\\
\textbf{Parameter:}
\begin{itemize}
\item fileName: file name with whole path to the plugin file
\end{itemize}

\subsection{PLG\_showDownloadStatus}
\textbf{Description:} shows the status of the plugin download\\
\textbf{Parameter:}
\begin{itemize}
\item fileName: file name with whole path to the plugin file
\end{itemize}

\subsection{PLG\_showDownloadStatus}
\textbf{Description:} downloads or copies the plugin to the temp dir\\
\textbf{Parameter:}
\begin{itemize}
\item url: the place where to get the plugin file from. following transport protocols are allowed: http, ftp and local files. e.g. "http://myserver.de/test.m23plg" is avalid url.
\item tempDir: where to store the plugin file temporary
\item fileName: file name with whole path to the plugin file
\end{itemize}

\subsection{PLG\_checkOverwriting}
\textbf{Description:} checks if the plugin files would overwrite existing files. the plugin file is extracted to a temporary directory. all file names are logged to a file that contains only the file names. these file names are checked against currently installed files. this routine checks if current files would be overwritten by the files of the plugin package. a list of files that would be overwritten is generated and aligned by a table.\\
\textbf{Parameter:}
\begin{itemize}
\item logfile: filename with whole path of the logfile containing the file names of the plugin file
\item tempDir: where to store the plugin file temporary
\end{itemize}

\subsection{PLG\_DBInstall}
\textbf{Description:} stores information about the plugin in the data base.\\
\textbf{Parameter:}
\begin{itemize}
\item tempDir: where to find the extracted files of the plugin
\item files: all file names of the plugin file name
\end{itemize}

\subsection{PLG\_realInstall}
\textbf{Description:} does the real installation\\
\textbf{Parameter:}
\begin{itemize}
\item tempDir: where to find the extracted files of the plugin
\end{itemize}

\subsection{PLG\_getTempDir}
\textbf{Description:} generates the name for the plugin temp dir\\
\textbf{Parameter:}
\begin{itemize}
\item url: the place where to get the plugin file from. following transport protocols are allowed: http, ftp and local files. e.g. "http://myserver.de/test.m23plg" is avalid url.
\end{itemize}

\subsection{PLG\_getFilename}
\textbf{Description:} gets the filename for the plugin file\\
\textbf{Parameter:}
\begin{itemize}
\item url: the place where to get the plugin file from. following transport protocols are allowed: http, ftp and local files. e.g. "http://myserver.de/test.m23plg" is avalid url.
\end{itemize}

\subsection{PLG\_install}
\textbf{Description:} installs a plugin. extracts the files in the plugin file to a temporary directory. checks if currently existing files would be overwritten by the plugin files. if so, ask the user, if he wants to install or stop installation.\\
\textbf{Parameter:}
\begin{itemize}
\item url: the place where to get the plugin file from. following transport protocols are allowed: http, ftp and local files. e.g. "http://myserver.de/test.m23plg" is avalid url.
\end{itemize}

\subsection{PLG\_showPluginOverview}
\textbf{Description:} shows a overview of all plugins\\

\subsection{PLG\_install}
\textbf{Description:} deletes a plugin\\
\textbf{Parameter:}
\begin{itemize}
\item name: name of the plugin
\end{itemize}

\subsection{PLG\_getUpdateFile}
\textbf{Description:} gets the update info file\\
\textbf{Parameter:}
\begin{itemize}
\item name: name of the plugin
\end{itemize}

\subsection{PLG\_update}
\textbf{Description:} initalizes the update, shows information about the plugin update\\
\textbf{Parameter:}
\begin{itemize}
\item name: name of the plugin
\end{itemize}

\subsection{PLG\_listInfofile}
\textbf{Description:} lists information of a plugin update file\\
\textbf{Parameter:}
\begin{itemize}
\item name: name of the plugin
\end{itemize}

\subsection{PLG\_realUpdate}
\textbf{Description:} does the real installation/update\\
\textbf{Parameter:}
\begin{itemize}
\item name: name of the plugin
\item url: the place where to get the plugin file from. following transport protocols are allowed: http, ftp and local files. e.g. "http://myserver.de/test.m23plg" is avalid url.
\end{itemize}

\newpage\section{./inc/pool.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: functions for administrating package pools\\

\subsection{POOL\_selectPoolType}
\textbf{Description:} shows buttons for selecting the type of pool and returns the pressed button\\

\subsection{POOL\_getPools}
\textbf{Description:} returns an array with all pool names\\

\subsection{POOL\_showLoadDeleteCreate}
\textbf{Description:} shows a dialog for loading, deleting and creating a pool\\
\textbf{Parameter:}
\begin{itemize}
\item poolName: name of the pool
\end{itemize}

\subsection{POOL\_create}
\textbf{Description:} creates a new pool directory and type property file\\
\textbf{Parameter:}
\begin{itemize}
\item poolName: name of the pool
\item poolType: type of the pool (cd or download)
\item poolArch: CPU architecture for the packages
\end{itemize}

\subsection{POOL\_setProperty}
\textbf{Description:} sets the contents of a property file\\
\textbf{Parameter:}
\begin{itemize}
\item poolName: name of the pool
\item property: name of the pool property
\item value: value to write in the pool property file
\end{itemize}

\subsection{POOL\_getProperty}
\textbf{Description:} returns the contents of a property file\\
\textbf{Parameter:}
\begin{itemize}
\item poolName: name of the pool
\item property: name of the pool property
\end{itemize}

\subsection{POOL\_delete}
\textbf{Description:} deletes a pool\\
\textbf{Parameter:}
\begin{itemize}
\item poolName: name of the pool
\end{itemize}

\subsection{POOL\_showReadCD}
\textbf{Description:} shows a dialog for copying the CD contents to the pool\\
\textbf{Parameter:}
\begin{itemize}
\item poolName: name of the pool
\end{itemize}

\subsection{POOL\_readCD}
\textbf{Description:} copys the CD contents to the pool\\
\textbf{Parameter:}
\begin{itemize}
\item poolName: name of the pool
\item mountPoint: the mount point of the CD drive
\end{itemize}

\subsection{POOL\_createExtendedPackageIndex}
\textbf{Description:} creates the Packages* index files for the pool\\
\textbf{Parameter:}
\begin{itemize}
\item poolName: name of the pool
\end{itemize}

\subsection{POOL\_showCreatePackageIndex}
\textbf{Description:} shows information (status of the Packages* generation, sources.list) about the currently generated pool\\

\subsection{POOL\_getSize}
\textbf{Description:} returns the size of a pool in MB\\
\textbf{Parameter:}
\begin{itemize}
\item poolName: name of the pool
\end{itemize}

\subsection{POOL\_getDir}
\textbf{Description:} returns the directory of the pool\\
\textbf{Parameter:}
\begin{itemize}
\item poolName: name of the pool
\end{itemize}

\subsection{POOL\_download}
\textbf{Description:} shows error messages if the checks for distribution, sourceslist or packages are failing. Otherwise starts the distribution specific download routine.\\
\textbf{Parameter:}
\begin{itemize}
\item poolName: name of the pool
\item distr: name of the distribution
\item sourceslist: list of the package sources
\item release: release branch of the choosen distribution to download the packages from
\item downloadBasePackages: set to true if a bunch of basic packages should be included into the pool
\item arch: download the packages for a specific CPU architecture
\end{itemize}

\subsection{POOL\_showDownloadStatus}
\textbf{Description:} shows the package download status of a pool\\
\textbf{Parameter:}
\begin{itemize}
\item poolName: name of the pool
\end{itemize}

\subsection{POOL\_prepare}
\textbf{Description:} Generates the needed configuration file for reprepro.\\
\textbf{Parameter:}
\begin{itemize}
\item poolName: name of the pool
\item release: release of the distribution (e.g. sarge)
\item distr: name of the distribution (e.g. Debian)
\item arch: CPU architecture for the packages
\end{itemize}

\subsection{POOL\_makeRepository}
\textbf{Description:} Generates a package source from packages stored in one directory.\\
\textbf{Parameter:}
\begin{itemize}
\item poolName: name of the pool
\item archivPath: start search for packages in this subdirectory
\item addCmds: additional commands that should be executed before starting the screen
\item 
\end{itemize}

\subsection{POOL\_getCDDistributionRelease}
\textbf{Description:} Reads the distribution and the release name from a mounted CD and writes these information to the variables. \\
\textbf{Parameter:}
\begin{itemize}
\item mountPoint: the directory where the CD is mounted
\item distr: the variable the name of the distribution (e.g. Debian) should be written to
\item release: the variable release of the distribution (e.g. sarge) should be written to
\end{itemize}

\subsection{POOL\_showSourcesList}
\textbf{Description:} Shows the sources list of a selected package source.\\
\textbf{Parameter:}
\begin{itemize}
\item poolName: name of the pool
\end{itemize}

\newpage\section{./inc/preferences.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: functions to save and load preferences for client setup.\\

\subsection{PREF\_preferenceLoadManagerHandler}
\textbf{Description:} Executes loading and deletion of preferences after pressing the according buttons and defines the buttons for PREF\_showPreferenceManager();\\

\subsection{PREF\_preferenceSaveManagerHandler}
\textbf{Description:} Executes the saving of preferences.\\

\subsection{PREF\_showPreferenceManager}
\textbf{Description:} Shows a dialog to load and delete existing preferences and to create new preferences.\\

\subsection{PREF\_saveAllPreferenceValues}
\textbf{Description:} Saves all values of a session into the preference.\\

\subsection{PREF\_loadAllPreferenceValues}
\textbf{Description:} Loads all values of a preference into the session.\\

\subsection{PREF\_getClientPreferences}
\textbf{Description:} list all preferences\\
\textbf{Parameter:}
\begin{itemize}
\item default: The name of the preference to list first
\item directOutput: If enabled the preference names will be given out as a HTML option list. If disabled an array with the preference names as key and value will be returned.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Array with the preference names or nothing on enabled directOutput.
\end{itemize}

\subsection{PREF\_getValue}
\textbf{Description:} gets a value from a selected preference. with preferences you can store variables and values for reuse.\\
\textbf{Parameter:}
\begin{itemize}
\item name: the name of the preference
\item var: variable of the preference
\end{itemize}

\subsection{PREF\_putValue}
\textbf{Description:} stores a value to a selected preference. with preferences you can store variables and values for reuse.\\
\textbf{Parameter:}
\begin{itemize}
\item name: the name of the preference
\item var: variable of the preference
\item value: value you want to set
\end{itemize}

\subsection{PREF\_delete}
\textbf{Description:} deletes a preference\\
\textbf{Parameter:}
\begin{itemize}
\item name: the name of the preference
\end{itemize}

\subsection{PREF\_exists}
\textbf{Description:} checks if a preference with the selected name exists\\
\textbf{Parameter:}
\begin{itemize}
\item name: the name of the preference
\end{itemize}

\subsection{PREF\_putAllOptions}
\textbf{Description:} stores all settings in the options array to the preferences\\
\textbf{Parameter:}
\begin{itemize}
\item prefName: name of the preference the options should be stored under
\item options: the array with the options
\end{itemize}

\subsection{PREF\_getAllValues}
\textbf{Description:} gets all preferences and adds them to the options array\\
\textbf{Parameter:}
\begin{itemize}
\item prefName: name of the preference the options should be stored under
\item options: the array with the options
\end{itemize}

\newpage\section{./inc/remotevar.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: functions for saving and loading serverside variables.\\

\subsection{RMV\_exists4IP}
\textbf{Description:} checks if a variable exists for a certain IP\\
\textbf{Parameter:}
\begin{itemize}
\item var: name of the variable to store
\item ip: ip address to set the variable for
\end{itemize}

\subsection{RMV\_set4IP}
\textbf{Description:} creates or updates a variable for a special ip\\
\textbf{Parameter:}
\begin{itemize}
\item var: name of the variable to store
\item value: value to set
\item ip: ip address to set the variable for
\end{itemize}

\subsection{RMV\_get4IP}
\textbf{Description:} gets the value of a variable for the given ip\\
\textbf{Parameter:}
\begin{itemize}
\item var: name of the variable to get the value from
\item ip: ip you want to get the value for
\end{itemize}

\subsection{RMV\_set}
\textbf{Description:} creates or updates a variable for the ip of the calling client\\
\textbf{Parameter:}
\begin{itemize}
\item var: name of the variable to store
\item value: value to set
\end{itemize}

\subsection{RMV\_get}
\textbf{Description:} gets the value of a variable for the ip of the calling client\\
\textbf{Parameter:}
\begin{itemize}
\item var: name of the variable to get the value from
\end{itemize}

\subsection{RMV\_rm4IP}
\textbf{Description:} removes a variable for a slelected ip\\
\textbf{Parameter:}
\begin{itemize}
\item var: name of the variable to get the value from
\item ip: ip you want to delete the value from
\end{itemize}

\subsection{RMV\_rm}
\textbf{Description:} removes a variable for the ip of the calling client\\
\textbf{Parameter:}
\begin{itemize}
\item var: name of the variable to get the value from
\end{itemize}

\subsection{RMV\_rm\_old}
\textbf{Description:} removes all vars older than \$time seconds\\
\textbf{Parameter:}
\begin{itemize}
\item time: time in seconds
\end{itemize}

\newpage\section{./inc/scredit.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: Functions for the embedded script editor.\\

\subsection{SCREDIT\_correctScriptFilename}
\textbf{Description:} Corrects the given filename to have it a valid prefix and suffix.\\
\textbf{Parameter:}
\begin{itemize}
\item filename: The filename to check and correct.
\end{itemize}

\subsection{SCREDIT\_showEditor}
\textbf{Description:} Shows a script editor with syntax highlighting if JavaScript is enabled or a normal textarea input dialog.\\

\subsection{SCREDIT\_newScriptTemplate}
\textbf{Description:} Returns a template for a basic script.\\
\textbf{Returns:}
\begin{itemize}
\item Text of the script template.
\end{itemize}

\newpage\section{./inc/server.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: functions for getting information from the server\\

\subsection{SERVER\_logLocalScreenSessionToFile}
\textbf{Description:} Logs the output of a local screen session to a file.\\
\textbf{Parameter:}
\begin{itemize}
\item session: name screen session to log.
\item user: user the script runs under
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Full path to the log file.
\end{itemize}

\subsection{SERVER\_setSSLCertCheckDisabled}
\textbf{Description:} Sets, if the SSL certificate check is disabled globally for all clients.\\
\textbf{Parameter:}
\begin{itemize}
\item : disableSSLCertCheck: true, if the check is disabled otherwise false.
\end{itemize}

\subsection{SERVER\_isSSLCertCheckDisabled}
\textbf{Description:} Determines, if the SSL certificate check is disabled globally for all clients.\\
\textbf{Returns:}
\begin{itemize}
\item : true, if the check is disabled otherwise false.
\end{itemize}

\subsection{SERVER\_setServerSetting}
\textbf{Description:} Sets the value of a server setting.\\
\textbf{Parameter:}
\begin{itemize}
\item : var: Name of the setting.
\item : val: Value of the setting.
\end{itemize}

\subsection{SERVER\_getServerSetting}
\textbf{Description:} Gets the value of a server setting.\\
\textbf{Parameter:}
\begin{itemize}
\item : var: Name of the setting.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : Value the setting.
\end{itemize}

\subsection{SERVER\_existsServerSetting}
\textbf{Description:} Checks, if a named server setting exists in the DB.\\
\textbf{Parameter:}
\begin{itemize}
\item : var: Name of the setting.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : True if the setting exists.
\end{itemize}

\subsection{SERVER\_killPID}
\textbf{Description:} Kills a process running under a given PID or sends a signal.\\
\textbf{Parameter:}
\begin{itemize}
\item : pid: The PID of the process to kill.
\item : signal: The signal to send to the process.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : True if the process was killed or got the signal.
\end{itemize}

\subsection{SERVER\_killBackgroundJob}
\textbf{Description:} Kills a job (that runs in screen) with a given name.\\
\textbf{Parameter:}
\begin{itemize}
\item job: Name of the job that should be killed.
\item user: User the job runs under.
\end{itemize}

\subsection{SERVER\_insertLineNumber}
\textbf{Description:} Inserts a text AT or AFTER a line number or creates a new file with the given name, if it doesn't exists.\\
\textbf{Parameter:}
\begin{itemize}
\item file: the name of the file
\item lineNumber: reference line number for inserting
\item insertText: text to insert
\item mode: The access mode the newly created file should have.
\item insertMode: "0" insert AT, "1" insert AFTER line number
\item addIfNotExists: set to true, if the the line should be added only if the line doesn't exist. false, if the line should be added on every execution.
\end{itemize}

\subsection{SERVER\_addAdmin}
\textbf{Description:} Adds an administrator with all access rights.\\
\textbf{Parameter:}
\begin{itemize}
\item newadmin: Name of the new admin to create.
\item password: Password for the admin account.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : true, if the deletion was sucessfully otherwise false.
\end{itemize}

\subsection{SERVER\_delAdmin}
\textbf{Description:} Deletes an administrator with all access rights.\\
\textbf{Parameter:}
\begin{itemize}
\item name: Name of the admin to delete.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : true, if the deletion was sucessfully otherwise false.
\end{itemize}

\subsection{SERVER\_fileExists}
\textbf{Description:} Checks if a file exits, that the Apache user has never access to.\\
\textbf{Parameter:}
\begin{itemize}
\item : file: Name (with full path) of the file to check.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : True, if the file exists other wise false.
\end{itemize}

\subsection{SERVER\_getPublicSSHKeyOfm23Server}
\textbf{Description:} Returns the public SSH key of the m23 server.\\
\textbf{Returns:}
\begin{itemize}
\item : Public SSH key of the m23 server.
\end{itemize}

\subsection{SERVER\_changeHtpasswd}
\textbf{Description:} Changes the password of a user in a htpasswd file.\\
\textbf{Parameter:}
\begin{itemize}
\item : htpasswdFile: htpasswd file that contains user names and crypted passwords.
\item : username: Name of the user to change
\item : password: The according new password
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : True if the password was changed sucessfully.
\end{itemize}

\subsection{SERVER\_delFromHtpasswd}
\textbf{Description:} Removes a user with password to a htpasswd file.\\
\textbf{Parameter:}
\begin{itemize}
\item : htpasswdFile: htpasswd file that contains user names and crypted passwords.
\item : username: Name of the user to remove
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : True if the new user was added sucessfully.
\end{itemize}

\subsection{SERVER\_addToHtpasswd}
\textbf{Description:} Adds a new user with password to a htpasswd file.\\
\textbf{Parameter:}
\begin{itemize}
\item : htpasswdFile: htpasswd file that contains user names and crypted passwords.
\item : username: Name of the new user to add
\item : password: The according password for the new user
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : True if the new user was added sucessfully.
\end{itemize}

\subsection{SERVER\_dhcpServerInNetWarn}
\textbf{Description:} Shows an error message if there is found another DHCP server on the net.\\
\textbf{Returns:}
\begin{itemize}
\item : false, if the IP address is static.
\end{itemize}

\subsection{SERVER\_sendScriptToSF}
\textbf{Description:} Uploads a script to m23.sf.net for public use.\\
\textbf{Parameter:}
\begin{itemize}
\item name: Name of the script.
\item author: Name of the script author.
\item description: Short descriptive text for the purpose of the script.
\item script: Source code of the script.
\end{itemize}

\subsection{SERVER\_dynamicIPWarn}
\textbf{Description:} Shows an error message if the m23 server has a dynmic IP address.\\
\textbf{Returns:}
\begin{itemize}
\item : false, if the IP address is static.
\end{itemize}

\subsection{SERVER\_tmpNotWritable}
\textbf{Description:} Shows an error message if /tmp is not writable.\\
\textbf{Returns:}
\begin{itemize}
\item : false, if /tmp is writable.
\end{itemize}

\subsection{SERVER\_rootFreeSpace}
\textbf{Description:} Shows an error message if the free space of the root partition is low.\\
\textbf{Returns:}
\begin{itemize}
\item : false, if there is enough space.
\end{itemize}

\subsection{SERVER\_isProgramRunning}
\textbf{Description:} checks if a certain program is running and returns true, if yes "no" otherwise\\
\textbf{Parameter:}
\begin{itemize}
\item progname: the name of the programm (e.g. "apache" for the Apache web server)
\end{itemize}

\subsection{SERVER\_checkPackageInstalled}
\textbf{Description:} checks if a certain package is installed\\
\textbf{Parameter:}
\begin{itemize}
\item pkgName: the name of the package
\end{itemize}

\subsection{SERVER\_daemonStartStop}
\textbf{Description:} starts, stops and restarts daemons\\
\textbf{Parameter:}
\begin{itemize}
\item daemonScript: the file name of the script, that handles the real starting, stopping and restarting and understands the \$action
\item action: start, stop or restart
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : true on successfully execution otherwise false.
\end{itemize}

\subsection{SERVER\_installTool}
\textbf{Description:} installs a tool on the server\\
\textbf{Parameter:}
\begin{itemize}
\item pkgName: name of the software package
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : true on successfully execution otherwise false.
\end{itemize}

\subsection{SERVER\_programmStatus}
\textbf{Description:} shows a row with information about the status of a certain program, with the possibillity to start, stop or restart the program.\\
\textbf{Parameter:}
\begin{itemize}
\item progname: the name of the programm (e.g. "apache" for the Apache web server)
\item daemonScript: set it to the script that should be used for starting, stopping and restarting. If the script name isn't set, this is a normal tool and NOT a daemon.
\item canBeInstalled: set to "true" if the programm can be installed by the package name
\end{itemize}

\subsection{SERVER\_apacheInfo}
\textbf{Description:} returnes an information string for the Apache server\\

\subsection{SERVER\_mysqlInfo}
\textbf{Description:} returnes an information string for the MySQL server\\

\subsection{SERVER\_dhcpInfo}
\textbf{Description:} returnes an information string for the DHCP server\\

\subsection{SERVER\_LDAPInfo}
\textbf{Description:} Returnes an information string for the LDAP server.\\

\subsection{SERVER\_programmStatusTableHeader}
\textbf{Description:} shows the header of the table needed for the programm status lines\\

\subsection{SERVER\_runInBackground}
\textbf{Description:} Runs a script with "screen" in the background under a given user\\
\textbf{Parameter:}
\begin{itemize}
\item jobName: name of the job screen should show
\item cmds: the commands of the script 
\item user: user the script should be run under
\item runInScreen: Set to true if the execution should be done in "screen". False executes it under the normal BASH.
\end{itemize}

\subsection{SERVER\_runningInBackground}
\textbf{Description:} Returns "true" if a lock file for a given job name is existing.\\
\textbf{Parameter:}
\begin{itemize}
\item jobName: name of the job
\end{itemize}

\subsection{SERVER\_runningInScreen}
\textbf{Description:} Returns "true" if a screen session with a given name exists for a given user.\\
\textbf{Parameter:}
\begin{itemize}
\item jobName: name of the job.
\item user: User the screen session is run under.
\end{itemize}

\subsection{SERVER\_addLineToFile}
\textbf{Description:} Adds (if the search pattern can't be found) a line to a file on the server\\
\textbf{Parameter:}
\begin{itemize}
\item file: name of the file to edit
\item search: the search pattern
\item add: the line to add
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : true on successfully execution otherwise false.
\end{itemize}

\subsection{SERVER\_deleteFile}
\textbf{Description:} Deletes a file from the server.\\
\textbf{Parameter:}
\begin{itemize}
\item fileName: Name of the file to delete.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : true on successfully execution otherwise false.
\end{itemize}

\subsection{SERVER\_getFileContents}
\textbf{Description:} Get the contents of any file (even if only readable by root).\\
\textbf{Parameter:}
\begin{itemize}
\item fileName: Name of the file to read.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : Contents of the file
\end{itemize}

\subsection{SERVER\_putFileContents}
\textbf{Description:} Stores a text to a file and changes it's mode, user and group.\\
\textbf{Parameter:}
\begin{itemize}
\item fileName: Name of the file to put the text to.
\item text: The contents the file should have.
\item mode: The access mode the file should have.
\item user: The owner of the file.
\item group: The owning group of the file.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true on success and false otherwise.
\end{itemize}

\subsection{SERVER\_delLineFromFile}
\textbf{Description:} Deletes lines from the file that match the search pattern\\
\textbf{Parameter:}
\begin{itemize}
\item file: name of the file to edit
\item search: the search pattern
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : true on successfully execution otherwise false.
\end{itemize}

\subsection{SERVER\_addEtcHosts}
\textbf{Description:} Adds a host to /etc/hosts and /etc/backuppc/hosts (if it doesn't exists allready)\\
\textbf{Parameter:}
\begin{itemize}
\item hostname: name of the host to add
\item ip: its IP
\end{itemize}

\subsection{SERVER\_delEtcHosts}
\textbf{Description:} Deletes a host entry from /etc/hosts and /etc/backuppc/hosts\\
\textbf{Parameter:}
\begin{itemize}
\item hostname: name of the host to delete
\end{itemize}

\subsection{SERVER\_getInstallationMedium}
\textbf{Description:} Tries to figure out how the m23 server was installed\\
\textbf{Returns:}
\begin{itemize}
\item : CD, Internet or Unknown source.
\end{itemize}

\subsection{SERVER\_getOS}
\textbf{Description:} Returns the version string of the distribution.\\
\textbf{Returns:}
\begin{itemize}
\item : version string.
\end{itemize}

\subsection{SERVER\_checkDownload}
\textbf{Description:} Downloads a special file from m23.sf.net and checks if the size and md5 sum are matching.\\
\textbf{Parameter:}
\begin{itemize}
\item : useProxy: Set to true if the local proxy should be used.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : Status information if file size and md5 sum are matching.
\end{itemize}

\subsection{SERVER\_checkDiskFree}
\textbf{Description:} Reports the free space of all mounted media.\\
\textbf{Returns:}
\begin{itemize}
\item : Output of "df".
\end{itemize}

\subsection{SERVER\_checkRunInVM}
\textbf{Description:} Checks if the m23 server is executed in a virtual machine or on native hardware.\\
\textbf{Returns:}
\begin{itemize}
\item : VMWare, VirtualBox or native.
\end{itemize}

\subsection{SERVER\_checkKernel}
\textbf{Description:} Returns the kernel information string of "uname -a".\\
\textbf{Returns:}
\begin{itemize}
\item : Kernel information string.
\end{itemize}

\subsection{SERVER\_multiMkDir}
\textbf{Description:} Creates a directory and all needed directories on the way to the destination path.\\
\textbf{Parameter:}
\begin{itemize}
\item path: The complete path to create.
\item mode: The access mode of the path to create (should start with "0" e.g. 0777)
\end{itemize}

\subsection{SERVER\_commandAvailable}
\textbf{Description:} Checks, if a given command is available for the given user.\\
\textbf{Parameter:}
\begin{itemize}
\item user: user the command should be run under.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : true when the command is available otherwise false.
\end{itemize}

\newpage\section{./inc/sourceslist.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: function to generate the sources.list for the client\\

\subsection{SRCLST\_getAddToFile}
\textbf{Description:} Returns addToFile paramters from the given sources list as an associative array, where file name and file contents are seperated.\\
\textbf{Parameter:}
\begin{itemize}
\item sourceName: The name of the package source list
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : Associative array with file name and file contents (e.g. [0] =$>$ Array ([file] =$>$ file1.txt, [text] =$>$ text1), [1] =$>$ Array ([file] =$>$ file2.txt, [text] =$>$ text2), ...)
\end{itemize}

\subsection{SRCLST\_getRelease}
\textbf{Description:} Gets a release from the sourceslist table.\\
\textbf{Parameter:}
\begin{itemize}
\item name: the name of the package source list
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Release name of choosen sources list.
\end{itemize}

\subsection{SRCLST\_genList}
\textbf{Description:} generates the sources.list file for the client\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: the name of the client
\end{itemize}

\subsection{SRCLST\_saveArchitectures}
\textbf{Description:} Saves the architectures for package source list.\\
\textbf{Parameter:}
\begin{itemize}
\item sourceName: the name of the package source list
\item archs: Associative array with the supported CPU architectures.
\end{itemize}

\subsection{SRCLST\_saveList}
\textbf{Description:} saves the package source list\\
\textbf{Parameter:}
\begin{itemize}
\item name: the name of the package source list
\item list: the list of sources as simple text
\item description: a descriptive text for the list
\item distr: the name of the distribution the list is for
\item release: the name of the release the list is for
\end{itemize}

\subsection{SRCLST\_querySourceslists}
\textbf{Description:} returns the result of the DB query after sourceslists for a special distribution\\
\textbf{Parameter:}
\begin{itemize}
\item distr: the distribution the sources list is for or "*" for all distributions
\end{itemize}

\subsection{SRCLST\_genSelection}
\textbf{Description:} generates a HTML selection with the names of alls package sources\\
\textbf{Parameter:}
\begin{itemize}
\item selName: the name of the selection
\item first: the package source that should be shown first
\item distr: the distribution the sources list is for or "*" for all distributions
\end{itemize}

\subsection{SRCLST\_getValue}
\textbf{Description:} gets a value from the sourceslist table\\
\textbf{Parameter:}
\begin{itemize}
\item name: the name of the package source list
\item var: the name of the table row
\end{itemize}

\subsection{SRCLST\_loadSourceList}
\textbf{Description:} loads and returnes the the package source list\\
\textbf{Parameter:}
\begin{itemize}
\item name: the name of the package source list
\end{itemize}

\subsection{SRCLST\_getDescription}
\textbf{Description:} returnes the the package source description\\
\textbf{Parameter:}
\begin{itemize}
\item name: the name of the package source list
\end{itemize}

\subsection{SRCLST\_delete}
\textbf{Description:} deletes package source\\
\textbf{Parameter:}
\begin{itemize}
\item name: the name of the package source list
\end{itemize}

\subsection{SRCLST\_checkList}
\textbf{Description:} checks a package info and returns the output of the OS package update function\\
\textbf{Parameter:}
\begin{itemize}
\item sourceName: the name of the package source list
\end{itemize}

\subsection{SRCLST\_packageInformationChangeInformationHumanReadable}
\textbf{Description:} Returns the time point when the package information was changed last.\\
\textbf{Parameter:}
\begin{itemize}
\item distr: the short name of the distribution
\item sourceName: the name of the package source list
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : Time when the package information was changed last.
\end{itemize}

\subsection{SRCLST\_packageInformationChangeTime}
\textbf{Description:} Returns the time point when the package information was changed last.\\
\textbf{Parameter:}
\begin{itemize}
\item distr: the short name of the distribution
\item sourceName: the name of the package source list
\item changedBefore: Amount of seconds before the package information was changed.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : Time when the package information was changed last.
\end{itemize}

\subsection{SRCLST\_packageInformationOlderThan}
\textbf{Description:} Checks if a package info is older than a selected amount of minutes or if the package info directory is too smal.\\
\textbf{Parameter:}
\begin{itemize}
\item minutes: the amount of minutes the package information can be older to return true
\item distr: the short name of the distribution
\item sourceName: the name of the package source list
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : true when package info is older than a selected amount of minutes or if the package info directory is too smal, otherwise false.
\end{itemize}

\subsection{SRCLST\_getStorageFS}
\textbf{Description:} Returns a file systems that can be used to install the OS and to store data. A wished file system is given and an alternative FS is returned, if this FS is not supported.\\
\textbf{Parameter:}
\begin{itemize}
\item fs: File system to probe.
\item sourceName: The name of the package source list
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : File systems that can be used to install the OS and to store data
\end{itemize}

\subsection{SRCLST\_supportedFS}
\textbf{Description:} Returns an array with file systems that supported by the OS.\\
\textbf{Parameter:}
\begin{itemize}
\item sourceName: The name of the package source list
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : Array with file systems supported by the OS.
\end{itemize}

\subsection{SRCLST\_alternativeFS}
\textbf{Description:} Returns the alternative file system that is supported by the OS.\\
\textbf{Parameter:}
\begin{itemize}
\item sourceName: The name of the package source list
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : File system.
\end{itemize}

\subsection{SRCLST\_getParameter}
\textbf{Description:} Returns special parameter(s) from the given sources list.\\
\textbf{Parameter:}
\begin{itemize}
\item sourceName: The name of the package source list
\item parameter: The name of the parameter.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : Values for the given parameter in an array.
\end{itemize}

\subsection{SRCLST\_getMirror}
\textbf{Description:} returns the mirror from the sources list\\
\textbf{Parameter:}
\begin{itemize}
\item sourceName: the name of the package source list
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item URL to the mirror
\end{itemize}

\subsection{SRCLST\_getDesktopList}
\textbf{Description:} returnes an array with all supported desktops\\
\textbf{Parameter:}
\begin{itemize}
\item sourceName: the name of the package source list
\end{itemize}

\subsection{SRCLST\_showDesktopsSel}
\textbf{Description:} returnes a selections with all desktops supported by the sources list\\
\textbf{Parameter:}
\begin{itemize}
\item sourceName: the name of the package source list
\item selName: the name of the selection
\item first: the desktop that should be shown first
\end{itemize}

\subsection{SRCLST\_doesDistrSupportEFI}
\textbf{Description:} Checks, if a sources list contains a distribution that supports EFI.\\
\textbf{Parameter:}
\begin{itemize}
\item sourceName: the name of the package source list
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the distribution supports EFI, otherwise false.
\end{itemize}

\subsection{SRCLST\_getListnamesWithEfiSupport}
\textbf{Description:} Gets a list with all sources lists that support EFI.\\
\textbf{Returns:}
\begin{itemize}
\item Array with all sources lists that support EFI.
\end{itemize}

\subsection{SRCLST\_clientUsesEfiButSourcesListDoesntSupportEfi}
\textbf{Description:} Checks, if the client uses EFI and the choosen sources list doesn't.\\
\textbf{Parameter:}
\begin{itemize}
\item client: Name of the client.
\item sourceName: The name of the package source list.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : true, if the client uses EFI and the choosen sources list doesn't, otherwise false.
\end{itemize}

\subsection{SRCLST\_showErrorIfClientUsesEfiButSourcesListDoesntSupportEfi}
\textbf{Description:} Shows an error message, if the client uses EFI and the choosen sources list doesn't.\\
\textbf{Parameter:}
\begin{itemize}
\item client: Name of the client.
\item sourceName: The name of the package source list.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : false, if the client uses EFI and the choosen sources list doesn't, otherwise true.
\end{itemize}

\subsection{SRCLST\_showAlternativeArchitectureSelection}
\textbf{Description:} Shows a list with available CPU architectures of the sources list, in case that the wanted architecture is not available in the sources list. The alternative architecture will be written to the arch option of the client.\\
\textbf{Parameter:}
\begin{itemize}
\item sourceName: The name of the package source list.
\item wantedArch: The CPU architecture of the m23 client.
\item client: Name of the client.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item : A CPU architecture supported by the package source list.
\end{itemize}

\subsection{SRCLST\_isArchAvailable}
\textbf{Description:} Checks if a given architecture is supported by the sources list.\\
\textbf{Parameter:}
\begin{itemize}
\item sourceName: the name of the package source list
\item arch: Architecture to check for.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, if the architecture is supported, false otherwise.
\end{itemize}

\subsection{SRCLST\_getArchitectures}
\textbf{Description:} Returnes a list of all CPU architectures supported by the sources list.\\
\textbf{Parameter:}
\begin{itemize}
\item sourceName: the name of the package source list
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Associative array with the supported CPU architectures as variable AND key.
\end{itemize}

\subsection{SRCLST\_showEditor}
\textbf{Description:} shows an editor for sources lists\\
\textbf{Parameter:}
\begin{itemize}
\item poolName: if it is set, the editor shows a package download dialog for the selected pool
\end{itemize}

\subsection{SRCLST\_getListnames}
\textbf{Description:} Returns an array that contains all sourceslist names\\
\textbf{Parameter:}
\begin{itemize}
\item distr: the distribution the sources list is for or "*" for all distributions
\end{itemize}

\subsection{SRCLST\_cleanList}
\textbf{Description:} Returns an array with all lines of the sources list that contain Debian sources\\
\textbf{Parameter:}
\begin{itemize}
\item list: the contents of the sources list
\end{itemize}

\subsection{SRCLST\_matchList}
\textbf{Description:} Returns the name of the sources list that matches the searched sources list contents for the distribution or false\\
\textbf{Parameter:}
\begin{itemize}
\item distr: the distribution to search the name of the sources list under
\item search: the contents of the sources list to search
\end{itemize}

\newpage\section{./inc/update.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: functions for updating the server\\

\subsection{UPDATE\_doUpdate}
\textbf{Description:} downloads and executes the update script.\\
\textbf{Parameter:}
\begin{itemize}
\item URL: url to fetch the update file from
\end{itemize}

\subsection{UPDATE\_running}
\textbf{Description:} checks, if an update is running (returns true otherwise false)\\

\subsection{UPDATE\_getUrl}
\textbf{Description:} returnes a correct URL to the update source\\
\textbf{Parameter:}
\begin{itemize}
\item base: URL to the update script
\item command: "info" or "cmd"
\item version: m23 version
\item patchLevel: patch version number
\end{itemize}

\subsection{UPDATE\_getInfo}
\textbf{Description:} returns the information text from the URL\\
\textbf{Parameter:}
\begin{itemize}
\item URL: URL to the information text
\item refreshTime: The time in minutes the file is downloaded again.
\end{itemize}

\newpage\section{./inc/vm.php}
 Author: Hauke Goos-Habermann (HHabermann@pc-kiel.de)\\
 Description: Functions for managing virtual clients.\\

\subsection{VM\_captureVMScreenAsMovie}
\textbf{Description:} Enables/disables capturing the screen of a VM to a movie file.\\
\textbf{Parameter:}
\begin{itemize}
\item type: VM\_SW\_VBOX for VirtualBox OSE
\item vmname: Name of the VM.
\item enable: true for enabling the capturing, false for disabling.
\item movieFile: File to store the capturing in.
\item width: Width of the movie.
\item height: Height of the movie.
\item rate: Bitrate of the movie.
\item fps: Frames per second
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item BASH code for enabling/disabling the capturing of the VM's screens to a movie file.
\end{itemize}

\subsection{VM\_CloudStackDeleteClientVM}
\textbf{Description:} Deletes a virtual machine for use with m23 in CloudStack, only a cloudstack admin can recover it\\
\textbf{Parameter:}
\begin{itemize}
\item virtualMachineId:  CloudStack ID of the virtual machine
\item VMDeletionOK: True if VM was successfully deleted, false otherwise
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item ErrorMessages or Success messages, sets parameter VMDeletionOK (true if all went well, false if an error ocurred)
\end{itemize}

\subsection{VM\_isCloudStackClient}
\textbf{Description:} Checks, if the client is run in CloudStack\\
\textbf{Returns:}
\begin{itemize}
\item true, when the client is run in CloudStack otherwise false.
\end{itemize}

\subsection{VM\_CloudStackCheckConstants}
\textbf{Description:} Checks, if the given constant values are valid.\\
\textbf{Parameter:}
\begin{itemize}
\item CLOUDSTACK\_API\_ENDPOINT: The API entpoint.
\item CLOUDSTACK\_API\_KEY: The API key.
\item CLOUDSTACK\_SECRET\_KEY: The secret API key.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true, when the constant values are valid otherwise false.
\end{itemize}

\subsection{VM\_CloudStackConfigGUI}
\textbf{Description:} Shows a dialog for editing the CloudStack config file and uploading the m23 client ISO.\\

\subsection{VM\_CloudStackWriteConfFile}
\textbf{Description:} Writes the CloudStack config file or writes a basic config file, if it does not exist.\\
\textbf{Parameter:}
\begin{itemize}
\item overwrite: Set to true, if the config file should be overwritten in any case.
\item CLOUDSTACK\_API\_ENDPOINT: The API endpoint.
\item CLOUDSTACK\_API\_KEY: The API key.
\item CLOUDSTACK\_SECRET\_KEY: The secret API key.
\item CLOUDSTACK\_SERVICE\_OFFERING\_ID: The virtual CPU and RAM combination to use for a new VM.
\item CLOUDSTACK\_TEMPLATE\_ID: The ID of the m23 client installation ISO.
\item CLOUDSTACK\_NETWORKIDS: The ID of the network to use.
\item CLOUDSTACK\_DISK\_OFFERING\_ID: The virtual hard disk type.
\end{itemize}

\subsection{VM\_CloudStackUploadIso}
\textbf{Description:} Uploads and registers a new bootable ISO file into cloudstack from a given website\\
\textbf{Parameter:}
\begin{itemize}
\item isoName: the name you choose for the ISO file 
\item isoUrl: the url from where you want cloudstack to download the ISO file
\item zoneID: The ID of the CloudStack zone.
\item isoUploadSuccess: is set to True if action succeeded, false otherwise
\item isoID: is set to Cloudstack-Iso-ID if action succeeded, otherwise not set
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item textmessage about result (errormessage or success message) and sets isoUploadSuccess to True if action succeeded, false otherwise, sets isoID to Iso-ID
\end{itemize}

\subsection{VM\_CloudStackEnablePortForwarding}
\textbf{Description:} creates a port forwarding rule for a virtual machine, with private port and public port being the same\\
\textbf{Parameter:}
\begin{itemize}
\item virtualMachineId: the cloudstack ID of the virtual machine to which the rule shall apply
\item pFSuccess: is set to true, if the rule was created
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item textmessage about result (errormessage or success message) and sets pFSuccess to True if action succeeded, false otherwise
\end{itemize}

\subsection{VM\_CloudStackDisablePortForwarding}
\textbf{Description:} deletes a port forwarding rule for a virtual machine, with private port and public port being the same (CLOUDSTACK\_X2GO\_PORTNUMBER)\\
\textbf{Parameter:}
\begin{itemize}
\item virtualMachineId: the cloudstack ID of the virtual machine from which the port forwarding rule shall be deleted
\item pFDSuccess: is set to true, if the rule was deleted successfully
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item textmessage about result (errormessage or success message) and sets pFDSuccess to True if action succeeded, false otherwise
\end{itemize}

\subsection{VM\_CloudStackSendSetVisualURL}
\textbf{Description:} Sends the visual URL (current client ip:22) to the m23 server, if run under CloudStack.\\

\subsection{VM\_CloudStackStartVM}
\textbf{Description:} starts a virtual machine in CloudStack\\
\textbf{Parameter:}
\begin{itemize}
\item clientname: CloudStack name of the instance / name of the m23 client.
\item startVMOK: true if started successfully or already running, false otherwise
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item textmessage with result of start or error message
\end{itemize}

\subsection{VM\_CloudStackStopVM}
\textbf{Description:} stops a virtual machine in CloudStack\\
\textbf{Parameter:}
\begin{itemize}
\item clientname: CloudStack name of the instance / name of the m23 client.
\item stopVMOK: true if stopped successfully or already stopped, false otherwise
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item textmessage with result of stop or error message
\end{itemize}

\subsection{VM\_CloudStackGetVMStatus}
\textbf{Description:} gets the status of a virtual machine\\
\textbf{Parameter:}
\begin{itemize}
\item clientname: CloudStack name of the instance / name of the m23 client.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item textmessage with machine status (like 'Running' or 'Stopped') or FALSE if no status could be retrieved (e.g. if machine doesn't exist)
\end{itemize}

\subsection{VM\_CloudStackClientName2ClientID}
\textbf{Description:} returns the Cloudstack-ID of a client with the given client host name\\
\textbf{Parameter:}
\begin{itemize}
\item clientname: Host name of the virtual machine
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Cloudstack-Client-ID if the clientname can be retrieved, False otherwise 
\end{itemize}

\subsection{VM\_CloudStackNetBootActivate}
\textbf{Description:} attaches/exchanges or removes (if any) a network boot ISO to or from the client\\
\textbf{Parameter:}
\begin{itemize}
\item clientname: CloudStack name of the instance / name of the m23 client.
\item activate: TRUE for attaching ISO, FALSE for removing
\item nBASuccess: is set to True if action succeeded, false otherwise
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item textmessage about result (errormessage or success message) and sets nBASuccess to True if action succeeded, false otherwise
\end{itemize}

\subsection{VM\_CloudStackCreateVM}
\textbf{Description:} Creates a virtual machine for use with m23 in CloudStack\\
\textbf{Parameter:}
\begin{itemize}
\item name: Name of the virtual machine, can contain ASCII letters 'a' through 'z', the digits '0' through '9', and the hyphen ('-'), must be between 1 and 63 characters long, and can't start or end with "-" and can't start with digit
\item zoneID: zoneID for CloudStack
\end{itemize}

\subsection{VM\_CloudStack\_getServerIP}
\textbf{Description:} Gets the external m23 server IP if the m23 server is run as CloudStack VM.\\
\textbf{Returns:}
\begin{itemize}
\item External m23 server IP.
\end{itemize}

\subsection{VM\_GUIstepCreateCloudStackVM}
\textbf{Description:} Shows a dialog to create a new VM in CloudStack.\\

\subsection{VM\_CloudStack\_available}
\textbf{Description:} Checks, if the CloudStack configuration file is included and contains the needed constants.\\
\textbf{Returns:}
\begin{itemize}
\item true, if the CloudStack are present.
\end{itemize}

\subsection{VM\_CloudStack\_getObject}
\textbf{Description:} Gets a new CloudStackClient object.\\
\textbf{Parameter:}
\begin{itemize}
\item CLOUDSTACK\_API\_ENDPOINT: The API entpoint.
\item CLOUDSTACK\_API\_KEY: The API key.
\item CLOUDSTACK\_SECRET\_KEY: The secret API key.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item New CloudStackClient object.
\end{itemize}

\subsection{VM\_CloudStack\_getVersion}
\textbf{Description:} Gets the version of CloudStack.\\
\textbf{Returns:}
\begin{itemize}
\item CloudStack version.
\end{itemize}

\subsection{VM\_shutdownAndDisableNetbootAfterInstall}
\textbf{Description:} Reboots an VM and disables network booting.\\
\textbf{Parameter:}
\begin{itemize}
\item vmname: Name of the VM.
\end{itemize}

\subsection{VM\_rebootAndActivateNetboot}
\textbf{Description:} Reboots an VM and activates network booting.\\
\textbf{Parameter:}
\begin{itemize}
\item vmname: Name of the VM.
\end{itemize}

\subsection{VM\_shutdownAndDisableNetbootAfterInstall}
\textbf{Description:} Shuts down an VM and disables network booting.\\
\textbf{Parameter:}
\begin{itemize}
\item vmName: Name of the VM.
\end{itemize}

\subsection{VM\_shutdownAndDisableNetboot}
\textbf{Description:} Generates a BASH command to shut down an VM and to disable network booting.\\
\textbf{Parameter:}
\begin{itemize}
\item type: VM\_SW\_VBOX for VirtualBox OSE
\item vmname: Name of the VM.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item BASH code to shut down an VM and to disable network booting.
\end{itemize}

\subsection{VM\_rebootChangeBootDevice}
\textbf{Description:} Generates a BASH command to reboot an VM and to disable network booting.\\
\textbf{Parameter:}
\begin{itemize}
\item type: VM\_SW\_VBOX for VirtualBox OSE
\item vmname: Name of the VM.
\item visual: If set to true, the VM should be run in visual mode otherwise in headless mode.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item BASH code to reboot an VM and to disable network booting.
\end{itemize}

\subsection{VM\_getVBoxVersion}
\textbf{Description:} Get the currently installed VirtualBox version of the host.\\
\textbf{Parameter:}
\begin{itemize}
\item clientNameOrIP: The name of the client or localhost or an IP.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The version number of VirtualBox.
\end{itemize}

\subsection{VM\_setVBoxAddonAsDefault}
\textbf{Description:} Sets a choosen VirtualBox addition package version as default.\\
\textbf{Parameter:}
\begin{itemize}
\item version: Version number of the VirtualBox addition to set as default.
\end{itemize}

\subsection{VM\_downloadedVBoxAddons}
\textbf{Description:} Lists all VirtualBox addition package versions that can be downloaded from the m23 server.\\
\textbf{Returns:}
\begin{itemize}
\item Associative array with ther version numbers of all VirtualBox addition packages that can be downloaded from the m23 server.
\end{itemize}

\subsection{VM\_getVBoxAddonDefaultVersion}
\textbf{Description:} Gets the version number of the VirtualBox addition package.\\
\textbf{Returns:}
\begin{itemize}
\item The default version of the VirtualBox addition package.
\end{itemize}

\subsection{VM\_generateVBOXaddonDownloadCMD}
\textbf{Description:} Generates the download commands to download a VirtualBox addition ISO and to extract the addition installers for Linux.\\
\textbf{Parameter:}
\begin{itemize}
\item version: Version number of the VirtualBox addition to download and extract.
\end{itemize}

\subsection{VM\_downloadVBOXaddons}
\textbf{Description:} Downloads the VirtualBox addition ISOs and extracts the addition installers for Linux.\\
\textbf{Parameter:}
\begin{itemize}
\item checkedVersions: Array with all version numbers of the VirtualBox additions to download.
\end{itemize}

\subsection{VM\_VBOXaddonDownloadDialog}
\textbf{Description:} Shows a dialog for downloading the VirtualBox additions to the m23 server.\\

\subsection{VM\_wasVBoxAddonDownloaded}
\textbf{Description:} Checks, if the VirtualBox addition for a selected version was downloaded to the m23 server.\\
\textbf{Parameter:}
\begin{itemize}
\item version: Version number of the VirtualBox addition to look for.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item True, if the addition is there.
\end{itemize}

\subsection{VM\_listDownloadableVBoxAddons}
\textbf{Description:} Returns an array with the version numers of all VirtualBox addition ISOs that are 2.0.0 and above.\\
\textbf{Returns:}
\begin{itemize}
\item Array with the version numers of all VirtualBox addition ISOs that are 2.0.0 and above as key and value.
\end{itemize}

\subsection{VM\_stopVM}
\textbf{Description:} Generates a BASH command to stop a virtual machine.\\
\textbf{Parameter:}
\begin{itemize}
\item type: VM\_SW\_VBOX for VirtualBox OSE
\item vmname: Name of the VM.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item BASH code to stop a virtual machine.
\end{itemize}

\subsection{VM\_pauseVM}
\textbf{Description:} Generates a BASH command to pause a virtual machine.\\
\textbf{Parameter:}
\begin{itemize}
\item type: VM\_SW\_VBOX for VirtualBox OSE
\item vmname: Name of the VM.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item BASH code to pause a virtual machine.
\end{itemize}

\subsection{VM\_resumeVM}
\textbf{Description:} Generates a BASH command to resume a virtual machine.\\
\textbf{Parameter:}
\begin{itemize}
\item type: VM\_SW\_VBOX for VirtualBox OSE
\item vmname: Name of the VM.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item BASH code to resume a virtual machine.
\end{itemize}

\subsection{VM\_webAction}
\textbf{Description:} Executes an action for a VM controlled by the web UI.\\
\textbf{Parameter:}
\begin{itemize}
\item vmName: Name of the VM.
\item action: Action for the VM given by the URL parameter.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item True if the command can be executed otherwise false.
\end{itemize}

\subsection{VM\_delete}
\textbf{Description:} Deletes a virtual machine from a VM host.\\
\textbf{Parameter:}
\begin{itemize}
\item vmname: Name of the VM.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item true if it's an VM or false if not.
\end{itemize}

\subsection{VM\_vmSwNr2Name}
\textbf{Description:} Converts the VM software constant (VM\_SW\_*) to the human readable name.\\
\textbf{Parameter:}
\begin{itemize}
\item vmType: Code number of the virtualisation software.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Human readable name of the VM software.
\end{itemize}

\subsection{VM\_getHTMLStatusBlock}
\textbf{Description:} Generates and returns a status block in a HTML table with informations (VM host, VM software, VM power switch state, visual console URL and password, VM NICs) about the selected VM client.\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: Name of the VM client.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item HTML table with information about the VM.
\end{itemize}

\subsection{VM\_activateNetboot}
\textbf{Description:} (De)Activates network booting of a VM.\\
\textbf{Parameter:}
\begin{itemize}
\item vmName: Name of the VM.
\item activate: true for booting from network, false for booting from the HD.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item The message of the VM management tool or false if it's not a VM.
\end{itemize}

\subsection{VM\_convertSwitchStatusInfo}
\textbf{Description:} Returns the status of a VM guest in several ways.\\
\textbf{Parameter:}
\begin{itemize}
\item status: Status of the VM guest (one of VM\_STATE\_*)
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Associative array with: \$out['text']: The status as text in the current language. \$out['icon']: The icon of the given status (as traffic lights). \$out['imgTag']: The status as traffic light in an HTML img tag with the written status as title.
\end{itemize}

\subsection{VM\_getSWandHost}
\textbf{Description:} Gets the VM software and VM host of a m23 client.\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: Name of the virtualised client.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item \$out['vmSoftware']: The VM software used for the guest. \$out['vmHost']: The name of the VM host.
\end{itemize}

\subsection{VM\_getStatus}
\textbf{Description:} Returns the current status of a VM guest.\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: Name of the virtualised client.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Array with the current state of the VM or false is the client is no VM guest.
\end{itemize}

\subsection{VM\_GUIstepCreateGuest}
\textbf{Description:} Shows a dialog to create a new VM on the chosen host.\\

\subsection{VM\_GUIstepCheckHost}
\textbf{Description:} Shows a dialog part with information about the chose VM host.\\

\subsection{VM\_GUIstepSelectHost}
\textbf{Description:} Shows a dialog part for choosing the VM host.\\
\textbf{Parameter:}
\begin{itemize}
\item VM\_software: Code number of the virtualisation software.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Gives back the VM host or false if there is no host for the choosen virtualisation solution.
\end{itemize}

\subsection{VM\_getAllVMHosts}
\textbf{Description:} Returns a list of all VM hosts with a choosen virtualisation software.\\
\textbf{Parameter:}
\begin{itemize}
\item VM\_software: Code number of the virtualisation software.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Associative array with the hostname as key and value.
\end{itemize}

\subsection{VM\_setVisualURL}
\textbf{Description:} Sets the URL to connect to the visual management console.\\
\textbf{Parameter:}
\begin{itemize}
\item VMguest: Name of the guest that is run in the virtualisation software.
\item url: The URL to connect to the visual management console (e.g. 192.168.1.23:23 with VNC).
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item MySQL resource or false on error.
\end{itemize}

\subsection{VM\_setHostInDB}
\textbf{Description:} Sets the password for the login to the visual management console on the host for all guests, the host flag and the type of used virtualisation software.\\
\textbf{Parameter:}
\begin{itemize}
\item VMhost: Name of the host with the virtualisation software.
\item password: Password to set.
\item vmSoftware: Type of the virtualisation software.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item MySQL resource or false on error.
\end{itemize}

\subsection{VM\_setGuestInDB}
\textbf{Description:} Makes the client a VM guest in the DB.\\
\textbf{Parameter:}
\begin{itemize}
\item clientName: Name of the m23 client (VM guest)
\item VMSoftware: Type of the virtualisation software.
\item VMHostName: Name of the m23 client (VM host)
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item MySQL resource or false on error.
\end{itemize}

\subsection{VM\_statusIcons}
\textbf{Description:} Returns HTML codes that include the VM status icons of the client.\\
\textbf{Parameter:}
\begin{itemize}
\item param: Client's parameter array.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item HTML codes with included status icons.
\end{itemize}

\subsection{VM\_createDiskImage}
\textbf{Description:} Creates a new empty virtual harddisk image file.\\
\textbf{Parameter:}
\begin{itemize}
\item type: VM\_SW\_KVM for KVM or VM\_SW\_VBOX for VirtualBox OSE
\item vmname: Name of the VM.
\item diskname: Name of the image file without extension.
\item size: Size of the image file in MB.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item BASH code to create a virtual disk image.
\end{itemize}

\subsection{VM\_delVMCMD}
\textbf{Description:} Deletes a virtual machine.\\
\textbf{Parameter:}
\begin{itemize}
\item type: VM\_SW\_VBOX for VirtualBox OSE
\item vmname: Name of the VM.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item BASH code to delete a virtual machine.
\end{itemize}

\subsection{VM\_activateNetbootCMD}
\textbf{Description:} Generates a BASH command line to (de)activate network booting of a VM.\\
\textbf{Parameter:}
\begin{itemize}
\item type: VM\_SW\_VBOX for VirtualBox OSE
\item vmName: Name of the VM.
\item activate: true for booting from network, false for booting from the HD.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item BASH code to delete a virtual machine.
\end{itemize}

\subsection{VM\_createVM}
\textbf{Description:} Creates a virtual machine.\\
\textbf{Parameter:}
\begin{itemize}
\item type: VM\_SW\_VBOX for VirtualBox OSE
\item vmName: Name of the VM.
\item ramSize: Size of the memory in MB.
\item diskName: Name of the virtual harddisk file.
\item mac: MAC address of the virtual network card. It can be in the format 12:23:34:45:56:78 or 122334455678.
\item netDev: Device of the real network card that is used to let the VM communictae with the outer world.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item BASH code to create a virtual machine.
\end{itemize}

\subsection{VM\_insertBootISO}
\textbf{Description:} Inserts a bootable ISO into a VM.\\
\textbf{Parameter:}
\begin{itemize}
\item type: VM\_SW\_VBOX for VirtualBox OSE
\item vmName: Name of the VM.
\item iso: ISO file with full path.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item BASH code to insert a bootable ISO into a VM.
\end{itemize}

\subsection{VM\_startVMInExistingXSession}
\textbf{Description:} Starts a virtual machine in an existing X session.\\
\textbf{Parameter:}
\begin{itemize}
\item type: VM\_SW\_VBOX for VirtualBox OSE
\item vmName: Name of the VM.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item BASH code to start a virtual machine and finding the DISPLAY number of the user who runs this script.
\end{itemize}

\subsection{VM\_startVM}
\textbf{Description:} Starts a virtual machine.\\
\textbf{Parameter:}
\begin{itemize}
\item type: VM\_SW\_VBOX for VirtualBox OSE
\item vmName: Name of the VM.
\item vnc: Set to true if the VM should be accessible since the booting via VNC.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item BASH code to start a virtual machine.
\end{itemize}

\subsection{VM\_startVMCommandFile}
\textbf{Description:} Writes a command file with the command(s) to start the VM.\\
\textbf{Parameter:}
\begin{itemize}
\item vmName: Name of the VM.
\item cmd: Bash code to start the VM.
\end{itemize}

\subsection{VM\_stopVMCommandFile}
\textbf{Description:} Removes automatical staring of a VM by removing the command file.\\
\textbf{Parameter:}
\begin{itemize}
\item vmName: Name of the VM.
\end{itemize}

\subsection{VM\_status}
\textbf{Description:} Gets the current status of a virtual machine.\\
\textbf{Parameter:}
\begin{itemize}
\item type: VM\_SW\_VBOX for VirtualBox OSE
\item vmName: Name of the VM.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item BASH code to get the current status of a virtual machine or array containing the status of the VM.
\end{itemize}

\subsection{VM\_parseVBOXdisk}
\textbf{Description:} Parses a harddisk/DVD/floppy status line of VirtualBox.\\
\textbf{Parameter:}
\begin{itemize}
\item param: Parameter line that may contain the complete path to the image file or "empty".
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Name of the assigned image or false of the medium is empty.
\end{itemize}

\subsection{VM\_parseVBOXstate}
\textbf{Description:} Parses the status (on, off, paused) line of VirtualBox.\\
\textbf{Parameter:}
\begin{itemize}
\item param: Parameter line that contains the status string of the VM.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item VM\_STATE\_OFF, VM\_STATE\_PAUSE, VM\_STATE\_ON or false if the line could not be parsed.
\end{itemize}

\subsection{VM\_parseVBOXNic}
\textbf{Description:} Parses the status line of a virtual network card.\\
\textbf{Parameter:}
\begin{itemize}
\item param: Parameter line that contains the status string of the VM.
\end{itemize}
\textbf{Returns:}
\begin{itemize}
\item Array with the current state of the network device.
\end{itemize}

\subsection{VM\_parseStatus}
\textbf{Description:} Parses the complete status of a VM.\\
\textbf{Returns:}
\begin{itemize}
\item Array with the current state of the VM.
\end{itemize}
